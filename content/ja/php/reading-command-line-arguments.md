---
title:                "PHP: コマンドライン引数を読む"
programming_language: "PHP"
category:             "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/php/reading-command-line-arguments.md"
---

{{< edit_this_page >}}

# なぜコマンドライン引数を読むのか

コマンドライン引数を読むことは、プログラミングの世界で非常に一般的な作業です。これは、ユーザーが実行したいプログラムを指定するための方法として使用されます。コマンドライン引数により、プログラムは実行時に特定の設定を受け取ることができ、ユーザーによる対話なしでさまざまな操作を実行することができます。このブログポストでは、PHPでコマンドライン引数を読み取る方法について説明します。

## コマンドライン引数の読み取り方

PHPでコマンドライン引数を読み取るには、単純なファイルハンドリングと文字列操作を使用します。最初に、```$argv```という特別な変数を使用して、コマンドライン引数の配列を取得します。次に、繰り返し処理を使用して、配列の要素を一つずつ処理し、必要な操作を実行します。以下に、実際のコード例を示します。

```PHP
<?php
// ファイル名: cli_arguments.php

// コマンドライン引数の数をチェックする
if(count($argv) < 2) {
  echo "ファイル名を指定してください。";
  die; // プログラムを終了する
}

// ファイルをオープンする
$file = fopen($argv[1], "r");

// ファイルの内容を読み込む
while($line = fgets($file)) {
  // 行の前後の空白を削除する
  $line = trim($line);
  // 行を大文字に変換して出力する
  echo strtoupper($line) . "\n";
}

// ファイルをクローズする
fclose($file);

```

上記のコードは、コマンドライン引数としてファイル名を受け取り、そのファイルを開いて、大文字に変換して出力する非常に単純なプログラムです。この例では、コマンドライン引数の数をチェックし、不足している場合はエラーメッセージを表示してプログラムを終了します。このように、コマンドライン引数を利用することで、プログラムの柔軟性を高めることができます。

## コマンドライン引数の深層

コマンドライン引数を利用することで、プログラムの実行時に幅広いオプションを受け取ることができます。これにより、ユーザーがプログラムの動作をより細かくカスタマイズできるようになります。また、コマンドライン引数を使用することで、ユーザーの対話が必要ない場合でも、プログラムが実行されるため、自動化やバッチ処理にも適しています。

さらに、PHPでは、コマンドライン引数を使用して、実行されたファイルのパスやスクリプトのオプションなど、さまざまな情報を取得することもできます。これにより、特定の設定ファイルを読み込むなど、より高度な処理を行うことができます。

# 同参照

- [PHP公式マニュアル