---
title:                "乱数の生成"
date:                  2024-01-27T20:35:37.064250-07:00
model:                 gpt-4-0125-preview
simple_title:         "乱数の生成"

tag:                  "Numbers"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/rust/generating-random-numbers.md"
---

{{< edit_this_page >}}

## 何となぜ?

Rustでの乱数生成は、予測不能な数値を生成するためにライブラリを利用することで行われ、これは暗号化やシミュレーション、ゲーム、ランダム化されたアルゴリズムに至るまでのタスクに不可欠です。

## 方法:

Rustは乱数生成に外部クレートを依存しており、`rand`が最も一般的に使用されています。乱数生成を開始するには、まず`Cargo.toml`ファイルに`rand`を追加する必要があります：

```toml
[dependencies]
rand = "0.8.5"
```

次に、Rustコード内で`rand`を使用して乱数を生成することができます。次はランダムな整数と浮動小数点数を生成する例です：

```rust
use rand::{Rng, thread_rng};

fn main() {
    let mut rng = thread_rng();
    
    // 1から10の間のランダムな整数を生成
    let random_int: i32 = rng.gen_range(1..=10);
    println!("Random Integer: {}", random_int);
    
    // 0.0から1.0の間のランダムな浮動小数点数を生成
    let random_float: f64 = rng.gen::<f64>();
    println!("Random Float: {}", random_float);
}
```

サンプル出力は以下のようになるかもしれません：

```plaintext
Random Integer: 7
Random Float: 0.9401077112175732
```

プログラムを再実行すると異なる値が生成されることに注意してください。

## 詳細な解説

Rustでの乱数生成は、`rand`やその依存関係である`getrandom`を介したもので、オペレーティングシステムの施設やアルゴリズム生成器を幅広く抽象化しています。歴史的に、コンピューティングにおけるランダム性は単純で予測可能なアルゴリズムから複雑で暗号学的に安全な方法へと進化してきました。Rustは、必要なランダム性の質とパフォーマンスに応じて様々なジェネレーターによって支えられることが可能なプラグ可能な`Rng`トレイトを通じて、この進化を包含しています。

ほとんどのアプリケーションでは、`rand`とシステムのRNGに依存することで、シンプルさとエントロピーの良いバランスが得られます。しかし、暗号化アプリケーションに対しては、`rand`はシード生成に`getrandom`を委ねますが、これはOS固有のメカニズム（例えば、Unix系システムでは`/dev/urandom`）に依存し、暗号学的に安全なランダム性を保証します。

一方、`rand`で満たされない特定のニーズがある場合、他のクレートを探索したり、数学モデルに基づいたカスタムジェネレーターを実装することも一つの方法です。とはいえ、大多数の使用例において、`rand`及びそのエコシステムは、Rustアプリケーションに効率的かつ簡単に統合できる堅牢な解決策を提供しています。
