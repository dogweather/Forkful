---
title:                "C: テキストの検索と置換"
programming_language: "C"
category:             "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ja/c/searching-and-replacing-text.md"
---

{{< edit_this_page >}}

## なぜ

プログラマーであるなら、文書化やコードのメンテナンスが重要なタスクの一つであることを知っているでしょう。しかし、時には大きな文書やコードベースを抱えることになり、その中で特定の文言を一括で置き換える必要が出てくるかもしれません。その際、手作業での置き換えは非効率だと感じるかもしれません。そんなときに活躍するのが、テクニカルライターやプログラマーの間で広く使われている「検索と置き換え」の機能です！

## 使い方

例として、以下のようなシンプルな文字列置き換えのコードを紹介します。

```C
#include <stdio.h>
#include <string.h>

int main(void) {
  // オリジナルのテキスト
  char text[] = "こんにちは、世界！";
  // 置き換え前の文字列
  char target[] = "こんにちは";
  // 置き換え後の文字列
  char replacement[] = "Hello";

  // 置き換えたい文字列を検索
  char *pointer = strstr(text, target);

  // 検索が成功すれば、置き換え処理を実行
  if (pointer != NULL) {
    int index = pointer - text; // 検索文字列の開始位置を取得
    // 置き換え処理
    strncpy(text + index, replacement, strlen(replacement));
  }

  // 結果を出力
  printf("%s", text);

  return 0;
}
```

上記のコードでは、まず置き換え前の文字列を定義し、`strstr()`関数を使って元のテキスト中での存在を検索しています。もし検索が成功すれば、検索文字列の開始位置を取得し、`strncpy()`関数を使って置き換え処理を行っています。最後に、結果を出力しています。実行すると、`Hello、世界！`という結果が得られます。

このように、検索と置き換えの機能はプログラマーにとって非常に便利なものと言えます。

## ディープダイブ

実は、C言語の標準ライブラリにも`strstr()`や`strncpy()`といった文字列操作のための関数が用意されています。これらの関数を使えば、より柔軟に検索と置き換えの処理を実装することができます。

また、検索と置き換えの機能は単に文字列の置き換えにとどまらず、より複雑な処理を行うことも可能です。例えば、正規表現を使ったパターンマッチングを行うことで、より高度な検索と置き換えを実現できます。

## 本題は楽しむこと

プログラマーにとって、コードを書くことは楽しみの一つです。そして、新しい言語やライブラリを学ぶこともまた楽しいものです。検索と置き換えの機能もまた、プログラミングの世界で楽しむことができる便利なツールの一つだと言えるでしょう。

## もっと