---
aliases:
- /ru/elm/writing-to-standard-error/
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:05:58.875125-07:00
description: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\
  \u0434\u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\
  \u0448\u0438\u0431\u043E\u043A (stderr) \u043F\u0440\u0435\u0434\u0441\u0442\u0430\
  \u0432\u043B\u044F\u0435\u0442 \u0441\u043E\u0431\u043E\u0439 \u0432\u044B\u0432\
  \u043E\u0434 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u043E\u0431\
  \ \u043E\u0448\u0438\u0431\u043A\u0430\u0445 \u0438 \u0434\u0438\u0430\u0433\u043D\
  \u043E\u0441\u0442\u0438\u043A\u0438, \u043E\u0442\u0434\u0435\u043B\u044C\u043D\
  \u043E \u043E\u0442 \u043E\u0431\u044B\u0447\u043D\u043E\u0433\u043E \u0432\u044B\
  \u0432\u043E\u0434\u0430. \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\
  \u0441\u0442\u044B \u0434\u0435\u043B\u0430\u044E\u0442\u2026"
lastmod: 2024-02-18 23:08:56.913216
model: gpt-4-0125-preview
summary: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\u0448\
  \u0438\u0431\u043E\u043A (stderr) \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\
  \u043B\u044F\u0435\u0442 \u0441\u043E\u0431\u043E\u0439 \u0432\u044B\u0432\u043E\
  \u0434 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u043E\u0431 \u043E\
  \u0448\u0438\u0431\u043A\u0430\u0445 \u0438 \u0434\u0438\u0430\u0433\u043D\u043E\
  \u0441\u0442\u0438\u043A\u0438, \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u043E\
  \ \u043E\u0442 \u043E\u0431\u044B\u0447\u043D\u043E\u0433\u043E \u0432\u044B\u0432\
  \u043E\u0434\u0430. \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\
  \u0442\u044B \u0434\u0435\u043B\u0430\u044E\u0442\u2026"
title: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\u0448\
  \u0438\u0431\u043E\u043A"
---

{{< edit_this_page >}}

## Что и Почему?
Запись в стандартный поток ошибок (stderr) представляет собой вывод сообщений об ошибках и диагностики, отдельно от обычного вывода. Программисты делают это для отладки и мониторинга приложений, чтобы не смешивать сообщения об ошибках со стандартным выводом (stdout).

## Как это сделать:
Elm работает в Интернете, и браузеры не различают stdout и stderr так, как это делают интерфейсы командной строки. Однако можно симулировать stderr с помощью взаимодействия с JavaScript через порты. Вот как это настроить:

```Elm
port module Main exposing (..)

import Html

-- Определите порт для отправки сообщений об ошибках в JavaScript
port stderr : String -> Cmd msg

-- Функция для имитации записи в stderr
writeToStdErr : String -> Cmd msg
writeToStdErr message =
    stderr message

main =
    writeToStdErr "Ошибка: Что-то пошло не так"
    |> Html.programWithFlags { init = \_ -> ((), Cmd.none), update = \_ _ -> ((), Cmd.none), view = \_ -> Html.text "", subscriptions = \_ -> Sub.none }
```

И соответствующий JavaScript:

```JavaScript
var app = Elm.Main.init();

// Прослушивайте ошибки на порту 'stderr' и логируйте их в консоль как ошибки
app.ports.stderr.subscribe(function(message) {
    console.error(message);
});
```

Пример вывода в консоль браузера:

```
Ошибка: Что-то пошло не так
```

## Подробнее
Исторически stderr является концепцией Unix, где потоки вывода категоризированы для лучшего контроля процессов и автоматизации. Elm, будучи в первую очередь языком для фронтенда, не имеет встроенной поддержки этой концепции, поскольку веб-приложения обычно обрабатывают ошибки в пользовательском интерфейсе или через сетевые операции, а не через терминал. Альтернативы для отладки в Elm включают использование Elm Debugger, который визуально представляет состояние вашего приложения. За портами Elm's JavaScript interop создает сообщения, на которые подписывается JavaScript, по сути, преодолевая разрыв между Elm и традиционным stderr.

## Смотрите также
- Официальное руководство Elm по портам: https://guide.elm-lang.org/interop/ports.html
- Elm Debugger: https://guide.elm-lang.org/effects/debugging.html
- Запись кросс-платформенных stdout и stderr в Node.js: https://nodejs.org/api/console.html
