---
aliases:
- /ru/arduino/checking-if-a-directory-exists/
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:55:36.371790-07:00
description: "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u043D\u0430\u043B\u0438\
  \u0447\u0438\u044F \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\u0438\u0438\
  \ \u0437\u0430\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0441\u044F \u0432 \u0432\
  \u0435\u0440\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438 \u043F\u0440\u0438\u0441\
  \u0443\u0442\u0441\u0442\u0432\u0438\u044F \u043F\u0430\u043F\u043A\u0438 \u043D\
  \u0430 \u0432\u0430\u0448\u0435\u043C \u043D\u043E\u0441\u0438\u0442\u0435\u043B\
  \u0435 \u043F\u0435\u0440\u0435\u0434 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\
  \u043D\u0438\u0435\u043C \u0441 \u043D\u0435\u0439 \u043A\u0430\u043A\u0438\u0445\
  -\u043B\u0438\u0431\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439. \u041F\
  \u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\u0435\u043B\
  \u0430\u044E\u0442\u2026"
lastmod: 2024-02-18 23:08:57.325535
model: gpt-4-0125-preview
summary: "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u043D\u0430\u043B\u0438\
  \u0447\u0438\u044F \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\u0438\u0438\
  \ \u0437\u0430\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0441\u044F \u0432 \u0432\
  \u0435\u0440\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438 \u043F\u0440\u0438\u0441\
  \u0443\u0442\u0441\u0442\u0432\u0438\u044F \u043F\u0430\u043F\u043A\u0438 \u043D\
  \u0430 \u0432\u0430\u0448\u0435\u043C \u043D\u043E\u0441\u0438\u0442\u0435\u043B\
  \u0435 \u043F\u0435\u0440\u0435\u0434 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\
  \u043D\u0438\u0435\u043C \u0441 \u043D\u0435\u0439 \u043A\u0430\u043A\u0438\u0445\
  -\u043B\u0438\u0431\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439. \u041F\
  \u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\u0435\u043B\
  \u0430\u044E\u0442\u2026"
title: "\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u0441\u0443\u0449\u0435\u0441\
  \u0442\u0432\u043E\u0432\u0430\u043D\u0438\u044F \u0434\u0438\u0440\u0435\u043A\u0442\
  \u043E\u0440\u0438\u0438"
---

{{< edit_this_page >}}

## Что и почему?
Проверка наличия директории заключается в верификации присутствия папки на вашем носителе перед выполнением с ней каких-либо действий. Программисты делают это, чтобы избежать ошибок, например, попытки создать уже существующую директорию или доступа к несуществующей.

## Как это делать:
Работа с директориями на Arduino часто включает использование библиотеки SD для хранения данных на карте SD. Сначала убедитесь, что ваш Arduino правильно подключен к модулю карты SD. Затем вы используете функцию `SD.exists()` для проверки существования директории. Вот короткий пример:
```Arduino
#include <SPI.h>
#include <SD.h>

void setup() {
  Serial.begin(9600);
  while (!Serial) {
    ; // ожидание подключения к последовательному порту. Необходимо только для нативного USB-порта
  }

  if (!SD.begin(4)) { // Обязательно используйте правильный пин выбора чипа
    Serial.println("Initialization failed!");
    return;
  }

  if (SD.exists("/example")) {
    Serial.println("/example директория существует.");
  } else {
    Serial.println("/example директория не существует.");
  }
}

void loop() {
  // Здесь нечего делать
}
```
Пример вывода, когда директория существует:
```
/example директория существует.
```
И когда ее нет:
```
/example директория не существует.
```
Не забудьте заменить `/example` на фактический путь, который вы хотите проверить.

## Подробный анализ
Еще недавно проверка существования директории не всегда была прямолинейной. Системы имели различные команды. В случае с Arduino библиотека SD сделала это последовательно, заимствуя концепции из стандартных практик программирования.

Что касается альтернатив, если вы работаете с не-SD хранилищем или нуждаетесь в большем контроле, другие библиотеки, такие как SdFat, предоставляют аналогичные функции с дополнительными возможностями. Некоторые продвинутые реализации могут взаимодействовать с файловыми системами более непосредственно, но для большинства пользователей SD.exists() достаточно.

Проверка директории включает в себя запрос библиотекой у файловой системы информации о специальной файловой записи, которая представляет директорию. Если она есть, отлично. Если нет, вы получите false. Библиотека SD управляет низкоуровневой коммуникацией между вашим Arduino и файловой системой носителя, абстрагируя грубые детали — так что вы получаете необходимую информацию без хлопот.

## См. также
- Справочник по библиотеке SD Arduino: [https://www.arduino.cc/en/Reference/SD](https://www.arduino.cc/en/Reference/SD)
- Библиотека SdFat для более надежного взаимодействия с картой SD: [https://github.com/greiman/SdFat](https://github.com/greiman/SdFat)
