---
aliases:
- /ru/arduino/creating-a-temporary-file/
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:57:40.809167-07:00
description: "\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0432\u0440\u0435\u043C\
  \u0435\u043D\u043D\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0430 \u043F\u0440\
  \u0435\u0434\u043F\u043E\u043B\u0430\u0433\u0430\u0435\u0442 \u0441\u043E\u0437\u0434\
  \u0430\u043D\u0438\u0435 \u0444\u0430\u0439\u043B\u0430, \u043A\u043E\u0442\u043E\
  \u0440\u044B\u0439 \u043D\u0443\u0436\u0435\u043D \u0442\u043E\u043B\u044C\u043A\
  \u043E \u043D\u0430 \u043A\u043E\u0440\u043E\u0442\u043A\u043E\u0435 \u0432\u0440\
  \u0435\u043C\u044F \u0438\u043B\u0438 \u043D\u0430 \u0442\u0435\u043A\u0443\u0449\
  \u0443\u044E \u0441\u0435\u0441\u0441\u0438\u044E. \u041F\u0440\u043E\u0433\u0440\
  \u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\u0435\u043B\u0430\u044E\u0442\
  \ \u044D\u0442\u043E \u0434\u043B\u044F \u0445\u0440\u0430\u043D\u0435\u043D\u0438\
  \u044F\u2026"
lastmod: 2024-02-18 23:08:57.331539
model: gpt-4-0125-preview
summary: "\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0432\u0440\u0435\u043C\
  \u0435\u043D\u043D\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0430 \u043F\u0440\
  \u0435\u0434\u043F\u043E\u043B\u0430\u0433\u0430\u0435\u0442 \u0441\u043E\u0437\u0434\
  \u0430\u043D\u0438\u0435 \u0444\u0430\u0439\u043B\u0430, \u043A\u043E\u0442\u043E\
  \u0440\u044B\u0439 \u043D\u0443\u0436\u0435\u043D \u0442\u043E\u043B\u044C\u043A\
  \u043E \u043D\u0430 \u043A\u043E\u0440\u043E\u0442\u043A\u043E\u0435 \u0432\u0440\
  \u0435\u043C\u044F \u0438\u043B\u0438 \u043D\u0430 \u0442\u0435\u043A\u0443\u0449\
  \u0443\u044E \u0441\u0435\u0441\u0441\u0438\u044E. \u041F\u0440\u043E\u0433\u0440\
  \u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\u0435\u043B\u0430\u044E\u0442\
  \ \u044D\u0442\u043E \u0434\u043B\u044F \u0445\u0440\u0430\u043D\u0435\u043D\u0438\
  \u044F\u2026"
title: "\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0432\u0440\u0435\u043C\u0435\
  \u043D\u043D\u043E\u0433\u043E \u0444\u0430\u0439\u043B\u0430"
---

{{< edit_this_page >}}

## Что и Зачем?

Создание временного файла предполагает создание файла, который нужен только на короткое время или на текущую сессию. Программисты делают это для хранения промежуточных данных без загромождения долговременного хранения или для данных, которые должны существовать только пока программа работает.

## Как:

Arduino обычно взаимодействует с микроконтроллерами, которые не имеют традиционной файловой системы — поэтому "файлы" управляются не так, как на ПК. Вместо этого мы используем EEPROM (небольшой объем памяти, который сохраняется при перезагрузках) или SD-карту с шилдом. Вот базовый пример записи и чтения временных данных в EEPROM:

```Arduino
#include <EEPROM.h>

// Записать временное значение в EEPROM
void writeTempEeprom(int address, byte value) {
  EEPROM.write(address, value);
}

// Прочитать временное значение из EEPROM
byte readTempEeprom(int address) {
  return EEPROM.read(address);
}

void setup() {
  // Инициализация последовательной связи
  Serial.begin(9600);

  // Запись и чтение из EEPROM
  writeTempEeprom(0, 123); // Пример значения и адреса
  byte tempValue = readTempEeprom(0);

  // Вывод временного значения
  Serial.print("Временное значение: ");
  Serial.println(tempValue);
}

void loop() {
  // Здесь ничего нет для этого примера
}
```

И если вы работаете с SD-картой:

```Arduino
#include <SPI.h>
#include <SD.h>

File tempFile;

void setup() {
  Serial.begin(9600);
  while (!Serial) {
    ; // Ожидание подключения последовательного порта. Необходимо только для родных USB-портов
  }

  if (!SD.begin(4)) {
    Serial.println("Инициализация не удалась!");
    return;
  }

  tempFile = SD.open("temp.txt", FILE_WRITE);

  // Запись чего-то во временный файл
  if (tempFile) {
    tempFile.println("Временная текстовая строка");
    tempFile.close();
  } else {
    Serial.println("Ошибка при открытии temp.txt");
  }
  
  // Чтение из временного файла
  tempFile = SD.open("temp.txt");
  if (tempFile) {
    while (tempFile.available()) {
      Serial.write(tempFile.read());
    }
    tempFile.close();
  } else {
    Serial.println("Ошибка при открытии temp.txt");
  }

  // При желании, удаление временного файла после использования
  SD.remove("temp.txt");
}

void loop() {
  // Здесь ничего нет для этого примера
}
```

Пример вывода (для обоих примеров) на Серийный Монитор после запуска setup будет:
```
Временное значение: 123
```
Или, для примера с SD-картой:
```
Временная текстовая строка
```

## Углубленное изучение

Исторически, временные файлы в программировании удовлетворяли потребности в кэшировании, ведении журналов или межпроцессном взаимодействии. В системах, как ПК, с полноценными операционными системами, временные файлы широко распространены. В Arduino это отличается. Микроконтроллеры имеют ограниченное непеременное хранение (EEPROM), или мы добавляем внешнее хранилище, как SD-карты.

Альтернативы EEPROM для краткосрочных данных включают использование RAM (быстро потерян между циклами питания и перезагрузками) или внешней памяти, такой как Flash или жестко подключенный ИС.

С точки зрения реализации, при записи в EEPROM на Arduino, помните, что у него ограниченный цикл записи (часто около 100,000 циклов). Чрезмерное использование может износить его, поэтому используйте его с осторожностью для действительно временных сценариев.

Использование SD-карты для временного хранения аналогично обычному управлению файлами на ПК. Это предлагает больше места, но требует должного управления, такого как обеспечение надежного качества карт, корректное управление открытием/закрытием файлов и понимание, что это относительно медленно по сравнению с EEPROM или RAM.

## Смотрите также

- [Справочник по библиотеке EEPROM](https://www.arduino.cc/en/Reference/EEPROM)
- [Справочник по библиотеке SD](https://www.arduino.cc/en/Reference/SD)
- [Ввод-вывод файлов на Arduino](https://www.arduino.cc/en/Tutorial/LibraryExamples/ReadWrite)
- [Понимание памяти](https://learn.adafruit.com/memories-of-an-arduino)
