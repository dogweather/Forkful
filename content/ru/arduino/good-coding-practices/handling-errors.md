---
title:                "Обработка ошибок"
aliases:
- ru/arduino/handling-errors.md
date:                  2024-01-28T23:58:48.548260-07:00
model:                 gpt-4-0125-preview
simple_title:         "Обработка ошибок"

tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/arduino/handling-errors.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Обработка ошибок в ваших программах ловит непредвиденные ситуации, которые могут вас подвести. Вы делаете это, чтобы предотвратить поломку вашего Arduino, когда происходит нечто неожиданное.

## Как это сделать:

Допустим, ваш Arduino считывает данные с датчика, который иногда может выдавать значения вне допустимого диапазона. Вот как вы можете обработать это:

```Arduino
int sensorValue = analogRead(A0);

if (sensorValue >= 0 && sensorValue <= 1023) {
  // Значение в пределах допустимого диапазона, продолжаем обработку
  Serial.println(sensorValue);
} else {
  // Значение вне допустимого диапазона, обрабатываем ошибку
  Serial.println("Ошибка: Значение датчика вне допустимого диапазона.");
}
```
Пример вывода:
```
523
Ошибка: Значение датчика вне допустимого диапазона.
761
```

## Подробнее

Обработка ошибок не всегда была такой простой. В начале разработки программ, разработчики часто игнорировали ошибки, что приводило к опасному "неопределенному поведению". С развитием программирования эволюционировали и инструменты — теперь во многих языках есть исключения, но в мире Arduino до сих пор сохраняется старая школа проверки "проверь сначала" из-за ограничений аппаратного обеспечения и корней C++.

В программировании для Arduino часто используются операторы `if-else` для обработки ошибок. Но есть альтернативы: использование функции `assert` для остановки выполнения, если условие не выполняется, или проектирование аварийной защиты непосредственно в вашей аппаратной конфигурации.

При реализации обработки ошибок учитывайте последствия остановки программы по сравнению с возможностью ее продолжения в стандартном или безопасном состоянии. Существует компромисс, и правильный выбор зависит от потенциального вреда от прерываний по сравнению с неправильной работой.

## Смотрите также

Изучите обнаружение и обработку ошибок с помощью следующих ресурсов:

- Справочник по языку Arduino: https://www.arduino.cc/reference/en/
- Более глубокий взгляд на обработку ошибок от Embedded Artistry: https://embeddedartistry.com/blog/2017/05/17/creating-a-circular-buffer-in-c-and-c/
- Обработка ошибок в C++: https://en.cppreference.com/w/cpp/error/exception

Это должно дать вам знания и уверенность, чтобы избежать подводных камней ошибок в ваших Arduino приключениях.
