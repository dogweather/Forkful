---
title:                "Чтение аргументов командной строки"
date:                  2024-01-29T00:01:37.849792-07:00
model:                 gpt-4-0125-preview
simple_title:         "Чтение аргументов командной строки"

tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/go/reading-command-line-arguments.md"
changelog:
  - 2024-01-29, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Считывание аргументов командной строки позволяет вашей программе принимать ввод, когда она запускается из терминала, что может направлять её поведение без жёстко заданных значений. Программисты используют это для настройки выполнения программного обеспечения, обработки пользовательских предпочтений и реагирования на различные режимы операции.

## Как это сделать:

Go делает довольно легким захват этих аргументов командной строки с использованием пакета `os`. Вот как это сделать:

```Go
package main

import (
	"fmt"
	"os"
)

func main() {
	args := os.Args[1:] // os.Args[0] - это путь к самой программе
	for i, arg := range args {
		fmt.Printf("Аргумент %d: %s\n", i+1, arg)
	}
}
```

Запустите вашу программу так:

```
$ go run вашапрограмма.go это аргументы командной строки
```

И вы получите:

```
Аргумент 1: это
Аргумент 2: аргументы
Аргумент 3: командной строки
Аргумент 4: args
```

Вот и всё. Теперь у вас есть возможность влиять на поведение вашей программы из терминала.

## Погружение

Задолго до GUI, аргументы командной строки были стандартом для указания программам, что делать. Они происходят из конвенций UNIX, которые Go унаследовал отчасти из-за его отношений с совместимыми с POSIX средами.

Альтернативы для разбора аргументов в Go включают использование более сложных пакетов вроде `flag` для флагов (например, `--name=value`) или сторонних библиотек, таких как `cobra` или `urfave/cli`, для создания сложных CLI-приложений.

Срез `os.Args` захватывает все аргументы, с `os.Args[0]` будучи самой программой. Его простота идеально подходит для прямолинейных задач, но будьте осторожны в случаях, требующих структурированных команд или флагов.

## Смотрите также

- Пакет `flag` для более мощного разбора опций: [https://pkg.go.dev/flag](https://pkg.go.dev/flag)
- Cobra для создания мощных приложений командной строки: [https://github.com/spf13/cobra](https://github.com/spf13/cobra)
- `urfave/cli` для простой, быстрой и веселой библиотеки для создания CLI в Go: [https://github.com/urfave/cli](https://github.com/urfave/cli)
