---
title:                "Запись в стандартный поток ошибок"
date:                  2024-01-29T00:06:18.659554-07:00
model:                 gpt-4-0125-preview
simple_title:         "Запись в стандартный поток ошибок"

tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/go/writing-to-standard-error.md"
changelog:
  - 2024-01-29, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Запись в стандартный поток ошибок (stderr) - это способ, которым ваша программа сообщает об ошибках и предупреждениях. Программисты делают это для того, чтобы отделить обычный вывод (stdout) от сообщений об ошибках, что делает более простым управление и отслеживание проблем.

## Как это сделать:

В Go запись в стандартный поток ошибок осуществляется с использованием дескриптора файла `os.Stderr` из пакета `os`. Вот как это сделать:

```Go
package main

import (
	"fmt"
	"os"
)

func main() {
	message := "Ошибка: что-то пошло не так!"
	_, err := fmt.Fprintln(os.Stderr, message)

	if err != nil {
		panic(err)
	}
}
```

Пример вывода в stderr может выглядеть так:

```
Ошибка: что-то пошло не так!
```

## Подробный анализ

Исторически, подобные операционные системы Unix предоставляют три стандартных потока: stdin, stdout и stderr. Go наследует эту концепцию. В качестве альтернатив можно использовать пакеты логирования вроде `log` или `zap`, которые предлагают больше контроля над форматом и местом вывода. При прямой записи в stderr Go использует `os.Stderr`, который реализует `io.Writer`, делая это согласующимся с общим подходом Go к вводу/выводу, предоставляя хорошо определенный интерфейс.

## Смотрите также

- Блог Go об обработке ошибок: https://blog.golang.org/error-handling-and-go
- Документация пакета `log`: https://golang.org/pkg/log/
- Логгер `zap`: https://godoc.org/go.uber.org/zap
