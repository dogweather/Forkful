---
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 18:13:01.370144-07:00
description: "TOML (Tom's Obvious, Minimal Language - \u042F\u0432\u043D\u044B\u0439\
  , \u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u042F\u0437\
  \u044B\u043A \u0422\u043E\u043C\u0430) \u2014 \u044D\u0442\u043E \u0444\u043E\u0440\
  \u043C\u0430\u0442 \u0444\u0430\u0439\u043B\u0430 \u043A\u043E\u043D\u0444\u0438\
  \u0433\u0443\u0440\u0430\u0446\u0438\u0438, \u043A\u043E\u0442\u043E\u0440\u044B\
  \u0439 \u043B\u0435\u0433\u043A\u043E \u0447\u0438\u0442\u0430\u0442\u044C \u0431\
  \u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044F \u0441\u0432\u043E\u0435\u043C\u0443\
  \ \u043F\u0440\u043E\u0441\u0442\u043E\u043C\u0443\u2026"
lastmod: '2024-03-13T22:44:44.154535-06:00'
model: gpt-4-0125-preview
summary: "TOML (Tom's Obvious, Minimal Language - \u042F\u0432\u043D\u044B\u0439,\
  \ \u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u042F\u0437\
  \u044B\u043A \u0422\u043E\u043C\u0430) \u2014 \u044D\u0442\u043E \u0444\u043E\u0440\
  \u043C\u0430\u0442 \u0444\u0430\u0439\u043B\u0430 \u043A\u043E\u043D\u0444\u0438\
  \u0433\u0443\u0440\u0430\u0446\u0438\u0438, \u043A\u043E\u0442\u043E\u0440\u044B\
  \u0439 \u043B\u0435\u0433\u043A\u043E \u0447\u0438\u0442\u0430\u0442\u044C \u0431\
  \u043B\u0430\u0433\u043E\u0434\u0430\u0440\u044F \u0441\u0432\u043E\u0435\u043C\u0443\
  \ \u043F\u0440\u043E\u0441\u0442\u043E\u043C\u0443 \u0441\u0438\u043D\u0442\u0430\
  \u043A\u0441\u0438\u0441\u0443."
title: "\u0420\u0430\u0431\u043E\u0442\u0430 \u0441 TOML"
weight: 39
---

## Как:
Чтобы начать работать с TOML в Go, сначала вам нужно включить библиотеку, которая может разбирать TOML файлы, поскольку стандартная библиотека Go не поддерживает TOML нативно. Пакет `BurntSushi/toml` является популярным выбором для этого. Сначала убедитесь, что вы его установили:

```bash
go get github.com/BurntSushi/toml
```

Вот простой пример того, как его использовать. Предположим, у вас есть файл конфигурации с именем `config.toml` со следующим содержанием:

```toml
title = "Пример TOML"

[database]
server = "192.168.1.1"
ports = [ 8001, 8001, 8002 ]
connection_max = 5000
enabled = true
```

Теперь вам нужно создать структуру Go, которая отражает структуру TOML:

```go
package main

import (
    "fmt"
    "github.com/BurntSushi/toml"
)

type Config struct {
    Title    string
    Database Database `toml:"database"`
}

type Database struct {
    Server        string
    Ports         []int
    ConnectionMax int    `toml:"connection_max"`
    Enabled       bool
}

func main() {
    var config Config
    if _, err := toml.DecodeFile("config.toml", &config); err != nil {
        fmt.Println(err)
        return
    }
    fmt.Printf("Название: %s\n", config.Title)
    fmt.Printf("Сервер базы данных: %s\n", config.Database.Server)
}
```

Пример вывода:

```
Название: Пример TOML
Сервер базы данных: 192.168.1.1
```

## Погружение
TOML был создан Томом Престон-Вернером, одним из сооснователей GitHub, чтобы предложить простой формат файла конфигурации, который легко может быть представлен в виде хеш-таблицы и понят без предварительных знаний о формате. Это контрастирует с JSON или YAML, которые, хотя также широко используются, могут быть менее удобными для конфигурационных файлов из-за скобок, кавычек и проблем с отступами.

Пакет `BurntSushi/toml` в Go - это мощная библиотека, которая позволяет не только декодировать, но и кодировать TOML файлы, что делает её универсальным выбором для приложений, которые нуждаются в чтении и записи конфигурационных файлов в этом формате. Однако следует отметить, что с развитием технологий и появлением новых версий Go появились альтернативы, такие как `pelletier/go-toml`, предлагающие улучшенную производительность и дополнительные функции, такие как манипуляция деревьями и поддержка запросов.

Хотя TOML является отличным выбором для многих приложений, в зависимости от сложности конфигурации приложения и личных или командных предпочтений, другие форматы, такие как YAML или JSON, могут быть более подходящими, особенно если конфигурация требует более сложных структур данных, которые избыточная природа TOML может не так элегантно захватить. Тем не менее, для простых, читаемых и легко редактируемых конфигураций TOML в сочетании с сильной типизацией Go и упомянутыми библиотеками является отличным выбором.
