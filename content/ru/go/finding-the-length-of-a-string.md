---
title:                "Поиск длины строки"
date:                  2024-01-28T23:58:05.376632-07:00
model:                 gpt-4-0125-preview
simple_title:         "Поиск длины строки"

tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/go/finding-the-length-of-a-string.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
Нахождение длины строки означает выяснение, сколько символов она содержит. Программисты делают это для проверки ввода, перебора символов, ограничения вывода и другого.

## Как это сделать:

Чтобы получить длину строки, используйте `len()`:

```Go
package main

import "fmt"

func main() {
    exampleStr := "Hello, Gophers!"
    length := len(exampleStr)
    fmt.Println(length)  // Вывод: 14
}
```

Для символов Unicode или эмодзи вашим помощником будет `utf8.RuneCountInString()`:

```Go
package main

import (
    "fmt"
    "unicode/utf8"
)

func main() {
    exampleStr := "Hello, 世界!"
    length := utf8.RuneCountInString(exampleStr)
    fmt.Println(length)  // Вывод: 9
}
```

## Подробнее
Проще говоря, Go использует строки в кодировке UTF-8. Встроенная функция `len()` возвращает количество байтов, а не количество символов. Это быстро, но может привести к сюрпризам с многобайтовыми символами. Для точного подсчёта символов, особенно в глобальных приложениях, используйте `utf8.RuneCountInString()` для корректной обработки Unicode. Исторически различные языки и библиотеки считали символы по-разному, но Unicode стал стандартом, и поддержка его в Go обязательна в сегодняшнем разнообразном экосистеме программирования.

Что касается альтернатив, такие библиотеки, как `unicode/utf8`, обеспечивают надёжную обработку рун, которые представляют кодовые точки Unicode. До стандартизации обработки Unicode в Go программистам приходилось реализовывать собственные решения, что было подвержено ошибкам и сложно.

В деталях реализации, строки в Go являются неизменяемыми последовательностями байтов. Обрабатывая строки, программисты должны быть осведомлены о потенциальных проблемах с производительностью при работе с очень большими строками или при избыточном использовании `utf8.RuneCountInString()` в коде, критичном к производительности, поскольку для точного подсчёта необходимо декодировать каждую руну.

## Смотрите также
- Блог Go о строках: https://blog.golang.org/strings
- Документация по пакету `unicode/utf8` в Go: https://golang.org/pkg/unicode/utf8/
- Спецификация функции `len` в Go: https://golang.org/ref/spec#Length_and_capacity
