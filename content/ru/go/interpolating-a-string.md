---
title:                "Интерполяция строки"
date:                  2024-01-28T23:58:58.005356-07:00
model:                 gpt-4-0125-preview
simple_title:         "Интерполяция строки"

tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/go/interpolating-a-string.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и почему?

Интерполяция строк позволяет встраивать переменные непосредственно в строки. Это удобно для создания сообщений, форматирования данных и построения SQL-запросов без использования множества плюсов и кавычек.

## Как это сделать:

В Go для интерполяции строк используется пакет `fmt`.

```Go
package main

import (
    "fmt"
)

func main() {
    name := "Morgan"
    age := 28
    message := fmt.Sprintf("Привет, меня зовут %s и мне %d лет.", name, age)
    fmt.Println(message)
}

// Вывод: Привет, меня зовут Morgan и мне 28 лет.
```

Используйте `%s` для строк, `%d` для целых чисел, `%f` для чисел с плавающей точкой. Есть и другие спецификаторы формата для различных типов.

## Погружаемся глубже

Интерполяция строк является базовой функцией во многих языках — Python, Ruby и других. В Go она не является частью языка как таковой, но предоставляется через пакет `fmt`. Этот подход обеспечивает лучший контроль и безопасность, особенно с использованием спецификаторов формата, специфических для типов.

Альтернативы? Да — помимо `fmt.Sprintf`, есть `fmt.Fprintf` для записи в любой writer и `fmt.Printf` для непосредственного вывода. До Go 1.10 люди соединяли строки с помощью `+` или использовали `bytes.Buffer`. Эти методы по-прежнему актуальны, но менее удобны.

Детали реализации? Пакет `fmt` использует рефлексию для управления форматированием на основе спецификаторов формата и типа переменной. Это эффективно, но помните, что использование неправильного спецификатора для типа может привести к ошибкам времени выполнения.

## Смотрите также

- Документация пакета `fmt` Go: https://pkg.go.dev/fmt
- Взгляд Go by Example на форматирование строк: https://gobyexample.com/string-formatting
- Блог о стратегиях конкатенации строк в Go: https://blog.golang.org/strings
