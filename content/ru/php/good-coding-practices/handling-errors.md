---
aliases:
- /ru/php/handling-errors/
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:59:21.581220-07:00
description: "\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u043E\u0448\u0438\
  \u0431\u043E\u043A \u0432 PHP \u0441\u0432\u044F\u0437\u0430\u043D\u0430 \u0441\
  \ \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435\u043C \u0438 \u0440\
  \u0435\u0430\u0433\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435\u043C \u043D\u0430\
  \ \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u043A\u043E\u0442\u043E\u0440\
  \u044B\u0435 \u043D\u0430\u0440\u0443\u0448\u0430\u044E\u0442 \u043D\u043E\u0440\
  \u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043F\
  \u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B, \u0442\u0430\u043A\u0438\u0435\
  \ \u043A\u0430\u043A \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\
  \u0449\u0438\u0435 \u0444\u0430\u0439\u043B\u044B \u0438\u043B\u0438\u2026"
lastmod: 2024-02-18 23:08:57.109111
model: gpt-4-0125-preview
summary: "\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u043E\u0448\u0438\
  \u0431\u043E\u043A \u0432 PHP \u0441\u0432\u044F\u0437\u0430\u043D\u0430 \u0441\
  \ \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435\u043C \u0438 \u0440\
  \u0435\u0430\u0433\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435\u043C \u043D\u0430\
  \ \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u043A\u043E\u0442\u043E\u0440\
  \u044B\u0435 \u043D\u0430\u0440\u0443\u0448\u0430\u044E\u0442 \u043D\u043E\u0440\
  \u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043F\
  \u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B, \u0442\u0430\u043A\u0438\u0435\
  \ \u043A\u0430\u043A \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\
  \u0449\u0438\u0435 \u0444\u0430\u0439\u043B\u044B \u0438\u043B\u0438\u2026"
title: "\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u043E\u0448\u0438\u0431\
  \u043E\u043A"
---

{{< edit_this_page >}}

## Что и Почему?
Обработка ошибок в PHP связана с управлением и реагированием на ситуации, которые нарушают нормальный поток программы, такие как отсутствующие файлы или некорректные входные данные. Программисты обрабатывают ошибки, чтобы предотвратить сбои и обеспечить пользователям более плавный опыт использования.

## Как:
В PHP вы можете управлять ошибками с помощью блоков `try-catch`, и вы можете настроить процесс с помощью пользовательских обработчиков ошибок и исключений.

```php
// Простой пример с try-catch
try {
  // Действие с риском
  $file = fopen("nonexistentfile.txt", "r");
} catch (Exception $e) {
  // Обработка ошибки
  echo "Ошибка: " . $e->getMessage();
}

// Установка пользовательского обработчика ошибок
set_error_handler(function($severity, $message, $file, $line) {
  throw new ErrorException($message, 0, $severity, $file, $line);
});

// Использование исключений
class MyException extends Exception {}

try {
  // Действие и генерирование пользовательского исключения
  throw new MyException("Пользовательская ошибка!");
} catch (MyException $e) {
  // Обработка пользовательского исключения
  echo $e->getMessage();
}

// Пример вывода:
// Ошибка: fopen(nonexistentfile.txt): не удалось открыть поток: Нет такого файла или каталога
// Пользовательская ошибка!
```

## Углублённо
В прошлом ошибки в PHP были скорее предупреждениями и уведомлениями, которые не останавливали выполнение скрипта. По мере созревания языка была принята более надёжная объектно-ориентированная обработка ошибок через класс Exception, введённый в PHP 5. Позже, с выходом PHP 7, появились классы Error, которые наконец различали ошибки и исключения.

До появления блоков `try-catch` PHP использовал `set_error_handler()` для обработки ошибок. `try-catch` более чистый и современный. Но пользовательские обработчики ошибок всё ещё имеют место быть, особенно для устаревшего кода или когда вам нужно поймать то, что обычно является ошибками, не являющимися исключениями.

Интерфейс `Throwable` в PHP 7+ означает, что будь то Error или Exception, вы можете поймать оба. Это удобно, потому что теперь вы не пропускаете критические ошибки времени выполнения, которые раньше было сложнее отследить.

Альтернативы встроенным механизмам PHP включают библиотеки и фреймворки, которые предлагают свои системы обработки ошибок, предлагая больше функций, таких как логирование ошибок в файлы или отображение страниц с ошибками, дружественных к пользователю.

## Смотрите также
- Официальная документация PHP по исключениям: https://www.php.net/manual/en/language.exceptions.php
- PHP Правильный Путь по отчетам об ошибках: https://phptherightway.com/#error_reporting
- Руководство PHP по обработке ошибок: https://www.php.net/manual/en/book.errorfunc.php
