---
aliases:
- /ru/php/logging/
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:59:50.021987-07:00
description: "\u041B\u043E\u0433\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\
  \u043E \u0441\u0443\u0442\u0438 \u043F\u043E\u0445\u043E\u0436\u0435 \u043D\u0430\
  \ \u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0434\u043D\u0435\u0432\u043D\u0438\
  \u043A\u0430 \u0434\u043B\u044F \u0432\u0430\u0448\u0435\u0433\u043E \u043A\u043E\
  \u0434\u0430; \u044D\u0442\u043E \u043F\u0440\u043E\u0446\u0435\u0441\u0441 \u0437\
  \u0430\u043F\u0438\u0441\u0438 \u0441\u043E\u0431\u044B\u0442\u0438\u0439, \u043E\
  \u0448\u0438\u0431\u043E\u043A \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0437\
  \u043D\u0430\u0447\u0438\u043C\u044B\u0445 \u0442\u043E\u0447\u0435\u043A \u0434\
  \u0430\u043D\u043D\u044B\u0445, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u043F\
  \u0440\u043E\u0438\u0441\u0445\u043E\u0434\u044F\u0442 \u043F\u0440\u0438\u2026"
lastmod: 2024-02-18 23:08:57.107908
model: gpt-4-0125-preview
summary: "\u041B\u043E\u0433\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\
  \u043E \u0441\u0443\u0442\u0438 \u043F\u043E\u0445\u043E\u0436\u0435 \u043D\u0430\
  \ \u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0434\u043D\u0435\u0432\u043D\u0438\
  \u043A\u0430 \u0434\u043B\u044F \u0432\u0430\u0448\u0435\u0433\u043E \u043A\u043E\
  \u0434\u0430; \u044D\u0442\u043E \u043F\u0440\u043E\u0446\u0435\u0441\u0441 \u0437\
  \u0430\u043F\u0438\u0441\u0438 \u0441\u043E\u0431\u044B\u0442\u0438\u0439, \u043E\
  \u0448\u0438\u0431\u043E\u043A \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0437\
  \u043D\u0430\u0447\u0438\u043C\u044B\u0445 \u0442\u043E\u0447\u0435\u043A \u0434\
  \u0430\u043D\u043D\u044B\u0445, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u043F\
  \u0440\u043E\u0438\u0441\u0445\u043E\u0434\u044F\u0442 \u043F\u0440\u0438\u2026"
title: "\u0416\u0443\u0440\u043D\u0430\u043B\u0438\u0440\u043E\u0432\u0430\u043D\u0438\
  \u0435"
---

{{< edit_this_page >}}

## Что и почему?

Логирование по сути похоже на ведение дневника для вашего кода; это процесс записи событий, ошибок и других значимых точек данных, которые происходят при выполнении вашего приложения. Программисты делают это, чтобы отслеживать, что происходит под капотом, отлаживать проблемы и поддерживать аудиторский журнал для последующего анализа или целей соответствия.

## Как:

PHP имеет встроенную функцию логирования ошибок, которая легко используется. Просто добавьте `error_log()` в свой код, чтобы отправить сообщение в логи сервера. Вы также можете настроить его так, чтобы записывалось в определенный файл.

```php
<?php
// Логирование простого информационного сообщения
error_log("Это информационная запись в лог.");

// Логирование сообщения об ошибке
error_log("Это запись об ошибке в лог.", 0);

// Логирование в указанный файл
file_put_contents('/path/to/your/custom.log', "Пользовательская запись в лог.\n", FILE_APPEND);

// Использование Monolog для структурированного логирования
require 'vendor/autoload.php';
use Monolog\Logger;
use Monolog\Handler\StreamHandler;

// Создание логгера
$logger = new Logger('name');
// Теперь добавьте некоторые обработчики
$logger->pushHandler(new StreamHandler('/path/to/your/monolog.log', Logger::WARNING));

// Теперь вы можете использовать ваш логгер
$logger->warning('Это предупреждающее сообщение лога!');
$logger->error('Это сообщение об ошибке в логе!');
?>
```

Это выведет ваши логи либо в журнал сервера, либо в ваш указанный файл в формате обычного текста.

## Погружение:

Исторически разработчики PHP полагались на функцию `error_log()` или логи Apache/Nginx для выявления проблем, но это может быть хаотичным из-за необходимости разбирать обычные текстовые файлы и отсутствия простого способа для их фильтрации или сортировки. Входят библиотеки логирования, такие как Monolog, которые ввели эру структурированного логирования в PHP. Эти решения дают вам больше контроля, предлагая множество каналов логирования, уровни серьезности и форматированный вывод (например, JSON, который идеален для программной обработки).

Альтернативы Monolog включают Log4php, KLogger и Log4php от Apache. С точки зрения реализации, надежное логирование требует не просто случайной записи данных, но учет таких вещей, как ротация логов, стратегии архивации и интеграция с инструментами мониторинга, чтобы действительно быть полезным.

Следует также иметь в виду [Интерфейс логгера PSR-3](https://www.php-fig.org/psr/psr-3/), который описывает общий интерфейс для библиотек логирования, гарантируя взаимодействие и последовательный способ доступа к механизмам логирования.

## См. также:

- [Репозиторий Monolog на GitHub](https://github.com/Seldaek/monolog)
- [Спецификация Интерфейса логгера PSR-3](https://www.php-fig.org/psr/psr-3/)
- [Документация по Error Log в PHP](https://www.php.net/manual/ru/function.error-log.php)
- [KLogger: Простой класс логирования для PHP](https://github.com/katzgrau/KLogger)
- [Log4php: Универсальная система логирования для PHP](https://logging.apache.org/log4php/)

Начните с использования встроенных функций, но для более удобного и масштабируемого подхода, рассмотрите возможность потратить время, чтобы освоить библиотеку вроде Monolog. Счастливого логирования!
