---
title:                "Генерация случайных чисел"
date:                  2024-01-28T23:58:32.043681-07:00
model:                 gpt-4-0125-preview
simple_title:         "Генерация случайных чисел"

tag:                  "Numbers"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/php/generating-random-numbers.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Генерация случайных чисел в PHP заключается в создании непредсказуемых значений в заданном диапазоне, что необходимо для задач, таких как создание уникальных идентификаторов пользователей, генерация паролей или использование в симуляциях и играх. Программисты полагаются на случайность, чтобы добавить непредсказуемость и вариативность в свои приложения, делая процессы вроде тестирования или пользовательский опыт более надежными и увлекательными.

## Как:

PHP предлагает несколько функций для генерации случайных чисел, но наиболее часто используются `rand()`, `mt_rand()`, и для криптографических целей, `random_int()`.

Для генерации простого случайного числа между 0 и getrandmax() (наибольшее возможное значение, возвращаемое `rand()`), можно использовать:

```PHP
echo rand();
```

Для более конкретного диапазона, например, от 1 до 100:

```PHP
echo rand(1, 100);
```

Однако `mt_rand()` является лучшим выбором по скорости и случайности:

```PHP
echo mt_rand(1, 100);
```

Вывод для обоих может быть чем-то между 1 и 100, в зависимости от случайности, например, `42`.

Для криптографических или безопасных контекстов, где непредсказуемость критически важна, `random_int()` является предпочтительным выбором, поскольку он генерирует криптографически защищенные псевдослучайные целые числа:

```PHP
echo random_int(1, 100);
```

Опять же, вывод - это случайное число между 1 и 100, как `84`, но с более сильной гарантией случайности.

## Глубже

Функция `rand()` существует в PHP с его первых версий и служила начальным подходом для генерации случайных чисел. Однако это не лучший выбор для приложений, требующих высокой степени случайности из-за его относительно предсказуемого алгоритма.

`mt_rand()`, введенный в PHP 4, основан на алгоритме Mersenne Twister - значительно превосходит по скорости и способности генерировать случайность по сравнению с `rand()`. Он быстро стал предпочтительным вариантом для большинства некриптографических потребностей.

Для приложений, чувствительных к безопасности, в PHP 7 был введен `random_int()` для генерации криптографически защищенных псевдослучайных целых чисел, используя случайные байты из генератора случайных чисел системы. Он значительно более безопасен, чем `rand()` или `mt_rand()`, что делает его лучшим выбором для генерации токенов, ключей или других элементов, где предсказуемость может привести к уязвимостям безопасности.

Несмотря на эти улучшения, крайне важно выбирать правильную функцию в зависимости от контекста приложения. Для общего использования достаточно `mt_rand()`, но для всего, что может быть нацелено или эксплуатировано, `random_int()` идет как лучший вариант, обеспечивая как случайность, так и безопасность.
