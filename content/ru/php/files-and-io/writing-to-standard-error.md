---
title:                "Запись в стандартный поток ошибок"
date:                  2024-01-29T00:06:09.553077-07:00
model:                 gpt-4-0125-preview
simple_title:         "Запись в стандартный поток ошибок"

tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/php/writing-to-standard-error.md"
changelog:
  - 2024-01-29, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Запись в стандартный поток ошибок (`stderr`) означает вывод сообщений об ошибках и диагностики отдельно от стандартного вывода (`stdout`). Программисты делают это для отладки кода и предоставления информации об ошибках, не смешивая ее с обычным выводом программы.

## Как это сделать:

Вы можете записывать в `stderr` на PHP с помощью `fwrite()` или оболочек потоков. Вот как это сделать:

```PHP
<?php
// Запись в stderr с использованием fwrite
fwrite(STDERR, "Это сообщение об ошибке.\n");

// Использование оболочки потока
file_put_contents('php://stderr', "Это другое сообщение об ошибке.\n");
?>
```

Пример вывода (в консоли):
```
Это сообщение об ошибке.
Это другое сообщение об ошибке.
```

## Подробный разбор

Исторически разделение `stdout` и `stderr` происходит из способа обработки потоков ввода/вывода в Unix. Другие языки, например С, имеют аналогичные конвенции. Альтернативы в PHP могут включать в себя использование библиотек для логирования или настраиваемых обработчиков ошибок, но прямая запись в `stderr` является простым решением для консольных приложений. За кулисами `stderr` является не буферизированным потоком вывода, что означает, что сообщения сразу же выводятся без ожидания.

## См. также

- Руководство PHP по предопределенным константам (STDERR): https://www.php.net/manual/en/features.commandline.io-streams.php
- Руководство PHP по функциям обработки ошибок: https://www.php.net/manual/en/book.errorfunc.php
- Википедия о Стандартных потоках: https://en.wikipedia.org/wiki/Standard_streams
