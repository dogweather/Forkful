---
title:                "Проверка существования директории"
aliases:
- /ru/php/checking-if-a-directory-exists/
date:                  2024-01-28T23:56:07.777976-07:00
model:                 gpt-4-0125-preview
simple_title:         "Проверка существования директории"

tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/php/checking-if-a-directory-exists.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Зачем?

Проверка на существование директории позволяет подтвердить наличие папки в файловой системе, прежде чем пытаться использовать её. Программисты делают это, чтобы избежать ошибок при чтении, записи или навигации по директориям.

## Как это сделать:

В PHP `is_dir()` проверяет, существует ли директория:

```PHP
$directory = "/path/to/dir";

if (is_dir($directory)) {
    echo "Директория существует.";
} else {
    echo "Директории не существует.";
}
```

Пример вывода:
```
Директория существует.
```
Или, если директории действительно нет:
```
Директории не существует.
```

Чтобы подавить ошибки и использовать более детальную проверку, сочетайте `is_dir()` с функцией `file_exists()`:

```PHP
$directory = "/path/to/dir";

if (file_exists($directory) && is_dir($directory)) {
    echo "Директория существует и является директорией.";
} else {
    echo "Директории не существует или это файл.";
}
```

## Подробнее

`is_dir()` существует в PHP с версии 4.0.0, позволяя проверять существование директории перед операциями, которые могут завершиться неудачей или вызвать ошибки. Не путайте с `file_exists()`, которая проверяет существование как файлов, так и директорий, `is_dir()` специфична для директорий.

До появления этих встроенных функций программисты могли использовать `opendir()` и проверять на ложное возвращаемое значение, чтобы сделать вывод об отсутствии. Это было менее эффективно и более подвержено ошибкам.

Под капотом `is_dir()` выполняет системный вызов к основной файловой системе, что может быть более затратным с точки зрения операций ввода-вывода, особенно для удаленных или виртуальных файловых систем. Кэширование результатов или структурирование кода для минимизации проверок на существование может оптимизировать производительность.

Одной из альтернатив, особенно актуальной в системах, подобных Unix, является использование `exec()` с системной командой вроде `ls` или `test -d`, но это вводит дополнительные затраты на вызов оболочки и менее переносимо.

## Смотрите также

- [PHP Руководство: `is_dir()`](https://www.php.net/manual/ru/function.is-dir.php)
- [PHP Руководство: `file_exists()`](https://www.php.net/manual/ru/function.file-exists.php)
- [Лучшие практики работы с файловой системой в PHP](https://www.php-fig.org/psr/psr-4/)
- [Функции файловой системы PHP](https://www.php.net/manual/ru/ref.filesystem.php)
