---
aliases:
- /ru/clojure/handling-errors/
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:58:59.242416-07:00
description: "\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u043E\u0448\u0438\
  \u0431\u043E\u043A \u2014 \u044D\u0442\u043E \u0443\u043F\u0440\u0430\u0432\u043B\
  \u0435\u043D\u0438\u0435 \u043D\u0435\u043E\u0436\u0438\u0434\u0430\u043D\u043D\u044B\
  \u043C\u0438 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044F\u043C\u0438 \u0432\
  \ \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430\u0445, \u043A\u0430\u043A\
  \ \u0432\u044B\u0448\u0438\u0431\u0430\u043B\u0430, \u0438\u043C\u0435\u044E\u0449\
  \u0435\u0433\u043E \u0434\u0435\u043B\u043E \u0441 \u043D\u0430\u0440\u0443\u0448\
  \u0438\u0442\u0435\u043B\u044F\u043C\u0438 \u043F\u043E\u0440\u044F\u0434\u043A\u0430\
  . \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u0430\u043C\
  \ \u043D\u0440\u0430\u0432\u0438\u0442\u0441\u044F, \u043A\u043E\u0433\u0434\u0430\
  \u2026"
lastmod: 2024-02-18 23:08:56.591961
model: gpt-4-0125-preview
summary: "\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u043E\u0448\u0438\
  \u0431\u043E\u043A \u2014 \u044D\u0442\u043E \u0443\u043F\u0440\u0430\u0432\u043B\
  \u0435\u043D\u0438\u0435 \u043D\u0435\u043E\u0436\u0438\u0434\u0430\u043D\u043D\u044B\
  \u043C\u0438 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044F\u043C\u0438 \u0432\
  \ \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430\u0445, \u043A\u0430\u043A\
  \ \u0432\u044B\u0448\u0438\u0431\u0430\u043B\u0430, \u0438\u043C\u0435\u044E\u0449\
  \u0435\u0433\u043E \u0434\u0435\u043B\u043E \u0441 \u043D\u0430\u0440\u0443\u0448\
  \u0438\u0442\u0435\u043B\u044F\u043C\u0438 \u043F\u043E\u0440\u044F\u0434\u043A\u0430\
  . \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u0430\u043C\
  \ \u043D\u0440\u0430\u0432\u0438\u0442\u0441\u044F, \u043A\u043E\u0433\u0434\u0430\
  \u2026"
title: "\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u043E\u0448\u0438\u0431\
  \u043E\u043A"
---

{{< edit_this_page >}}

## Что и Почему?
Обработка ошибок — это управление неожиданными ситуациями в программах, как вышибала, имеющего дело с нарушителями порядка. Программистам нравится, когда всё гладко; обработка ошибок помогает держать проблемы в узде, гарантируя, что их код не споткнется и не упадет при столкновении с неожиданностью.

## Как:
Clojure, подобно своим предкам Lisp, опирается на исключения для обработки ошибок. Вот как вы показываете, на что вы способны, когда дела идут не так.

Генерирование исключения просто:
```Clojure
(throw (Exception. "Ой! Что-то пошло не так."))
```

Перехват исключения, это вы будете делать часто:
```Clojure
(try
  ;; рискованный код
  (/ 1 0)
  (catch ArithmeticException e
    (println "Делить на ноль нельзя!"))
  ;; блок finally выполняется в любом случае
  (finally 
    (println "Здесь идет код для очистки.")))
```
Пример вывода для приведенного выше блока catch:
```
Делить на ноль нельзя!
Здесь идет код для очистки.
```

Использование `ex-info` и `ex-data` для богатого контекста об исключениях:
```Clojure
(try
  ;; вызов пользовательского исключения
  (throw (ex-info "Пользовательская ошибка" {:type :custom-failure}))
  (catch Exception e
    ;; получаем данные из нашего пользовательского исключения
    (println (ex-data e))))
```
Пример вывода:
```
{:type :custom-failure}
```

## Глубокое Погружение
История обработки ошибок в Clojure не радикально отличается от других Lisps или даже Java (от которой он наследует механизм `try-catch`). Это прагматично; использование исключений является основным путем, как и в Java, но Clojure предлагает функциональный вкус с `ex-info` и `ex-data` для более богатых данных об ошибке.

Альтернативы обработке ошибок в Clojure включают использование монадических конструкций, таких как монада `either` из библиотек, вроде `cats`, или core.async для передачи ошибок на основе каналов. Тем не менее, это более сложные методы и используются в конкретных сценариях.

Исторически, обработка ошибок в языках программирования развивалась от простых возвратов статуса до более сложных механизмов обработки исключений современных языков. Clojure выбрал простоту и элемент функционального программирования, смешивая старое и новое.

## Смотрите также
- Руководство Clojure по исключениям: https://clojure.org/guides/exceptions
- Библиотека “Cats” для более функциональных подходов: https://github.com/funcool/cats
- “Core.async” для асинхронного программирования: https://github.com/clojure/core.async
