---
title:                "Склеивание строк"
aliases:
- /ru/clojure/concatenating-strings/
date:                  2024-01-28T23:55:58.881059-07:00
model:                 gpt-4-0125-preview
simple_title:         "Склеивание строк"

tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/clojure/concatenating-strings.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Конкатенация строк - это их соединение встык - "hello" + "world" превращается в "helloworld". Программисты делают это для создания текста, такого как URL-адреса, сообщения или результаты на основе ввода пользователя или данных программы.

## Как это сделать:

Clojure делает конкатенацию строк простой с помощью функции `str`. Давайте погрузимся прямо в это:

```clojure
;; Простая конкатенация с функцией str
(str "Hello, " "world!")
;; => "Hello, world!"

;; Конкатенация нескольких строк
(str "Clojure" " это" " прекрасно!")
;; => "Clojure это прекрасно!"

;; Сочетание строк и других значений
(str "Ответ " 42)
;; => "Ответ 42"

;; Использование apply для конкатенации последовательности строк
(apply str ["Соедините" " " "эти" " " "строки!"])
;; => "Соедините эти строки!"
```

Отлично, теперь вы видели это на практике. Просто помните, что `str` работает с любым значением, вызывая на нем `toString`. Если это nil, вы получите строку "nil".

## Погружение в Детали

Исторически, конкатенация строк существует с тех пор, как нам потребовалась обработка текста программным способом, и каждый язык предлагает свои методы. В Clojure, `str` является частью основной библиотеки, введенной для простоты и унификации.

Альтернативы `str`? Да! `StringBuilder` может быть более эффективен для большого количества конкатенаций, особенно в циклах. Clojure может вызывать Java методы, так что вы также можете использовать `StringBuilder`:

```clojure
;; Использование StringBuilder для повышения эффективности
(let [builder (StringBuilder.)]
  (.append builder "Это")
  (.append builder " более")
  (.append builder " эффективный способ!")
  (.toString builder))
;; => "Это более эффективный способ!"
```

Почему тогда не использовать всегда `StringBuilder`? Для большинства повседневных задач `str` проще и достаточно быстр. `StringBuilder` выделяется в сценариях высокой производительности с множеством конкатенаций.

С точки зрения реализации, поскольку Clojure работает на JVM, он получает выгоду из возможностей обработки строк Java. Однако, как и в случае со строками `String` в Java, каждый вызов `str` создает новую `String`, что может быть важным с точки зрения использования памяти.

## Смотрите также:

- Документация функции `str` в Clojure: [Clojure Strings](https://clojuredocs.org/clojure.core/str)
- `StringBuilder` в Java: [Документация StringBuilder](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html)
- Практическое руководство по `str` и не только: [Clojure для Смелых и Правдивых](https://www.braveclojure.com/clojure-for-the-brave-and-true/)
