---
title:                "Преобразование строки в нижний регистр"
date:                  2024-01-28T23:56:51.130093-07:00
model:                 gpt-4-0125-preview
simple_title:         "Преобразование строки в нижний регистр"

tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c/converting-a-string-to-lower-case.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и зачем?

Преобразование строки в нижний регистр означает изменение всех букв верхнего регистра на их аналоги в нижнем регистре. Это делается для обеспечения единообразия, поиска, сравнения и сортировки, где учет регистра может все испортить.

## Как это сделать:

В C вы обычно будете перебирать строку, преобразуя каждый символ. Вот быстрый пример:

```c
#include <stdio.h>
#include <ctype.h>

void toLowercase(char *str) {
    if (!str) return; // Проверка на безопасность
    while (*str) {
        *str = tolower((unsigned char)*str); // Преобразовываем каждый символ в нижний регистр
        str++; // Переходим к следующему символу
    }
}

int main() {
    char myStr[] = "Hello, World!";
    toLowercase(myStr);
    printf("%s\n", myStr); // Выводит: hello, world!
    return 0;
}
```

## Подробнее

Давным-давно, когда объемы памяти компьютеров были малы, люди заботились о каждом байте. Преобразование строк не было тривиальным; использование одного регистра по умолчанию экономило место. Сейчас дело меньше в пространстве, больше в функциональности.

Почему используем `tolower`, а не пишем свою функцию? В стандартной библиотеке C она уже есть. Она обрабатывает особенности различных наборов символов и локалей. Самостоятельно написать свою функцию? Вероятно, вы пропустите крайние случаи. К тому же, использование стандартной библиотеки означает меньше кода для поддержки.

Интересный факт: В старом ASCII 32 было волшебным числом, разделяющим регистры—добавляйте или вычитайте 32, чтобы перейти от 'A' к 'a'. С Unicode так просто уже не получится.

Альтернативы? Библиотеки. Для современного программиста на C библиотеки вроде GLib преобразуют строки в мгновение ока, обрабатывая UTF-8 и тому подобное, но это избыточно для ASCII строк.

## Смотрите также

- Справочник по стандартной библиотеке C: <http://www.cplusplus.com/reference/cctype/tolower/>
- Таблица ASCII и описание: <https://www.asciitable.com/>
- Манипуляции с Unicode в GLib: <https://developer.gnome.org/glib/stable/glib-Unicode-Manipulation.html>
