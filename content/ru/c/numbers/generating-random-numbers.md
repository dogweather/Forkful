---
title:                "Генерация случайных чисел"
date:                  2024-02-03T17:57:47.103230-07:00
model:                 gpt-4-0125-preview
simple_title:         "Генерация случайных чисел"
tag:                  "Numbers"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c/generating-random-numbers.md"
changelog:
  - 2024-02-03, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Генерация случайных чисел на C включает создание непредсказуемых значений, которые следуют определённому распределению, такому как равномерное или нормальное. Эта возможность имеет решающее значение для приложений, варьирующих от симуляций и игр до криптографических операций, где непредсказуемость или имитация реальной случайности является необходимой.

## Как:

В C случайные числа можно генерировать с использованием функции `rand()`, которая является частью стандартной библиотеки C `<stdlib.h>`. По умолчанию `rand()` производит псевдослучайные числа в диапазоне от 0 до `RAND_MAX` (константа, определенная в `<stdlib.h>`). Для более точного контроля над диапазоном программисты могут манипулировать выводом `rand()`.

Вот простой пример генерации случайного числа от 0 до 99:

```c
#include <stdio.h>
#include <stdlib.h> // Для rand() и srand()
#include <time.h>   // Для time()

int main() {
    // Инициализация генератора случайных чисел
    srand((unsigned) time(NULL));

    // Генерация случайного числа от 0 до 99
    int randomNumber = rand() % 100;

    printf("Случайное число: %d\n", randomNumber);

    return 0;
}
```

Пример вывода может отличаться при каждом запуске программы:

```
Случайное число: 42
```
Чтобы генерировать случайные числа в другом диапазоне, можно соответствующим образом настроить оператор остатка от деления (`%`). Например, `rand() % 10` генерирует числа от 0 до 9.

Важно отметить, что инициализация генератора псевдослучайных чисел (`srand()` вызов) с использованием текущего времени (`time(NULL)`) обеспечивает различные последовательности случайных чисел при выполнении программы. Без инициализации (`srand()`), `rand()` будет производить одну и ту же последовательность чисел каждый раз при запуске программы.

## Углубляемся

Функция `rand()` и ее функция инициализации `srand()` являются частью стандартной библиотеки C на протяжении десятилетий. Они основаны на алгоритмах, генерирующих последовательности чисел, которые только кажутся случайными—отсюда термин "псевдослучайные". Основной алгоритм в `rand()` обычно является генератором линейных конгруэнций (LCG).

Хотя `rand()` и `srand()` достаточны для многих приложений, они имеют известные ограничения, особенно в отношении качества случайности и потенциальной предсказуемости. Для приложений, требующих высококачественной случайности, таких как криптографические операции, следует рассмотреть альтернативы, такие как `/dev/random` или `/dev/urandom` (на системах, подобных Unix), или API, предоставляемые криптографическими библиотеками.

С введением C11, в стандарт ISO C был включен новый заголовочный файл, `<stdatomic.h>`, предлагающий более тонкое управление для параллельных операций, но не прямо касающийся случайности. Для достижения истинной случайности на C разработчики часто обращаются к специфичным для платформы или внешним библиотекам, которые предлагают лучшие алгоритмы или используют источники энтропии аппаратуры.

Помните, что хотя `rand()` служит простым и доступным средством для генерации псевдослучайных чисел, его использование в современных приложениях ограничено качеством и предсказуемостью его вывода. Когда требуются более надежные решения, особенно для приложений, ориентированных на безопасность, настоятельно рекомендуется исследовать возможности за пределами стандартной библиотеки.
