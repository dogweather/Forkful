---
title:                "Удаление символов, соответствующих шаблону"
date:                  2024-01-28T23:56:42.834938-07:00
model:                 gpt-4-0125-preview
simple_title:         "Удаление символов, соответствующих шаблону"

tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c/deleting-characters-matching-a-pattern.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
Удаление символов, соответствующих шаблону в C, заключается в поиске и удалении определенных последовательностей символов из строк. Программисты делают это для санации входных данных, манипуляции текстом или подготовки данных к обработке.

## Как это сделать:
Чтобы удалить символы, соответствующие шаблону, из строки, мы можем использовать функцию `strpbrk` для поиска вхождений и `strcpy` или `memmove` для перемещения текста. Вот быстрый пример:

```c
#include <stdio.h>
#include <string.h>

void delete_pattern(char *str, const char *pattern) {
    char *match;
    while ((match = strpbrk(str, pattern)) != NULL) {
        memmove(match, match + 1, strlen(match));
    }
}

int main() {
    char text[] = "Hello, World! Today is 2023.";
    delete_pattern(text, "o3!");
    printf("%s\n", text); // Вывод: Hell, Wrld Tday is 22.
    return 0;
}
```
Этот код находит и удаляет символы 'o', '3' и '!', стирая их из строки.

## Углубленное изучение
В прошлом, до стандартизации функций как `strpbrk`, кодеры часто писали циклы, проверяя каждый символ на соответствие шаблону — это было утомительно, но необходимо. Сегодняшняя стандартная библиотека C убирает много этой рутинной работы, но всегда полезно понимать, что происходит под капотом.

`strpbrk` сканирует строку на предмет первого совпадения в наборе символов, а `memmove` безопасно перемещает байты, даже если они перекрываются. Это отличается от `strcpy`, которая не может обрабатывать перекрывающуюся память без сбоев.

Альтернативы включают в себя библиотеки регулярных выражений для сложных шаблонов или ручное циклирование для тонкого контроля. Но всегда есть компромисс между включением внешних библиотек или созданием собственных решений с учетом производительности или ограничений памяти.

## См. также
- [Функции библиотеки строк C](https://www.cplusplus.com/reference/cstring/)
- [Регулярные выражения в C](https://www.regular-expressions.info/posix.html)
