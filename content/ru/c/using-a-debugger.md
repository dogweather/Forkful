---
title:                "Использование отладчика"
date:                  2024-01-29T00:03:19.467738-07:00
model:                 gpt-4-0125-preview
simple_title:         "Использование отладчика"

tag:                  "Testing and Debugging"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c/using-a-debugger.md"
changelog:
  - 2024-01-29, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
Отладчик — это инструмент, который позволяет вам проверять ваш код на C во время его выполнения, шаг за шагом, чтобы отслеживать ошибки. Программисты используют отладчики для понимания поведения своего кода, исправления проблем и оптимизации производительности без игр в угадывание.

## Как использовать:
Представим, вы работаете с простой программой на C, которая вычисляет факториал числа, но возникает сбой. Чтобы использовать отладчик, такой как `gdb` (GNU Debugger), сначала скомпилируйте с флагом `-g`, чтобы включить отладочную информацию:

```c
// компиляция с: gcc factorial.c -o factorial -g
#include <stdio.h>

long factorial(int n) {
    if (n < 0) return 0; // Простая проверка на отрицательное значение
    long result = 1;
    while (n > 1)
        result *= n--;
    return result;
}

int main() {
    int number = 5;
    long result = factorial(number);
    printf("Факториал числа %d равен %ld\n", number, result);
    return 0;
}
```

Затем запустите его в gdb:

```shell
$ gdb ./factorial
```

Установите точку останова на функции `factorial` и запустите программу:

```gdb
(gdb) break factorial
(gdb) run
```

Когда выполнение достигнет точки останова, пройдитесь по каждой строке с помощью `next` или `n` и проверьте переменные с помощью `print` или `p`:

```gdb
(gdb) next
(gdb) print result
$1 = 1
```

Пример вывода предоставит значения в реальном времени и поток выполнения программы.

## Глубокое погружение
Отладчики существуют с 1960-х годов, эволюционируя от простых мониторов до сложных приложений с графическим интерфейсом. Отладка на основе вывода сообщений была распространена до разработки зрелых отладчиков. Альтернативы `gdb` включают `lldb`, `dbx` или интегрированные в IDE отладчики, такие как те, что имеются в Visual Studio или CLion.

При работе с отладчиками реализация различается — некоторые могут перехватывать ошибки времени выполнения, исследовать память или даже обращать исполнение программы вспять. `gdb` может подключаться к уже выполняющимся процессам, что позволяет отлаживать уже работающее программное обеспечение и является благом при исправлении ошибок на работающих системах.

## См. также
- GNU Debugger (GDB): https://www.gnu.org/software/gdb/documentation/
- Отладка с GDB: https://sourceware.org/gdb/current/onlinedocs/gdb
- Отладчик LLDB: https://lldb.llvm.org/use/tutorial.html
- Техники отладки в C: http://www.cprogramming.com/debugging/debugging.html
