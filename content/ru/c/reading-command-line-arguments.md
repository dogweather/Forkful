---
title:                "Чтение аргументов командной строки"
date:                  2024-01-29T00:01:25.413497-07:00
model:                 gpt-4-0125-preview
simple_title:         "Чтение аргументов командной строки"

tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c/reading-command-line-arguments.md"
changelog:
  - 2024-01-29, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Зачем?

Пожалуй, каждый программист сталкивался с аргументами командной строки. Они позволяют пользователям передавать данные в вашу программу. Их использование может радикально изменить поведение вашей программы без изменения кода—подумайте о чит-кодах для геймеров, но для программистов.

## Как это сделать:

```C
#include <stdio.h>

int main(int argc, char *argv[]) {
    printf("Вы ввели %d аргумент(ов):\n", argc);
    for(int i = 0; i < argc; i++) {
        printf("arg%d: %s\n", i, argv[i]);
    }
    return 0;
}
```

Пример вывода при вызове `./yourprogram Hello World!`:

```
Вы ввели 3 аргумента:
arg0: ./yourprogram
arg1: Hello
arg2: World!
```

## Погружаемся глубже

Однажды в эпоху Unix командные строки терминала были на первом месте. Ныне королевством являются ГПИ (графические пользовательские интерфейсы), но аргументы командной строки далеки от исчезновения—подумайте о скриптах, автоматизированных задачах или сложных параметрах приложений.

Аргументы в C поступают через два параметра в `main()`: `argc` (количество аргументов) и `argv` (вектор аргументов). `argc` сообщает вам, сколько аргументов есть, а `argv` — это массив строк, содержащий сами аргументы, при этом `argv[0]` является именем программы.

Существуют альтернативы, такие как `getopt()` для систем, подобных Unix, которые могут адекватно разбирать опции и их аргументы. Также, библиотеки вроде `argp` помогают в более сложных сценариях разбора.

Основная работа включает знание о указателях и массивах, поскольку `argv` является массивом указателей на символы—по сути, серией строк. Когда программа обрабатывает командную строку, она рассматривает пробелы как разделители аргументов, если только кавычки не объединяют отдельный аргумент.

## Смотрите также

- Раздел "Аргументы программы" в руководстве GNU C Library [Program Arguments](https://www.gnu.org/software/libc/manual/html_node/Program-Arguments.html)
- [Статья о командно-строковом интерфейсе на Википедии](https://en.wikipedia.org/wiki/Command-line_interface#Arguments)
- ["Аргументы командной строки в C" на tutorialspoint](https://www.tutorialspoint.com/cprogramming/c_command_line_arguments.htm)
