---
title:                "Преобразование строки в верхний регистр"
date:                  2024-02-03T17:53:07.214614-07:00
model:                 gpt-4-0125-preview
simple_title:         "Преобразование строки в верхний регистр"
tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c/capitalizing-a-string.md"
changelog:
  - 2024-02-03, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Приведение строки к заглавному регистру в C заключается в преобразовании первого символа каждого слова в данной строке в верхний регистр, если это символ нижнего регистра. Программисты часто выполняют эту операцию для стандартизации пользовательского ввода для поиска, операций сортировки или отображения, обеспечивая согласованность и читаемость текстовых данных.

## Как:

Приведение строки к заглавному регистру в C требует базового понимания манипуляции с символами и перебора строк. Поскольку в C нет встроенной функции для этого, обычно проверяется каждый символ, при необходимости корректируя его регистр. Ниже приведена простая реализация:

```c
#include <stdio.h>
#include <ctype.h> // Для функций islower и toupper

void capitalizeString(char *str) {
    if (str == NULL) return; // Проверка на безопасность
    
    int capNext = 1; // Флаг, указывающий на необходимость приведения следующей буквы к заглавной
    for (int i = 0; str[i] != '\0'; i++) {
        if (capNext && islower(str[i])) {
            str[i] = toupper(str[i]); // Приведение символа к заглавному регистру
            capNext = 0; // Сброс флага
        } else if (str[i] == ' ') {
            capNext = 1; // Следующий символ должен быть приведен к заглавному регистру
        }
    }
}

int main() {
    char exampleString[] = "hello world. programming in c!";
    capitalizeString(exampleString);
    printf("Capitalized string: %s\n", exampleString);
    return 0;
}
```

Пример вывода:
```
Capitalized string: Hello World. Programming In C!
```

Эта программа перебирает строку `exampleString`, проверяя, должен ли быть приведен к заглавному регистру каждый символ. Функция `islower` проверяет, является ли символ буквой нижнего регистра, а `toupper` преобразует его в верхний регистр. Флаг `capNext` определяет, должен ли следующий встреченный символ быть преобразован, устанавливаясь после каждого найденного пробела (' ') и изначально для приведения к заглавному регистру первого символа строки.

## Подробнее

Показанный метод прост, но неэффективен для очень больших строк или когда выполняется многократно в приложениях, требующих высокой производительности. В историческом и реализационном контекстах манипуляции со строками в C, включая приведение к заглавным буквам, часто включают непосредственную манипуляцию буфером, отражая низкоуровневый подход C и предоставляя программисту полный контроль над компромиссами между памятью и производительностью.

Существуют альтернативные, более сложные методы приведения строк к заглавному регистру, особенно при учете локалей и символов Юникода, где правила приведения к заглавному регистру могут значительно отличаться от простого сценария ASCII. Библиотеки, такие как ICU (International Components for Unicode), предоставляют надежные решения для этих случаев, но вводят зависимости и накладные расходы, которые могут быть не необходимы для всех приложений.

Кроме того, в то время как в приведенном примере используются функции стандартной библиотеки C `islower` и `toupper`, которые являются частью `<ctype.h>`, важно понимать, что они работают в пределах диапазона ASCII. Для приложений, требующих обработки символов за пределами ASCII, таких как обработка акцентированных символов в европейских языках, потребуется дополнительная логика или сторонние библиотеки для точного выполнения приведения к заглавному регистру.

В заключение, хотя описанный метод подходит для многих приложений, понимание его ограничений и доступных альтернатив имеет решающее значение для разработки надежного, интернационализированного программного обеспечения на C.
