---
title:                "Сцепление строк"
date:                  2024-02-03T17:54:02.501668-07:00
model:                 gpt-4-0125-preview
simple_title:         "Сцепление строк"
tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c/concatenating-strings.md"
changelog:
  - 2024-02-03, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Конкатенация строк в C заключается в объединении двух или более строк в конец к концу для формирования новой строки. Программисты выполняют эту операцию для динамического создания строк во время выполнения, что необходимо для создания осмысленных сообщений, путей файлов или любых данных, собранных из различных источников строк.

## Как это сделать:

В C строки – это массивы символов, заканчивающиеся нулевым символом (`\0`). В отличие от высокоуровневых языков, C не предоставляет встроенной функции конкатенации строк. Вместо этого вы используете функции `strcat()` или `strncat()` из библиотеки `<string.h>`.

Вот простой пример с использованием `strcat()`:

```c
#include <stdio.h>
#include <string.h>

int main() {
    char destination[50] = "Hello, ";
    char source[] = "World!";

    strcat(destination, source);

    printf("%s\n", destination);  // Вывод: Hello, World!
    return 0;
}
```

Функция `strcat()` принимает два аргумента: строку назначения (которая должна иметь достаточно места для хранения результата конкатенации) и исходную строку. Она добавляет исходную строку к строке назначения.

Для более точного контроля над количеством конкатенируемых символов безопаснее использовать `strncat()`:

```c
#include <stdio.h>
#include <string.h>

int main() {
    char destination[50] = "Hello, ";
    char source[] = "World!";
    int num = 3; // Количество добавляемых символов

    strncat(destination, source, num);

    printf("%s\n", destination);  // Вывод: Hello, Wor
    return 0;
}
```

Это ограничивает конкатенацию первыми `num` символами исходной строки, помогая предотвратить переполнение буфера.

## Более глубокое погружение

Функции `strcat()` и `strncat()` были частью стандартной библиотеки C с момента её создания, отражая низкоуровневый характер языка, который требует ручного управления строками и памятью. В отличие от многих современных языков программирования, которые рассматривают строки как объекты первого класса с встроенными операторами конкатенации (такими как `+` или `.concat()`), подход C требует более глубокого понимания указателей, выделения памяти и потенциальных подводных камней, таких как переполнение буфера.

Несмотря на то что `strcat()` и `strncat()` широко используются, их часто критикуют за потенциальную возможность создания уязвимостей безопасности, если их использовать неосторожно. Переполнения буфера, при которых данные превышают выделенную память, могут привести к сбоям или быть использованы для выполнения произвольного кода. В результате программисты всё чаще обращаются к более безопасным альтернативам, таким как `snprintf()`, которая обеспечивает более предсказуемое поведение, ограничивая количество символов, записываемых в строку назначения, на основе её размера:

```c
char destination[50] = "Hello, ";
char source[] = "World!";
snprintf(destination + strlen(destination), sizeof(destination) - strlen(destination), "%s", source);
```

Этот метод более громоздкий, но значительно безопаснее, подчеркивая сдвиг в практиках программирования на C в сторону приоритета безопасности и надежности перед краткостью.

Несмотря на эти вызовы, конкатенация строк в C является основным навыком, критически важным для эффективного программирования на языке. Понимание её нюансов и связанных с ней рисков ключевое для овладения программированием на C.
