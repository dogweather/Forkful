---
title:                "Проверка существования директории"
aliases:
- ru/c-sharp/checking-if-a-directory-exists.md
date:                  2024-01-28T23:55:51.017119-07:00
model:                 gpt-4-0125-preview
simple_title:         "Проверка существования директории"

tag:                  "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/c-sharp/checking-if-a-directory-exists.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
Проверка наличия каталога в C# позволяет удостовериться, что определенная папка доступна в файловой системе. Программисты делают это, чтобы избежать ошибок, например, при попытке чтения из или записи в несуществующий каталог, что могло бы вызвать сбои в работе их программ или непредсказуемое поведение.

## Как:
Вот как можно проверить наличие каталога с использованием пространства имен `System.IO`:

```C#
using System;
using System.IO;

class Program
{
    static void Main()
    {
        string directoryPath = @"C:\exampleFolder";

        if (Directory.Exists(directoryPath))
        {
            Console.WriteLine("Каталог существует.");
        }
        else
        {
            Console.WriteLine("Каталог не существует.");
        }
    }
}
```
Пример вывода:
```
Каталог существует.
```
Или, если каталог не найден:
```
Каталог не существует.
```

## Подробнее
Пространство имен `System.IO` существует с начальных дней .NET, предоставляя инструменты для работы с файлами и каталогами. При проверке наличия каталога под капотом оно использует системный API для запроса файловой системы -- операция, как правило, не требует много системных ресурсов.

Также есть класс `DirectoryInfo`, предлагающий объектно-ориентированный способ взаимодействия с каталогами. Он может быть медленнее для простой проверки наличия, поскольку создает объект с большим объемом данных, чем просто состояние существования, но он удобен для более сложных операций.

```C#
DirectoryInfo dirInfo = new DirectoryInfo(directoryPath);
if (dirInfo.Exists)
{
    // Делаем что-то с каталогом.
}
```

Перед `System.IO` разработчики могли использовать специфичные для платформы API или обращаться к командным утилитам для проверки существования каталога, что было грязным делом и чревато проблемами. `System.IO` красиво абстрагировало это.

Важно отметить, что проверки на существование могут подвергаться состоянию гонки. То, что каталог существует в момент проверки, не гарантирует его существование через мгновение, когда вы попытаетесь использовать его, из-за возможных изменений со стороны других процессов или пользователей.

## См. также
- [Документация MSDN по System.IO.Directory.Exists](https://docs.microsoft.com/en-us/dotnet/api/system.io.directory.exists)
- [Документация MSDN по System.IO.DirectoryInfo](https://docs.microsoft.com/en-us/dotnet/api/system.io.directoryinfo)
- [Обсуждение на StackOverflow о проверке существования каталога](https://stackoverflow.com/questions/1410127/c-sharp-test-if-user-has-write-access-to-a-folder)
