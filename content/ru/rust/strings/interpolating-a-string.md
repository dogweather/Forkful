---
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:58:58.923046-07:00
description: "\u0418\u043D\u0442\u0435\u0440\u043F\u043E\u043B\u044F\u0446\u0438\u044F\
  \ \u0441\u0442\u0440\u043E\u043A \u0432\u043A\u043B\u044E\u0447\u0430\u0435\u0442\
  \ \u0432\u0441\u0442\u0430\u0432\u043A\u0443 \u043F\u0435\u0440\u0435\u043C\u0435\
  \u043D\u043D\u044B\u0445 \u043D\u0435\u043F\u043E\u0441\u0440\u0435\u0434\u0441\u0442\
  \u0432\u0435\u043D\u043D\u043E \u0432 \u0441\u0442\u0440\u043E\u043A\u0438. \u042D\
  \u0442\u043E \u0434\u0435\u043B\u0430\u0435\u0442 \u043F\u043E\u0441\u0442\u0440\
  \u043E\u0435\u043D\u0438\u0435 \u0441\u0442\u0440\u043E\u043A \u043F\u043B\u0430\
  \u0432\u043D\u044B\u043C \u0438 \u0447\u0438\u0442\u0430\u0435\u043C\u044B\u043C\
  , \u0438\u0437\u0431\u0435\u0433\u0430\u044F \u043D\u0435\u0443\u043A\u043B\u044E\
  \u0436\u0438\u0445 \u043A\u043E\u043D\u043A\u0430\u0442\u0435\u043D\u0430\u0446\u0438\
  \u0439."
lastmod: '2024-03-13T22:44:44.640339-06:00'
model: gpt-4-0125-preview
summary: "\u0418\u043D\u0442\u0435\u0440\u043F\u043E\u043B\u044F\u0446\u0438\u044F\
  \ \u0441\u0442\u0440\u043E\u043A \u0432\u043A\u043B\u044E\u0447\u0430\u0435\u0442\
  \ \u0432\u0441\u0442\u0430\u0432\u043A\u0443 \u043F\u0435\u0440\u0435\u043C\u0435\
  \u043D\u043D\u044B\u0445 \u043D\u0435\u043F\u043E\u0441\u0440\u0435\u0434\u0441\u0442\
  \u0432\u0435\u043D\u043D\u043E \u0432 \u0441\u0442\u0440\u043E\u043A\u0438."
title: "\u0418\u043D\u0442\u0435\u0440\u043F\u043E\u043B\u044F\u0446\u0438\u044F \u0441\
  \u0442\u0440\u043E\u043A\u0438"
weight: 8
---

## Как это сделать:
В Rust мы используем макрос `format!`:

```Rust
fn main() {
    let name = "Ferris";
    let greeting = format!("Привет, {}!", name);
    println!("{}", greeting); // Выведет "Привет, Ferris!"
}
```
Макрос `format!` работает так же, как `println!`, но возвращает отформатированную строку вместо её вывода.

## Погружение в тему
Rust выбрал макросы вроде `format!` для интерполяции строк вместо синтаксиса внутри языка. Почему? Макросы мощные и гибкие — они расширяют функциональность языка без усложнения синтаксиса.

Исторически, языки вроде C использовали функции вроде `sprintf`, которые были неуклюжими и склонными к ошибкам. Макрос `format!` в Rust безопаснее, предотвращая распространённые ошибки.

Существуют альтернативы, например, конкатенация с использованием `+` или макрос `format_args!` для избежания выделения памяти на куче. Но когда речь идёт о простоте и ясности, `format!` — король.

Замечание о производительности: `format!` выделяет память. Для кода, где критична производительность, рассмотрите другие методы, такие как прямая запись в буфер.

## Смотрите также
- Официальная документация Rust по `format!`: https://doc.rust-lang.org/std/macro.format.html
- Сравнение `format!` и `println!`: https://doc.rust-lang.org/book/ch01-02-hello-world.html
- Rust by Example по форматированию: https://doc.rust-lang.org/rust-by-example/hello/print/print_display.html
