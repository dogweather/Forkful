---
aliases:
- /ru/rust/working-with-csv/
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:04:19.748144-07:00
description: "CSV, \u0447\u0442\u043E \u043E\u0437\u043D\u0430\u0447\u0430\u0435\u0442\
  \ \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F, \u0440\u0430\u0437\u0434\u0435\
  \u043B\u0451\u043D\u043D\u044B\u0435 \u0437\u0430\u043F\u044F\u0442\u044B\u043C\u0438\
  , - \u044D\u0442\u043E \u0444\u043E\u0440\u043C\u0430\u0442 \u0444\u0430\u0439\u043B\
  \u0430, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C\u044B\u0439\
  \ \u0434\u043B\u044F \u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u0442\u0430\
  \u0431\u043B\u0438\u0447\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445\
  . \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u043E\
  \u0431\u043E\u0436\u0430\u044E\u0442 CSV \u0437\u0430 \u0435\u0433\u043E \u043F\u0440\
  \u043E\u0441\u0442\u043E\u0442\u0443\u2026"
lastmod: 2024-02-18 23:08:56.762634
model: gpt-4-0125-preview
summary: "CSV, \u0447\u0442\u043E \u043E\u0437\u043D\u0430\u0447\u0430\u0435\u0442\
  \ \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F, \u0440\u0430\u0437\u0434\u0435\
  \u043B\u0451\u043D\u043D\u044B\u0435 \u0437\u0430\u043F\u044F\u0442\u044B\u043C\u0438\
  , - \u044D\u0442\u043E \u0444\u043E\u0440\u043C\u0430\u0442 \u0444\u0430\u0439\u043B\
  \u0430, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C\u044B\u0439\
  \ \u0434\u043B\u044F \u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u0442\u0430\
  \u0431\u043B\u0438\u0447\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445\
  . \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B \u043E\
  \u0431\u043E\u0436\u0430\u044E\u0442 CSV \u0437\u0430 \u0435\u0433\u043E \u043F\u0440\
  \u043E\u0441\u0442\u043E\u0442\u0443\u2026"
title: "\u0420\u0430\u0431\u043E\u0442\u0430 \u0441 CSV"
---

{{< edit_this_page >}}

## Что и зачем?

CSV, что означает значения, разделённые запятыми, - это формат файла, используемый для хранения табличных данных. Программисты обожают CSV за его простоту и широкую поддержку инструментами и языками программирования для манипуляции с данными, импорта и экспорта.

## Как это сделать:

Сначала добавьте необходимый контейнер в `Cargo.toml`:

```toml
[dependencies]
csv = "1.1"
```

Затем обработайте чтение CSV:

```rust
use csv::Reader;
use std::error::Error;

fn main() -> Result<(), Box<dyn Error>> {
    let mut rdr = Reader::from_path("data.csv")?;
    for result in rdr.records() {
        let record = result?;
        println!("{:?}", record);
    }
    Ok(())
}
```

Запись в CSV:

```rust
use csv::Writer;
use std::error::Error;

fn main() -> Result<(), Box<dyn Error>> {
    let mut wtr = Writer::from_path("output.csv")?;
    wtr.write_record(&["name", "city", "age"])?;
    wtr.write_record(&["Jane", "New York", "30"])?;
    wtr.flush()?;
    Ok(())
}
```

Пример вывода для чтения:

```
StringRecord(["Jane", "New York", "30"])
```

## Погружение в тему

CSV существует с первых дней персональных компьютеров, используется для обмена данными между программами и системами. Хотя JSON и XML предоставляют больше структурированности, CSV остаётся популярным за его легковесность и простоту использования.

Альтернативы контейнеру csv в Rust включают `serde_csv`, предлагающий удобную сериализацию и десериализацию, и `papercut`, сосредоточенный на безопасном и удобном разборе CSV.

Разбор CSV в Rust ограничен вводом-выводом. Эффективная обработка включает использование итераторов и надежную обработку ошибок в Rust для управления неправильно оформленными данными.

## См. также

- Документация по контейнеру CSV в Rust: https://docs.rs/csv/
- Книга "Язык программирования Rust": https://doc.rust-lang.org/book/
- Serde: https://serde.rs/ - фреймворк для сериализации и десериализации структур данных Rust.
- Rust на примере, CSV: https://rustbyexample.com/std_misc/file/csv.html
