---
title:                "Чтение аргументов командной строки"
date:                  2024-03-08T21:55:45.649884-07:00
model:                 gpt-4-0125-preview
changelog:
  - 2024-03-08, OpenAIModel.GPT_4_TURBO, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Чтение аргументов командной строки в Dart позволяет программистам напрямую вводить данные в консоль при выполнении программы на Dart, повышая ее интерактивность и гибкость для различных случаев использования, включая скрипты автоматизации, инструменты CLI или пакетную обработку. Эта функциональность является ключевой для создания адаптивных и удобных приложений командной строки.

## Как:

Dart предлагает простой способ доступа к аргументам командной строки через `List<String> args` в главном методе. Ниже приведен простой пример, демонстрирующий, как читать и использовать аргументы командной строки.

```dart
// main.dart
void main(List<String> args) {
  print('Аргументы командной строки:');
  for (var i = 0; i < args.length; i++) {
    print('${i + 1}: ${args[i]}');
  }
}
```

Чтобы запустить эту программу на Dart и передать аргументы командной строки, используйте Dart CLI следующим образом:

```shell
dart run main.dart Привет Мир!
```

Ожидаемый вывод:

```
Аргументы командной строки:
1: Привет
2: Мир!
```

### Использование популярной сторонней библиотеки: `args`

Хотя встроенные возможности Dart для обработки аргументов командной строки являются надежными для многих приложений, пакет `args` предлагает усовершенствованный способ определения и разбора аргументов командной строки для более сложных потребностей.

Сначала добавьте пакет `args` в ваш `pubspec.yaml`:

```yaml
dependencies:
  args: ^2.0.0
```

Затем используйте его в своей программе следующим образом:

```dart
// Использование пакета 'args'
import 'package:args/args.dart';

void main(List<String> arguments) {
  final parser = ArgParser()..addOption('name', abbr: 'n');
  final argResults = parser.parse(arguments);

  if (argResults.wasParsed('name')) {
    print('Привет, ${argResults['name']}!');
  } else {
    print('Имя не предоставлено.');
  }
}
```

Запустите программу с именованным аргументом:

```shell
dart run main.dart --name=Джон
```

Ожидаемый вывод:

```
Привет, Джон!
```

Это простое введение в разбор аргументов командной строки, как средствами самого Dart, так и с помощью библиотеки `args`, демонстрирует, как Dart может обрабатывать пользовательские вводы прямо из консоли, открывая путь к созданию более интерактивных и динамичных приложений CLI.
