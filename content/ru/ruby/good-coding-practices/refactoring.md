---
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:01:55.900127-07:00
description: "\u0420\u0435\u0444\u0430\u043A\u0442\u043E\u0440\u0438\u043D\u0433 -\
  \ \u044D\u0442\u043E \u043F\u0440\u043E\u0446\u0435\u0441\u0441 \u0440\u0435\u0441\
  \u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\
  \u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0433\u043E \u043A\u043E\
  \u043C\u043F\u044C\u044E\u0442\u0435\u0440\u043D\u043E\u0433\u043E \u043A\u043E\u0434\
  \u0430 \u0431\u0435\u0437 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F\
  \ \u0435\u0433\u043E \u0432\u043D\u0435\u0448\u043D\u0435\u0433\u043E \u043F\u043E\
  \u0432\u0435\u0434\u0435\u043D\u0438\u044F. \u041F\u0440\u043E\u0433\u0440\u0430\
  \u043C\u043C\u0438\u0441\u0442\u044B \u043F\u0440\u043E\u0432\u043E\u0434\u044F\u0442\
  \ \u0440\u0435\u0444\u0430\u043A\u0442\u043E\u0440\u0438\u043D\u0433 \u0434\u043B\
  \u044F\u2026"
lastmod: '2024-03-13T22:44:46.013021-06:00'
model: gpt-4-0125-preview
summary: "\u0420\u0435\u0444\u0430\u043A\u0442\u043E\u0440\u0438\u043D\u0433 - \u044D\
  \u0442\u043E \u043F\u0440\u043E\u0446\u0435\u0441\u0441 \u0440\u0435\u0441\u0442\
  \u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0443\
  \u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0433\u043E \u043A\u043E\u043C\
  \u043F\u044C\u044E\u0442\u0435\u0440\u043D\u043E\u0433\u043E \u043A\u043E\u0434\u0430\
  \ \u0431\u0435\u0437 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0435\
  \u0433\u043E \u0432\u043D\u0435\u0448\u043D\u0435\u0433\u043E \u043F\u043E\u0432\
  \u0435\u0434\u0435\u043D\u0438\u044F."
title: "\u0420\u0435\u0444\u0430\u043A\u0442\u043E\u0440\u0438\u043D\u0433"
weight: 19
---

## Как:
Давайте рассмотрим пример рефакторинга метода Ruby, который вычисляет сумму квадратов.

**До Рефакторинга:**
```ruby
def sum_of_squares(numbers)
  sum = 0
  numbers.each do |number|
    square = number * number
    sum += square
  end
  sum
end

puts sum_of_squares([1, 2, 3])  # Вывод: 14
```

**После Рефакторинга:**
```ruby
def sum_of_squares(numbers)
  numbers.map { |number| number**2 }.sum
end

puts sum_of_squares([1, 2, 3])  # Вывод: 14
```

Рефакторинг версия использует возможности Ruby Enumerables для более краткого и ясного выражения той же логики. Метод `map` трансформирует каждый элемент, а `sum` агрегирует их значения, избавляя от необходимости в ручном управлении циклом и назначении переменных.

## Глубокое Погружение
Рефакторинг имеет богатый исторический контекст, начиная с ранних практик в разработке программного обеспечения. Первые упоминания можно отследить до 1990-х годов, с значительными вкладами от Мартина Фаулера в его книге "Рефакторинг: Улучшение проекта существующего кода", где он предоставляет каталог паттернов для рефакторинга. С тех пор рефакторинг стал краеугольным камнем практик гибкой разработки.

Когда мы говорим о альтернативах рефакторингу, нам либо нужно рассмотреть другой подход, как 'Переписывание', где вы заменяете старую систему частично или полностью, либо адаптировать практики, такие как 'Код-ревью' и 'Парное Программирование', для постепенного улучшения качества кода. Однако, это не замена рефакторингу; они дополняют процесс.

С точки зрения реализации, Ruby предоставляет отличный и выразительный синтаксис, который часто приводит к более короткому, более читаемому коду после рефакторинга. Основные принципы включают DRY (Don't Repeat Yourself - Не Повторяй Себя), использование значимых имен, поддержание методов короткими и сосредоточенными на одной задаче, а также эффективное использование модуля Enumerable Ruby, как показано в примере выше. Автоматизированные инструменты, такие как RuboCop, также могут помочь программистам определить места в коде, которые могут быть улучшены с помощью рефакторинга.

## См. также
Чтобы углубиться в рефакторинг на Ruby, изучите эти ресурсы:

- Фундаментальная книга Мартина Фаулера: [Рефакторинг: Улучшение проекта существующего кода](https://martinfowler.com/books/refactoring.html)
- Руководство по стилю Ruby для написания более чистого кода: [Руководство по стилю Ruby](https://rubystyle.guide/)
- RuboCop, статический анализатор кода (линтер) и форматер: [Репозиторий RuboCop на GitHub](https://github.com/rubocop/rubocop)
