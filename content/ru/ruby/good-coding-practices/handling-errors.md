---
title:                "Обработка ошибок"
aliases:
- /ru/ruby/handling-errors/
date:                  2024-01-28T23:58:56.774050-07:00
model:                 gpt-4-0125-preview
simple_title:         "Обработка ошибок"

tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/ruby/handling-errors.md"
changelog:
  - 2024-01-21, dogweather, Reviewed for accuracy
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Обработка ошибок заключается в ожидании непредвиденного в коде — управлении ошибками и проблемами удобно, без сбоев. Программисты делают это для контроля потока, когда что-то идет не так, и для обеспечения плавности пользовательского опыта.

## Как:

Ruby использует `begin`, `rescue`, `ensure` и `end` для обработки ошибок. Вы оборачиваете рискованный код в `begin` и `end`. Если происходит ошибка, в дело вступает `rescue`.

```Ruby
begin
  # Сюда идет рискованный код.
  puts 10 / 0
rescue ZeroDivisionError => e
  puts "Ой! Этого делать нельзя: #{e.message}"
ensure
  puts "Это всегда выполняется, была ошибка или нет."
end
```

Пример вывода:
```
Ой! Этого делать нельзя: деление на 0
Это всегда выполняется, была ошибка или нет.
```

## Погружение

Исторически, обработка ошибок в языках программирования значительно эволюционировала, при этом у ранних языков часто были грубые или несуществующие механизмы. Обработка исключений в Ruby вдохновлена языками вроде Python и Smalltalk.

Альтернативы `begin-rescue` в Ruby включают использование `rescue` в определениях методов или применение `throw` и `catch` для нестандартного управления потоком, хотя они не используются для типичной обработки ошибок.

Одна интересная деталь: исключения Ruby являются объектами (экземплярами класса `Exception` и его потомков), так что вы можете определять собственные классы ошибок и делать больше, чем просто регистрировать ошибки — вы можете переносить богатое состояние по программе для более надежной обработки ошибок.

## См. также

- Документация Ruby по исключениям и обработке ошибок: [ruby-doc.org](https://ruby-doc.org/core-3.1.0/doc/syntax/exceptions_rdoc.html)
- Подробное руководство по лучшим практикам обработки ошибок в Ruby: [thoughtbot.com](https://thoughtbot.com/blog/rescue-standarderror-not-exception)
