---
aliases:
- /ru/ruby/handling-errors/
changelog:
- 2024-01-21, dogweather, Reviewed for accuracy
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:58:56.774050-07:00
description: "\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u043E\u0448\u0438\
  \u0431\u043E\u043A \u0437\u0430\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0441\u044F\
  \ \u0432 \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0438 \u043D\u0435\u043F\u0440\
  \u0435\u0434\u0432\u0438\u0434\u0435\u043D\u043D\u043E\u0433\u043E \u0432 \u043A\
  \u043E\u0434\u0435 \u2014 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\
  \u0438 \u043E\u0448\u0438\u0431\u043A\u0430\u043C\u0438 \u0438 \u043F\u0440\u043E\
  \u0431\u043B\u0435\u043C\u0430\u043C\u0438 \u0443\u0434\u043E\u0431\u043D\u043E\
  , \u0431\u0435\u0437 \u0441\u0431\u043E\u0435\u0432. \u041F\u0440\u043E\u0433\u0440\
  \u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\u0435\u043B\u0430\u044E\u0442\
  \ \u044D\u0442\u043E \u0434\u043B\u044F \u043A\u043E\u043D\u0442\u0440\u043E\u043B\
  \u044F\u2026"
lastmod: 2024-02-18 23:08:57.629148
model: gpt-4-0125-preview
summary: "\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u043E\u0448\u0438\
  \u0431\u043E\u043A \u0437\u0430\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0441\u044F\
  \ \u0432 \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u0438 \u043D\u0435\u043F\u0440\
  \u0435\u0434\u0432\u0438\u0434\u0435\u043D\u043D\u043E\u0433\u043E \u0432 \u043A\
  \u043E\u0434\u0435 \u2014 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\
  \u0438 \u043E\u0448\u0438\u0431\u043A\u0430\u043C\u0438 \u0438 \u043F\u0440\u043E\
  \u0431\u043B\u0435\u043C\u0430\u043C\u0438 \u0443\u0434\u043E\u0431\u043D\u043E\
  , \u0431\u0435\u0437 \u0441\u0431\u043E\u0435\u0432. \u041F\u0440\u043E\u0433\u0440\
  \u0430\u043C\u043C\u0438\u0441\u0442\u044B \u0434\u0435\u043B\u0430\u044E\u0442\
  \ \u044D\u0442\u043E \u0434\u043B\u044F \u043A\u043E\u043D\u0442\u0440\u043E\u043B\
  \u044F\u2026"
title: "\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u043E\u0448\u0438\u0431\
  \u043E\u043A"
---

{{< edit_this_page >}}

## Что и Почему?

Обработка ошибок заключается в ожидании непредвиденного в коде — управлении ошибками и проблемами удобно, без сбоев. Программисты делают это для контроля потока, когда что-то идет не так, и для обеспечения плавности пользовательского опыта.

## Как:

Ruby использует `begin`, `rescue`, `ensure` и `end` для обработки ошибок. Вы оборачиваете рискованный код в `begin` и `end`. Если происходит ошибка, в дело вступает `rescue`.

```Ruby
begin
  # Сюда идет рискованный код.
  puts 10 / 0
rescue ZeroDivisionError => e
  puts "Ой! Этого делать нельзя: #{e.message}"
ensure
  puts "Это всегда выполняется, была ошибка или нет."
end
```

Пример вывода:
```
Ой! Этого делать нельзя: деление на 0
Это всегда выполняется, была ошибка или нет.
```

## Погружение

Исторически, обработка ошибок в языках программирования значительно эволюционировала, при этом у ранних языков часто были грубые или несуществующие механизмы. Обработка исключений в Ruby вдохновлена языками вроде Python и Smalltalk.

Альтернативы `begin-rescue` в Ruby включают использование `rescue` в определениях методов или применение `throw` и `catch` для нестандартного управления потоком, хотя они не используются для типичной обработки ошибок.

Одна интересная деталь: исключения Ruby являются объектами (экземплярами класса `Exception` и его потомков), так что вы можете определять собственные классы ошибок и делать больше, чем просто регистрировать ошибки — вы можете переносить богатое состояние по программе для более надежной обработки ошибок.

## См. также

- Документация Ruby по исключениям и обработке ошибок: [ruby-doc.org](https://ruby-doc.org/core-3.1.0/doc/syntax/exceptions_rdoc.html)
- Подробное руководство по лучшим практикам обработки ошибок в Ruby: [thoughtbot.com](https://thoughtbot.com/blog/rescue-standarderror-not-exception)
