---
title:                "Журналирование"
aliases:
- ru/ruby/logging.md
date:                  2024-01-28T23:59:56.168042-07:00
model:                 gpt-4-0125-preview
simple_title:         "Журналирование"

tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/ruby/logging.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и почему?
Логирование в программировании подобно ведению дневника для вашего приложения. Это систематическая запись событий, сообщений и точек данных, которые дают вам представление о том, что ваше приложение делает и как оно себя ведет. Программисты используют логирование, потому что это критически важно для отладки, мониторинга состояния приложения и получения подсказок о потенциальных проблемах, прежде чем они превратятся в настоящие проблемы.

## Как это делается:
Ruby содержит встроенный модуль для логирования, `Logger`, который очень прост в использовании. Вот быстрый пример, чтобы начать:

```ruby
require 'logger'

# Создаем Logger, который выводит данные в STDOUT
logger = Logger.new(STDOUT)
logger.level = Logger::INFO

# Примеры сообщений логов
logger.info("Это информационное сообщение")
logger.warn("Это предупреждающее сообщение")
logger.error("Это сообщение об ошибке")
```

Запуск вышеуказанного скрипта выведет что-то вроде следующего:

```
I, [2023-03-15T10:00:00.123456 #1234]  INFO -- : Это информационное сообщение
W, [2023-03-15T10:00:01.234567 #1234]  WARN -- : Это предупреждающее сообщение
E, [2023-03-15T10:00:02.345678 #1234] ERROR -- : Это сообщение об ошибке
```

Вы можете настроить формат лога и уровень, чтобы отфильтровать ненужный шум, а также направить логи в разные выходы, такие как файл или даже внешние службы логирования.

## Подробный анализ
Логирование - это словно давняя традиция в программировании. Исторически логи были простыми текстовыми файлами, которые вручную анализировались с помощью инструментов вроде `grep`. Но этот концепт превратился в целую экосистему мощных фреймворков и сервисов для логирования, таких как Log4j, Syslog на Linux или Sematext и Loggly в эпоху облачных технологий.

`Logger` в Ruby - это простой способ начать, но если вам нужно больше мощности и гибкости, стоит обратить внимание на альтернативы вроде Lograge или Semantic Logger. Эти библиотеки хорошо интегрируются с приложениями Ruby, предлагая более детальный контроль над форматированием логов, включая структурированные логи (формат JSON), лучшую производительность и беспрепятственную интеграцию с другими сервисами.

У каждой библиотеки логирования Ruby есть свой способ работы, но в основе всего лежит идея экземпляра логгера, в который вы отправляете сообщения. Логгер обрабатывает эти сообщения в зависимости от установленных уровней - DEBUG, INFO, WARN, ERROR, FATAL и UNKNOWN - и решает, что с ними делать: печатать их, сохранять в файл, отправлять через сеть и т. д.

## Смотрите также
Для глубокого изучения встроенного модуля логирования Ruby, ознакомьтесь с официальной документацией:

Если вас интересует более продвинутое логирование или хотите исследовать сторонние gem-ы:
- [Lograge](https://github.com/roidrage/lograge)

Для общих практик и философии логирования (не специфичных для Ruby), эти статьи являются вечной классикой:
- [Книга по надежности сервисов Google - Глава 16: Обработка перегрузки](https://sre.google/sre-book/handling-overload/#log-messages)
- [12-факторное приложение - Логи](https://12factor.net/logs)
