---
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:06:29.282082-07:00
description: "\u0421\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\u044B\u0439 \u043F\
  \u043E\u0442\u043E\u043A \u043E\u0448\u0438\u0431\u043E\u043A (`stderr`) - \u044D\
  \u0442\u043E \u043F\u043E\u0442\u043E\u043A, \u043E\u0442\u0434\u0435\u043B\u044C\
  \u043D\u044B\u0439 \u043E\u0442 \u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\
  \u043D\u043E\u0433\u043E \u0432\u044B\u0445\u043E\u0434\u0430 (`stdout`), \u043A\
  \u043E\u0442\u043E\u0440\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\
  \u0435\u0442\u0441\u044F \u0432 \u043E\u0441\u043D\u043E\u0432\u043D\u043E\u043C\
  \ \u0434\u043B\u044F \u0432\u044B\u0432\u043E\u0434\u0430 \u0441\u043E\u043E\u0431\
  \u0449\u0435\u043D\u0438\u0439 \u043E\u0431\u2026"
lastmod: '2024-03-13T22:44:46.027669-06:00'
model: gpt-4-0125-preview
summary: "\u0421\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\u044B\u0439 \u043F\
  \u043E\u0442\u043E\u043A \u043E\u0448\u0438\u0431\u043E\u043A (`stderr`) - \u044D\
  \u0442\u043E \u043F\u043E\u0442\u043E\u043A, \u043E\u0442\u0434\u0435\u043B\u044C\
  \u043D\u044B\u0439 \u043E\u0442 \u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\
  \u043D\u043E\u0433\u043E \u0432\u044B\u0445\u043E\u0434\u0430 (`stdout`), \u043A\
  \u043E\u0442\u043E\u0440\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\
  \u0435\u0442\u0441\u044F \u0432 \u043E\u0441\u043D\u043E\u0432\u043D\u043E\u043C\
  \ \u0434\u043B\u044F \u0432\u044B\u0432\u043E\u0434\u0430 \u0441\u043E\u043E\u0431\
  \u0449\u0435\u043D\u0438\u0439 \u043E\u0431 \u043E\u0448\u0438\u0431\u043A\u0430\
  \u0445 \u0438\u043B\u0438 \u0434\u0438\u0430\u0433\u043D\u043E\u0441\u0442\u0438\
  \u043A\u0438."
title: "\u0417\u0430\u043F\u0438\u0441\u044C \u0432 \u0441\u0442\u0430\u043D\u0434\
  \u0430\u0440\u0442\u043D\u044B\u0439 \u043F\u043E\u0442\u043E\u043A \u043E\u0448\
  \u0438\u0431\u043E\u043A"
weight: 25
---

## Как это сделать:
В Ruby вы можете писать в стандартный поток ошибок, используя `$stderr.puts` или его сокращённую форму `STDERR.puts`. Вот простой пример:

```ruby
puts "Это пойдёт в стандартный вывод."
$stderr.puts "Это пойдёт в стандартный поток ошибок."

# Сокращённая версия:
STDERR.puts "Это тоже пойдёт в стандартный поток ошибок."
```

Откройте терминал, запустите скрипт и заметьте, что по умолчанию всё всё равно отображается вместе. Чтобы разделить потоки, требуется перенаправление. Вот как это можно сделать:

```shell
ruby your_script.rb >output.txt 2>error.txt
```

Эта команда перенаправляет стандартный вывод в `output.txt` и стандартный поток ошибок в `error.txt`.

## Подробнее
Концепция `stderr` возвращает нас к самым ранним дням Unix. Она предназначена для сообщений об ошибках, чтобы они оставались видимыми, даже когда `stdout` перенаправлен. Хотя `$stderr.puts` и `STDERR.puts` являются распространёнными в Ruby, существуют и другие способы записи в `stderr`, такие как использование `warn` для вывода предупреждений или более низкоуровневых API вроде `$stderr.write`. С точки зрения реализации, `stderr` по умолчанию не буферизуется, что обеспечивает немедленный вывод, в то время как `stdout` обычно буферизуется.

## Смотрите также
- Документация Ruby по I/O: [https://ruby-doc.org/core-3.1.2/IO.html](https://ruby-doc.org/core-3.1.2/IO.html)
- Базовые спецификации Open Group (стандартные потоки UNIX): [https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html](https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html)
- Понимание перенаправления в Shell скриптах: [https://www.gnu.org/software/bash/manual/html_node/Redirections.html](https://www.gnu.org/software/bash/manual/html_node/Redirections.html)
