---
aliases:
- /ru/haskell/rounding-numbers/
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:02:14.612534-07:00
description: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0447\u0438\
  \u0441\u0435\u043B \u043E\u0437\u043D\u0430\u0447\u0430\u0435\u0442 \u0438\u0445\
  \ \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u0438\u0440\u043E\u0432\u043A\u0443\
  \ \u0434\u043E \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0435\u0433\u043E \u0446\
  \u0435\u043B\u043E\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0438\u043B\u0438\
  \ \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u043E\u0433\u043E \u0434\u0435\u0441\
  \u044F\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0440\u0430\u0437\u0440\u044F\u0434\
  \u0430. \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B\
  \ \u043E\u043A\u0440\u0443\u0433\u043B\u044F\u044E\u0442 \u0447\u0438\u0441\u043B\
  \u0430 \u0434\u043B\u044F \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\
  \u044F\u2026"
lastmod: 2024-02-18 23:08:57.042507
model: gpt-4-0125-preview
summary: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0447\u0438\
  \u0441\u0435\u043B \u043E\u0437\u043D\u0430\u0447\u0430\u0435\u0442 \u0438\u0445\
  \ \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u0438\u0440\u043E\u0432\u043A\u0443\
  \ \u0434\u043E \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0435\u0433\u043E \u0446\
  \u0435\u043B\u043E\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0438\u043B\u0438\
  \ \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u043E\u0433\u043E \u0434\u0435\u0441\
  \u044F\u0442\u0438\u0447\u043D\u043E\u0433\u043E \u0440\u0430\u0437\u0440\u044F\u0434\
  \u0430. \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B\
  \ \u043E\u043A\u0440\u0443\u0433\u043B\u044F\u044E\u0442 \u0447\u0438\u0441\u043B\
  \u0430 \u0434\u043B\u044F \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\
  \u044F\u2026"
title: "\u041E\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0447\u0438\u0441\
  \u0435\u043B"
---

{{< edit_this_page >}}

## Что и почему?

Округление чисел означает их корректировку до ближайшего целого числа или указанного десятичного разряда. Программисты округляют числа для управления точностью, настройки вывода для пользовательского представления или снижения вычислительных затрат для операций с плавающей точкой.

## Как:

Haskell использует функции `round`, `ceiling`, `floor` и `truncate` из `Prelude` для операций округления.

```haskell
import Prelude

main :: IO ()
main = do
  let num = 3.567
  print $ round num    -- 4
  print $ ceiling num  -- 4
  print $ floor num    -- 3
  print $ truncate num -- 3
  
  -- Округление до указанного десятичного знака в Prelude не предусмотрено.
  -- Вот пользовательская функция:
  let roundTo n f = (fromInteger $ round $ f * (10^n)) / (10.0^^n)
  print $ roundTo 1 num -- 3.6
```

## Подробнее

Исторически, округление имеет большое значение в численном анализе и информатике, поскольку оно критически важно для минимизации накопления ошибок в вычислениях, особенно до того, как представления чисел с плавающей точкой были стандартизированы согласно IEEE 754.

Как округлять? `round` направляет к ближайшему целому числу — вверх или вниз. `ceiling` и `floor` всегда округляют вверх или вниз до ближайшего целого числа соответственно, в то время как `truncate` просто отбрасывает десятичные точки.

Альтернативы этим функциям могут включать в себя пользовательскую логику, как наш `roundTo`, или вы можете подключить библиотеки (например, Data.Fixed) для более сложных требований.

Будьте осторожны с неожиданными результатами из-за того, как Haskell обрабатывает случаи, находящиеся ровно посередине при использовании `round` (округляет до ближайшего четного числа).

## Смотрите также

- Документация Haskell Prelude по функциям округления: https://hackage.haskell.org/package/base-4.16.1.0/docs/Prelude.html
- Haskell Wiki по арифметике с плавающей точкой: https://wiki.haskell.org/Floating_point_arithmetic
- Стандарт IEEE 754-2008 для более подробной информации о том, как обрабатываются числа с плавающей точкой во многих языках: https://ieeexplore.ieee.org/document/4610935
