---
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:02:27.690304-07:00
description: "\u041F\u043E\u0438\u0441\u043A \u0438 \u0437\u0430\u043C\u0435\u043D\
  \u0430 \u0442\u0435\u043A\u0441\u0442\u0430 \u043F\u043E\u0437\u0432\u043E\u043B\
  \u044F\u044E\u0442 \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u044C \u0441\u0442\
  \u0440\u043E\u043A\u0438 \u0438 \u0437\u0430\u043C\u0435\u043D\u044F\u0442\u044C\
  \ \u0438\u0445. \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\
  \u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442 \u044D\u0442\
  \u043E \u0434\u043B\u044F \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\
  \u044F \u043A\u043E\u0434\u0430, \u0440\u0435\u0444\u0430\u043A\u0442\u043E\u0440\
  \u0438\u043D\u0433\u0430 \u0438\u043B\u0438 \u0431\u044B\u0441\u0442\u0440\u043E\
  \u0433\u043E \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0434\u0430\
  \u043D\u043D\u044B\u0445."
lastmod: '2024-03-13T22:44:45.106327-06:00'
model: gpt-4-0125-preview
summary: "\u041F\u043E\u0438\u0441\u043A \u0438 \u0437\u0430\u043C\u0435\u043D\u0430\
  \ \u0442\u0435\u043A\u0441\u0442\u0430 \u043F\u043E\u0437\u0432\u043E\u043B\u044F\
  \u044E\u0442 \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u044C \u0441\u0442\u0440\
  \u043E\u043A\u0438 \u0438 \u0437\u0430\u043C\u0435\u043D\u044F\u0442\u044C \u0438\
  \u0445."
title: "\u041F\u043E\u0438\u0441\u043A \u0438 \u0437\u0430\u043C\u0435\u043D\u0430\
  \ \u0442\u0435\u043A\u0441\u0442\u0430"
weight: 10
---

## Как это сделать:
Давайте рассмотрим поиск и замену текста на Haskell. Мы будем использовать `Data.Text` для обработки Unicode текста и повышения эффективности. Убедитесь, что вы импортировали `Data.Text` следующим образом:

```haskell
import qualified Data.Text as T
```

Теперь давайте заменим все вхождения "hello" на "hi" в тексте:

```haskell
replaceText :: T.Text -> T.Text -> T.Text -> T.Text
replaceText old new = T.replace old new

main :: IO ()
main = do
  let originalText = T.pack "hello world, hello Haskell!"
  let newText = replaceText (T.pack "hello") (T.pack "hi") originalText
  print newText -- "hi world, hi Haskell!"
```

Функция `replace` выполняет основную работу. Мы обернули её в `replaceText` для ясности.

## Подробнее
Функции замены текста в Haskell, такие как `T.replace`, построены на основе возможностей обработки массивов Haskell. Оглядываясь назад, Haskell был впервые задуман в 80-х годах с акцентом на функциональном программировании. Эта парадигма делает операции, такие как замена текста, элегантными и менее подверженными ошибкам благодаря неизменяемости и строгой типизации.

Что касается альтернатив, вы могли бы вручную итерировать по тексту и заменять подстроки, но это более подвержено ошибкам и неэффективно.

Библиотека `Data.Text` использует другое внутреннее представление, чем тип `String` (который является просто списком символов), что делает его более подходящим для операций с большими текстами. Функция `T.replace` сама использует эффективные алгоритмы для поиска строк, которые обеспечивают хорошую производительность даже для больших текстов.

## Смотрите также
Для дополнительной информации о `Data.Text`, посмотрите:

- [Пакет Text на Hackage](https://hackage.haskell.org/package/text)

Также рассмотрите дополнительное чтение о манипуляциях со строками в Haskell:

- [Вики Haskell о строках](https://wiki.haskell.org/Strings)
- [Learn You a Haskell for Great Good! о тексте](http://learnyouahaskell.com/input-and-output#files-and-streams)
