---
aliases:
- /ru/fish-shell/using-associative-arrays/
changelog:
- 2024-01-30, gpt-4-0125-preview, translated from English
date: 2024-01-30 19:11:09.927084-07:00
description: "\u0410\u0441\u0441\u043E\u0446\u0438\u0430\u0442\u0438\u0432\u043D\u044B\
  \u0435 \u043C\u0430\u0441\u0441\u0438\u0432\u044B, \u0438\u043B\u0438 \u0445\u0435\
  \u0448-\u0442\u0430\u0431\u043B\u0438\u0446\u044B, \u043F\u043E\u0437\u0432\u043E\
  \u043B\u044F\u044E\u0442 \u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0434\u0430\
  \u043D\u043D\u044B\u0435 \u0432 \u0432\u0438\u0434\u0435 \u043F\u0430\u0440 \u043A\
  \u043B\u044E\u0447-\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435, \u0447\u0442\
  \u043E \u0443\u043F\u0440\u043E\u0449\u0430\u0435\u0442 \u043E\u0440\u0433\u0430\
  \u043D\u0438\u0437\u0430\u0446\u0438\u044E \u0438 \u0438\u0437\u0432\u043B\u0435\
  \u0447\u0435\u043D\u0438\u0435 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\
  \u0438 \u043F\u043E \u043A\u043B\u044E\u0447\u0443. \u041E\u043D\u0438\u2026"
lastmod: 2024-02-18 23:08:57.501869
model: gpt-4-0125-preview
summary: "\u0410\u0441\u0441\u043E\u0446\u0438\u0430\u0442\u0438\u0432\u043D\u044B\
  \u0435 \u043C\u0430\u0441\u0441\u0438\u0432\u044B, \u0438\u043B\u0438 \u0445\u0435\
  \u0448-\u0442\u0430\u0431\u043B\u0438\u0446\u044B, \u043F\u043E\u0437\u0432\u043E\
  \u043B\u044F\u044E\u0442 \u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0434\u0430\
  \u043D\u043D\u044B\u0435 \u0432 \u0432\u0438\u0434\u0435 \u043F\u0430\u0440 \u043A\
  \u043B\u044E\u0447-\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435, \u0447\u0442\
  \u043E \u0443\u043F\u0440\u043E\u0449\u0430\u0435\u0442 \u043E\u0440\u0433\u0430\
  \u043D\u0438\u0437\u0430\u0446\u0438\u044E \u0438 \u0438\u0437\u0432\u043B\u0435\
  \u0447\u0435\u043D\u0438\u0435 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\
  \u0438 \u043F\u043E \u043A\u043B\u044E\u0447\u0443. \u041E\u043D\u0438\u2026"
title: "\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u0435\
  \ \u0430\u0441\u0441\u043E\u0446\u0438\u0430\u0442\u0438\u0432\u043D\u044B\u0445\
  \ \u043C\u0430\u0441\u0441\u0438\u0432\u043E\u0432"
---

{{< edit_this_page >}}

## Что и Зачем?

Ассоциативные массивы, или хеш-таблицы, позволяют хранить данные в виде пар ключ-значение, что упрощает организацию и извлечение информации по ключу. Они удобны, когда нужен более структурированный способ обработки данных, чем просто списки, особенно в конфигурациях и при работе с различными атрибутами.

## Как:

Fish изначально не поддерживает ассоциативные массивы, как Bash 4+, но можно достичь подобной функциональности, используя комбинацию списков и манипуляций со строками. Вот как можно имитировать их:

Сначала настройте элементы "ассоциативного массива" отдельно:

```Fish Shell
set food_color_apple "red"
set food_color_banana "yellow"
```

Чтобы получить доступ к элементу, просто обратитесь к нему напрямую:

```Fish Shell
echo $food_color_apple
# Вывод: red
```

Если вам нужно итерироваться по ним, используйте цикл-for, учитывая соглашение об именовании:

```Fish Shell
for food in apple banana
    echo $food_color_$food
end
# Вывод:
# red
# yellow
```

Для тех, кому не хватает возможности Bash `${!array[@]}` для получения всех ключей, вы можете хранить ключи в отдельном списке:

```Fish Shell
set food_keys apple banana

for key in $food_keys
    echo $key 'is' $food_color_$key
end
# Вывод:
# apple is red
# banana is yellow
```

## Погружение

Полноценные ассоциативные массивы, как в других языках сценариев, пока не являются частью подхода Fish. Предложенное решение использует возможности манипуляции со строками и списками Fish для создания псевдо-ассоциативной структуры массива. Хотя это работает, это не так чисто или защищено от ошибок, как было бы с встроенной поддержкой ассоциативных массивов. Другие оболочки, такие как Bash и Zsh, предоставляют встроенную функциональность ассоциативных массивов, что приводит к более простому и понятному коду. Однако философия дизайна Fish стремится к простоте и дружелюбности к пользователю, возможно, за счет таких функций. Предложенное решение удовлетворяет большинство потребностей, но следите за эволюцией Fish Shell — его разработчики активно улучшают и добавляют функции на основе отзывов сообщества.
