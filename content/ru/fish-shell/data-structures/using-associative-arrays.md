---
title:                "Использование ассоциативных массивов"
date:                  2024-01-30T19:11:09.927084-07:00
model:                 gpt-4-0125-preview
simple_title:         "Использование ассоциативных массивов"

tag:                  "Data Structures"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/fish-shell/using-associative-arrays.md"
changelog:
  - 2024-01-30, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Зачем?

Ассоциативные массивы, или хеш-таблицы, позволяют хранить данные в виде пар ключ-значение, что упрощает организацию и извлечение информации по ключу. Они удобны, когда нужен более структурированный способ обработки данных, чем просто списки, особенно в конфигурациях и при работе с различными атрибутами.

## Как:

Fish изначально не поддерживает ассоциативные массивы, как Bash 4+, но можно достичь подобной функциональности, используя комбинацию списков и манипуляций со строками. Вот как можно имитировать их:

Сначала настройте элементы "ассоциативного массива" отдельно:

```Fish Shell
set food_color_apple "red"
set food_color_banana "yellow"
```

Чтобы получить доступ к элементу, просто обратитесь к нему напрямую:

```Fish Shell
echo $food_color_apple
# Вывод: red
```

Если вам нужно итерироваться по ним, используйте цикл-for, учитывая соглашение об именовании:

```Fish Shell
for food in apple banana
    echo $food_color_$food
end
# Вывод:
# red
# yellow
```

Для тех, кому не хватает возможности Bash `${!array[@]}` для получения всех ключей, вы можете хранить ключи в отдельном списке:

```Fish Shell
set food_keys apple banana

for key in $food_keys
    echo $key 'is' $food_color_$key
end
# Вывод:
# apple is red
# banana is yellow
```

## Погружение

Полноценные ассоциативные массивы, как в других языках сценариев, пока не являются частью подхода Fish. Предложенное решение использует возможности манипуляции со строками и списками Fish для создания псевдо-ассоциативной структуры массива. Хотя это работает, это не так чисто или защищено от ошибок, как было бы с встроенной поддержкой ассоциативных массивов. Другие оболочки, такие как Bash и Zsh, предоставляют встроенную функциональность ассоциативных массивов, что приводит к более простому и понятному коду. Однако философия дизайна Fish стремится к простоте и дружелюбности к пользователю, возможно, за счет таких функций. Предложенное решение удовлетворяет большинство потребностей, но следите за эволюцией Fish Shell — его разработчики активно улучшают и добавляют функции на основе отзывов сообщества.
