---
aliases:
- /ru/fish-shell/reading-command-line-arguments/
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:01:34.580494-07:00
description: "\u0427\u0442\u0435\u043D\u0438\u0435 \u0430\u0440\u0433\u0443\u043C\u0435\
  \u043D\u0442\u043E\u0432 \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u043E\u0439\
  \ \u0441\u0442\u0440\u043E\u043A\u0438 - \u044D\u0442\u043E \u043F\u043E\u043B\u0443\
  \u0447\u0435\u043D\u0438\u0435 \u0434\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\
  \u043B\u044C\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445, \u043A\u043E\
  \u0442\u043E\u0440\u044B\u0435 \u0432\u044B \u0432\u0432\u043E\u0434\u0438\u0442\
  \u0435 \u043F\u043E\u0441\u043B\u0435 \u0438\u043C\u0435\u043D\u0438 \u0432\u0430\
  \u0448\u0435\u0433\u043E \u0441\u043A\u0440\u0438\u043F\u0442\u0430, \u043F\u043E\
  \u0434\u043E\u0431\u043D\u043E \u0441\u0435\u043A\u0440\u0435\u0442\u043D\u044B\u043C\
  \ \u0440\u0443\u043A\u043E\u043F\u043E\u0436\u0430\u0442\u0438\u044F\u043C\u2026"
lastmod: 2024-02-18 23:08:57.532185
model: gpt-4-0125-preview
summary: "\u0427\u0442\u0435\u043D\u0438\u0435 \u0430\u0440\u0433\u0443\u043C\u0435\
  \u043D\u0442\u043E\u0432 \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u043E\u0439\
  \ \u0441\u0442\u0440\u043E\u043A\u0438 - \u044D\u0442\u043E \u043F\u043E\u043B\u0443\
  \u0447\u0435\u043D\u0438\u0435 \u0434\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\
  \u043B\u044C\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445, \u043A\u043E\
  \u0442\u043E\u0440\u044B\u0435 \u0432\u044B \u0432\u0432\u043E\u0434\u0438\u0442\
  \u0435 \u043F\u043E\u0441\u043B\u0435 \u0438\u043C\u0435\u043D\u0438 \u0432\u0430\
  \u0448\u0435\u0433\u043E \u0441\u043A\u0440\u0438\u043F\u0442\u0430, \u043F\u043E\
  \u0434\u043E\u0431\u043D\u043E \u0441\u0435\u043A\u0440\u0435\u0442\u043D\u044B\u043C\
  \ \u0440\u0443\u043A\u043E\u043F\u043E\u0436\u0430\u0442\u0438\u044F\u043C\u2026"
title: "\u0427\u0442\u0435\u043D\u0438\u0435 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\
  \u0442\u043E\u0432 \u043A\u043E\u043C\u0430\u043D\u0434\u043D\u043E\u0439 \u0441\
  \u0442\u0440\u043E\u043A\u0438"
---

{{< edit_this_page >}}

## Что и Почему?
Чтение аргументов командной строки - это получение дополнительных данных, которые вы вводите после имени вашего скрипта, подобно секретным рукопожатиям для настройки поведения скрипта. Программисты делают это, чтобы сделать скрипты гибкими и интерактивными без лишних хлопот.

## Как это сделать:

Допустим, `greet.fish` - это ваш скрипт. Вы хотите, чтобы он принимал имя и выдавал приветствие.

```fish
#!/usr/bin/env fish

# Аргументы хранятся в $argv
# $argv[1] - это первый аргумент, $argv[2] - второй и т.д.

set name $argv[1]
echo "Привет, $name!"
```

Запустите его:

```shell
$ fish greet.fish Мир
Привет, Мир!
```

Теперь с несколькими аргументами:

```fish
#!/usr/bin/env fish

# Проходим через все аргументы
for arg in $argv
    echo "Привет, $arg!"
end
```

Попробуйте:

```shell
$ fish greet.fish Земля Марс Венера
Привет, Земля!
Привет, Марс!
Привет, Венера!
```

Для обработки флагов (например, `-u` для верхнего регистра):

```fish
#!/usr/bin/env fish

# Проверяем наличие аргумента "-u"
set -l uppercase_mode off
for arg in $argv
    if test "$arg" = "-u"
        set uppercase_mode on
    else if set -q uppercase_mode[1]; and string match --quiet -- "$uppercase_mode" "on"
        echo (string upper "$arg")
    else
        echo $arg
    end
end
```

И вызываем:

```shell
$ fish greet.fish -u меркурий венера
МЕРКУРИЙ
ВЕНЕРА
```

## Глубокое Погружение

Fish Shell давно имеет возможности работы с аргументами командной строки, точно так же, как и другие оболочки. Что выделяет Fish, так это его простота по дизайну. Здесь нет необходимости помнить `$1, $2... $n`; это массив `$argv`, знакомая территория, если вы занимаетесь другими языками программирования.

Есть альтернативы, такие как bash, zsh и т.д., но синтаксис скриптов в Fish стремится быть более читаемым и понятным. Вместо традиционных команд `shift` или работы с `$@` для всех аргументов, в Fish есть дружелюбный `$argv` и прекрасные структуры скриптов, такие как циклы `for` и условия `if`, которые меньше о криптических символах и больше о ясных словах.

При реализации важно учитывать, как ваш скрипт будет использоваться. Будут ли нужны значения по умолчанию? Будут ли пользователи знать, что вводить? Убедитесь, что вы обрабатываете случаи, когда пользователи забывают передать аргументы или передают их в неправильном порядке.

## Смотрите также

- Официальная документация Fish по аргументам командной строки: [fishshell.com/docs/current/#syntax-command-line](https://fishshell.com/docs/current/#syntax-command-line)
- Для продвинутого скриптинга и создания собственных функций в Fish: [fishshell.com/docs/current/#defining-functions](https://fishshell.com/docs/current/#defining-functions)
- Введение в Fish для пользователей с опытом работы в других оболочках: [fishshell.com/docs/current/tutorial.html](https://fishshell.com/docs/current/tutorial.html)
