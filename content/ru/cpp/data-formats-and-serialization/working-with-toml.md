---
title:                "Работа с TOML"
aliases:
- ru/cpp/working-with-toml.md
date:                  2024-01-29T00:04:56.098656-07:00
model:                 gpt-4-0125-preview
simple_title:         "Работа с TOML"

tag:                  "Data Formats and Serialization"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/cpp/working-with-toml.md"
changelog:
  - 2024-01-29, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
TOML (Tom's Obvious, Minimal Language — очевидный минималистский язык Тома) — это формат сериализации данных, легкий для чтения благодаря своей ясной семантике. Программисты используют TOML для файлов конфигурации, потому что он находит баланс между удобочитаемостью для человека и парсингом машиной.

## Как работать:
Чтобы работать с TOML в C++, вам понадобится библиотека, например, `toml++`. Вот краткое руководство:

```C++
#include <toml++/toml.h>
#include <iostream>
#include <fstream>

int main() {
    // Разбор TOML из файла
    std::ifstream ifs("config.toml");
    auto config = toml::parse(ifs);

    // Доступ к значению
    std::string title = config["title"].value_or("Без названия");
    std::cout << "Название: " << title << '\n';

    // Изменение и сохранение TOML
    config["title"] = "Новое Название";
    std::ofstream ofs("config.toml");
    ofs << config;
}
```

Пример `config.toml`:
```toml
title = "Пример"
```

Пример вывода:
```plaintext
Название: Пример
```

## Подробнее
TOML был создан Томом Престон-Вернером в 2013 году как альтернатива YAML и JSON. Он разработан, чтобы быть простым и явным, в основном для файлов конфигурации. В отличие от JSON, TOML сосредоточен на недвусмысленности, что значит, документ интерпретируется детерминированно.

Альтернативы TOML включают YAML, который более пермиссивен в том, что разрешено, хотя иногда за счет предсказуемости. JSON, другая альтернатива, достаточно строг в структуре, но не так удобен для человека в конфигурациях из-за отсутствия комментариев и перегруженности скобками.

В реализации `toml++` — это библиотека для C++17, которая работает только с заголовочными файлами и соответствует последней спецификации TOML. Она предоставляет интерфейс, подобный DOM, для навигации и манипулирования данными TOML, что делает ее простой в интеграции в проекты. Библиотека заботится о парсинге, валидации и генерации вывода, позволяя вам получать и устанавливать данные TOML, используя типы C++.

## Смотрите также
- GitHub репозиторий TOML: https://github.com/toml-lang/toml
- `toml++`, библиотека C++ для TOML: https://github.com/marzer/tomlplusplus
- Официальная документация TOML с подробными объяснениями формата: https://toml.io/en/
