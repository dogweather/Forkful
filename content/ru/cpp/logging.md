---
title:                "Журналирование"
aliases:
- ru/cpp/logging.md
date:                  2024-01-29T00:00:21.872263-07:00
model:                 gpt-4-0125-preview
simple_title:         "Журналирование"

tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/cpp/logging.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
Логирование в контексте программирования - это процесс записи событий, состояний и информации в файл или другой выходной носитель. Программисты используют логирование для отслеживания происходящего в их приложениях, для отладки ошибок и мониторинга производительности для будущего анализа и оптимизации.

## Как сделать:
Допустим, вы работаете на Linux и хотите отправлять свои логи в файл с помощью доброго старого C++. Вам нужно будет подключить библиотеки `<iostream>` и `<fstream>` для работы с файлами. Вот краткий пример:

```C++
#include <iostream>
#include <fstream>
#include <string>

int main() {
    std::ofstream logFile("appLog.txt", std::ios::app);  // Открываем в режиме добавления

    if (!logFile.is_open()) {
        std::cerr << "Произошла проблема с открытием файла лога!" << std::endl;
        return 1;
    }

    logFile << "Приложение запущено" << std::endl;
  
    // ... где-то в логике вашего приложения
    logFile << "Произошло важное событие" << std::endl;

    // Не забывайте закрывать поток файла
    logFile.close();

    return 0;
}
```

Если вы будете следить за вашим лог файлом с помощью `tail -f appLog.txt`, вы должны увидеть:

```
Приложение запущено
Произошло важное событие
```

Отлично, у вас есть запись событий с метками времени!

## Погружение
Логирование так же старо, как и само вычислительное дело, восходя к буквальным отметкам на бумаге, чтобы проследить, чем занимались древние компьютеры. В современную эпоху всё сводится к изощренным программным решениям. У вас есть прямая запись в файл, как в простом и незамысловатом примере выше, или вы можете погрузиться в использование более изысканных фреймворков для логирования, таких как Log4cpp или Boost.Log в мире C++; эти крутые парни предлагают уровни логирования, контроль формата и многое другое.

Говоря об уровнях, к лучшим практикам логирования относится использование различных уровней серьезности — info, debug, warning, error, fatal — чтобы вы могли отфильтровывать лишнее, когда пытаетесь выявить ошибки или понять, почему ваше приложение ведет себя как капризный подросток.

На заметку о производительности, не стоит злоупотреблять логированием. Чрезмерное логирование может превратить ваше молниеносное приложение в улиточный марафон, перегрузить файловые системы или даже обойтись вам в копеечку за хранение данных, если вы используете облачные решения. Ключевым является нахождение правильного баланса: логируйте то, что вам нужно, и ничего больше.

## Смотрите также
Для тех из вас, кто хочет глубже погрузиться в практики логирования, проверьте следующее:

- [Библиотека Boost.Log](https://www.boost.org/doc/libs/1_75_0/libs/log/doc/html/index.html) для некоторых функций логирования высокого уровня.
- [Библиотека glog от Google](https://github.com/google/glog), если вам интересно, чем пользуются для логирования своих приложений кулинары техногиганта.
- [Библиотека Log4cpp](http://log4cpp.sourceforge.net/) для настраиваемого механизма логирования.

И для немного фонового чтения о причинах и способах логирования погрузитесь в:

- Эту тему на Stack Overflow о [лучших практиках логирования](https://stackoverflow.com/questions/783956/logging-best-practices) даст вам проверенный сверстниками глубокий анализ темы.
