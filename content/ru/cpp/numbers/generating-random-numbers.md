---
title:                "Генерация случайных чисел"
aliases:
- /ru/cpp/generating-random-numbers/
date:                  2024-01-28T23:58:50.226325-07:00
model:                 gpt-4-0125-preview
simple_title:         "Генерация случайных чисел"

tag:                  "Numbers"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/cpp/generating-random-numbers.md"
changelog:
  - 2024-01-28, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?

Генерация случайных чисел в программировании включает создание последовательностей чисел, не имеющих предсказуемого порядка или образца. Программисты часто используют эти числа для различных целей, таких как имитация непредсказуемых событий, при тестировании и отладке, а также в игровых алгоритмах для обеспечения справедливости или непредсказуемости.

## Как это сделать:

Чтобы генерировать случайные числа в C++, типично используется заголовочный файл `<random>`, который был введен в C++11 и предлагает широкий спектр возможностей для генерации случайных чисел из различных распределений.

```C++
#include <iostream>
#include <random>

int main() {
    // Инициализация случайного генератора
    std::random_device rd;  
    std::mt19937 gen(rd()); 

    // Определение диапазона [0, 99] включительно
    std::uniform_int_distribution<> distrib(0, 99); 

    // Генерация и вывод 5 случайных чисел в заданном диапазоне
    for(int n=0; n<5; ++n)
        std::cout << distrib(gen) << ' ';
    return 0;
}
```

Этот пример кода инициализирует генератор случайных чисел Мерсенна Твистера с начальным значением из `std::random_device`. Затем он определяет равномерное целочисленное распределение в диапазоне [0, 99] и, наконец, выводит 5 случайных чисел из этого распределения.

Пример вывода может выглядеть так, но имейте в виду, что каждое выполнение скорее всего будет давать разные результаты:

```
45 67 32 23 88
```

## Подробнее:

Исторически генерация случайных чисел в C++ в значительной степени зависела от функции `rand()` и функции для установки начального значения `srand()`, найденных в заголовочном файле `<cstdlib>`. Однако этот подход часто подвергался критике из-за его недостаточной равномерности и предсказуемости в распределении генерируемых чисел.

Введение заголовочного файла `<random>` в C++11 отметило значительное улучшение, предлагая сложную систему для производства случайных чисел. Предоставляемые возможности включают в себя разнообразие движков (например, `std::mt19937` для Мерсенна Твистера) и распределений (например, `std::uniform_int_distribution` для равномерного распределения целых чисел), которые могут быть комбинированы в соответствии с конкретными потребностями программиста, приводя к более предсказуемому поведению, лучшей производительности и большей гибкости.

Хотя библиотека `<random>` значительно лучше старого подхода с `rand()`, стоит отметить, что генерация действительно случайных чисел, особенно для криптографических целей, по-прежнему требует дополнительных соображений. Для криптографических приложений следует использовать библиотеки, специально предназначенные для обеспечения безопасности, которые часто используют источники энтропии аппаратного обеспечения.
