---
aliases:
- /ru/lua/using-regular-expressions/
changelog:
- 2024-01-29, gpt-4-0125-preview, translated from English
date: 2024-01-29 00:04:03.932201-07:00
description: "\u0420\u0435\u0433\u0443\u043B\u044F\u0440\u043D\u044B\u0435 \u0432\u044B\
  \u0440\u0430\u0436\u0435\u043D\u0438\u044F, \u0438\u043B\u0438 regex, \u044D\u0442\
  \u043E \u0448\u0430\u0431\u043B\u043E\u043D\u044B, \u0438\u0441\u043F\u043E\u043B\
  \u044C\u0437\u0443\u0435\u043C\u044B\u0435 \u0434\u043B\u044F \u043F\u043E\u0438\
  \u0441\u043A\u0430 \u0441\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u0439 \u0441\
  \u0438\u043C\u0432\u043E\u043B\u043E\u0432 \u0432 \u0442\u0435\u043A\u0441\u0442\
  \u0435. \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B\
  \ \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442 \u0438\u0445 \u0434\
  \u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430, \u0440\u0435\u0434\u0430\u043A\
  \u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0438\u2026"
lastmod: 2024-02-18 23:08:57.138459
model: gpt-4-0125-preview
summary: "\u0420\u0435\u0433\u0443\u043B\u044F\u0440\u043D\u044B\u0435 \u0432\u044B\
  \u0440\u0430\u0436\u0435\u043D\u0438\u044F, \u0438\u043B\u0438 regex, \u044D\u0442\
  \u043E \u0448\u0430\u0431\u043B\u043E\u043D\u044B, \u0438\u0441\u043F\u043E\u043B\
  \u044C\u0437\u0443\u0435\u043C\u044B\u0435 \u0434\u043B\u044F \u043F\u043E\u0438\
  \u0441\u043A\u0430 \u0441\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u0439 \u0441\
  \u0438\u043C\u0432\u043E\u043B\u043E\u0432 \u0432 \u0442\u0435\u043A\u0441\u0442\
  \u0435. \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B\
  \ \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442 \u0438\u0445 \u0434\
  \u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430, \u0440\u0435\u0434\u0430\u043A\
  \u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0438\u2026"
title: "\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u0435\
  \ \u0440\u0435\u0433\u0443\u043B\u044F\u0440\u043D\u044B\u0445 \u0432\u044B\u0440\
  \u0430\u0436\u0435\u043D\u0438\u0439"
---

{{< edit_this_page >}}

## Что и Почему?
Регулярные выражения, или regex, это шаблоны, используемые для поиска сочетаний символов в тексте. Программисты используют их для поиска, редактирования и манипуляций со строками, потому что они мощные и эффективные.

## Как использовать:
Lua предоставляет базовую поддержку шаблонов (свою версию regex), которые можно использовать с функциями сопоставления строк. Вот быстрый пример:

```Lua
local text = "Привет Lua! 123"
-- Найти цифры в тексте
local pattern = "%d+"
for match in string.gmatch(text, pattern) do
    print(match)
end
```
Вывод:
```
123
```

Для замены текста:

```Lua
local text = "Привет Lua! 123"
local pattern = "%d+"
local replacement = "456"
local new_text = string.gsub(text, pattern, replacement)

print(new_text)
```
Вывод:
```
Привет Lua! 456
```

## Подробнее
Шаблоны Lua не настолько богаты функционалом, как regex, найденные в других языках, но они быстрые и охватывают многие распространенные случаи использования. Они были представлены как легковесное решение для сопоставления строк, избегая сложности традиционных реализаций regex.

Альтернативы включают внешние модули Lua вроде `rex_pcre` или `lpeg`, которые предоставляют более полные реализации regex или, соответственно, различные парадигмы сопоставления шаблонов.

Функции сопоставления шаблонов Lua, такие как `string.find`, `string.match`, `string.gmatch` и `string.gsub`, работают с предопределенными кодами шаблонов, такими как `%d` для цифр, `%s` для пробельных символов и `%a` для букв, что делает реализацию простой и с меньшими накладными расходами, чем полноценные движки regex.

## Смотрите также
- [Руководство по Lua 5.4](https://www.lua.org/manual/5.4/manual.html#6.4.1)
