---
title:                "Использование регулярных выражений"
aliases:
- /ru/lua/using-regular-expressions/
date:                  2024-01-29T00:04:03.932201-07:00
model:                 gpt-4-0125-preview
simple_title:         "Использование регулярных выражений"

tag:                  "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/ru/lua/using-regular-expressions.md"
changelog:
  - 2024-01-29, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Что и Почему?
Регулярные выражения, или regex, это шаблоны, используемые для поиска сочетаний символов в тексте. Программисты используют их для поиска, редактирования и манипуляций со строками, потому что они мощные и эффективные.

## Как использовать:
Lua предоставляет базовую поддержку шаблонов (свою версию regex), которые можно использовать с функциями сопоставления строк. Вот быстрый пример:

```Lua
local text = "Привет Lua! 123"
-- Найти цифры в тексте
local pattern = "%d+"
for match in string.gmatch(text, pattern) do
    print(match)
end
```
Вывод:
```
123
```

Для замены текста:

```Lua
local text = "Привет Lua! 123"
local pattern = "%d+"
local replacement = "456"
local new_text = string.gsub(text, pattern, replacement)

print(new_text)
```
Вывод:
```
Привет Lua! 456
```

## Подробнее
Шаблоны Lua не настолько богаты функционалом, как regex, найденные в других языках, но они быстрые и охватывают многие распространенные случаи использования. Они были представлены как легковесное решение для сопоставления строк, избегая сложности традиционных реализаций regex.

Альтернативы включают внешние модули Lua вроде `rex_pcre` или `lpeg`, которые предоставляют более полные реализации regex или, соответственно, различные парадигмы сопоставления шаблонов.

Функции сопоставления шаблонов Lua, такие как `string.find`, `string.match`, `string.gmatch` и `string.gsub`, работают с предопределенными кодами шаблонов, такими как `%d` для цифр, `%s` для пробельных символов и `%a` для букв, что делает реализацию простой и с меньшими накладными расходами, чем полноценные движки regex.

## Смотрите также
- [Руководство по Lua 5.4](https://www.lua.org/manual/5.4/manual.html#6.4.1)
