---
aliases:
- /ru/lua/capitalizing-a-string/
changelog:
- 2024-01-28, gpt-4-0125-preview, translated from English
date: 2024-01-28 23:55:55.019158-07:00
description: "\u041F\u0440\u0435\u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\
  \u0438\u0435 \u0441\u0442\u0440\u043E\u043A\u0438 \u0432 \u0437\u0430\u0433\u043B\
  \u0430\u0432\u043D\u044B\u0435 \u0431\u0443\u043A\u0432\u044B \u043E\u0437\u043D\
  \u0430\u0447\u0430\u0435\u0442 \u043F\u0440\u0435\u0432\u0440\u0430\u0449\u0435\u043D\
  \u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0439 \u0431\u0443\u043A\u0432\u044B\
  \ \u043A\u0430\u0436\u0434\u043E\u0433\u043E \u0441\u043B\u043E\u0432\u0430 \u0432\
  \ \u0432\u0435\u0440\u0445\u043D\u0438\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\
  \u0440. \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B\
  \ \u0434\u0435\u043B\u0430\u044E\u0442 \u044D\u0442\u043E \u0434\u043B\u044F \u043E\
  \u0431\u0435\u0441\u043F\u0435\u0447\u0435\u043D\u0438\u044F\u2026"
lastmod: 2024-02-18 23:08:57.130271
model: gpt-4-0125-preview
summary: "\u041F\u0440\u0435\u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\
  \u0438\u0435 \u0441\u0442\u0440\u043E\u043A\u0438 \u0432 \u0437\u0430\u0433\u043B\
  \u0430\u0432\u043D\u044B\u0435 \u0431\u0443\u043A\u0432\u044B \u043E\u0437\u043D\
  \u0430\u0447\u0430\u0435\u0442 \u043F\u0440\u0435\u0432\u0440\u0430\u0449\u0435\u043D\
  \u0438\u0435 \u043F\u0435\u0440\u0432\u043E\u0439 \u0431\u0443\u043A\u0432\u044B\
  \ \u043A\u0430\u0436\u0434\u043E\u0433\u043E \u0441\u043B\u043E\u0432\u0430 \u0432\
  \ \u0432\u0435\u0440\u0445\u043D\u0438\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\
  \u0440. \u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0438\u0441\u0442\u044B\
  \ \u0434\u0435\u043B\u0430\u044E\u0442 \u044D\u0442\u043E \u0434\u043B\u044F \u043E\
  \u0431\u0435\u0441\u043F\u0435\u0447\u0435\u043D\u0438\u044F\u2026"
title: "\u041F\u0440\u0435\u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\
  \u0435 \u0441\u0442\u0440\u043E\u043A\u0438 \u0432 \u0432\u0435\u0440\u0445\u043D\
  \u0438\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440"
---

{{< edit_this_page >}}

## Что и зачем?

Преобразование строки в заглавные буквы означает превращение первой буквы каждого слова в верхний регистр. Программисты делают это для обеспечения единообразия форматирования, улучшения читаемости пользователя или нормализации данных.

## Как:

В Lua нет встроенной функции для преобразования строк в заглавные буквы, поэтому давайте создадим её:

```lua
function capitalize(str)
  return (str:gsub("(%l)(%w*)", function(first, rest) return first:upper()..rest end))
end

print(capitalize("hello world"))  -- Вывод: Hello World
```

## Глубокое погружение

Функции преобразования в заглавные буквы стандартны во многих языках программирования. В Lua мы создаем такую с помощью `string.gsub()`, мощной функции для сопоставления с образцом. Наша пользовательская функция `capitalize` использует шаблон для поиска строчных букв (`%l`), за которыми следует ноль или более символов слова (`%w*`), и заменяет их на прописную букву и остаток слова.

```lua
-- Вот другой способ просто сделать заглавной первую букву слова
function capitalizeFirst(str)
  if str == "" then return str end
  return str:sub(1, 1):upper()..str:sub(2)
end
```

Возможности сопоставления с образцом в Lua менее мощные, чем полные регулярные выражения, но подходят для многих задач по манипуляции со строками. Обратите внимание, что наша функция `capitalize` не будет преобразовывать в заглавные буквы слова после определённой пунктуации, так что она не является идеальным решением. Для более надёжных решений вы можете рассмотреть дополнительное сопоставление с образцом или внешние библиотеки.

Исторически потребность в функциях преобразования в заглавные буквы возникла из желания представить текстовые данные единообразно, особенно в пользовательских интерфейсах. Однако необходимо с особой осторожностью относиться к пониманию контекста: различные языки и культуры имеют свои собственные правила для использования заглавных букв, которые выходят за рамки простого написания с заглавной буквы первой буквы предложения или имени.

## См. также

- Библиотека Lua `string`: https://www.lua.org/manual/5.4/manual.html#6.4
- Шаблоны Lua: https://www.lua.org/pil/20.2.html
- Обработка текста в Lua: https://www.lua.org/pil/20.html
