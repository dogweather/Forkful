---
aliases:
- /ru/google-apps-script/using-an-interactive-shell-repl/
changelog:
- 2024-02-01, gpt-4-0125-preview, translated from English
date: 2024-02-01 22:04:01.782795-07:00
description: "\u0418\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0430\
  \u044F \u043E\u0431\u043E\u043B\u043E\u0447\u043A\u0430, \u0438\u043B\u0438 \u0446\
  \u0438\u043A\u043B \"\u0447\u0438\u0442\u0430\u0442\u044C-\u0432\u044B\u0447\u0438\
  \u0441\u043B\u0438\u0442\u044C-\u0432\u044B\u0432\u0435\u0441\u0442\u0438\" (REPL),\
  \ \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u044F\u0435\u0442 \u0441\
  \u043E\u0431\u043E\u0439 \u043F\u0440\u043E\u0441\u0442\u0443\u044E \u0438\u043D\
  \u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0443\u044E \u043F\u0440\u043E\
  \u0433\u0440\u0430\u043C\u043C\u043D\u0443\u044E \u0441\u0440\u0435\u0434\u0443\
  , \u043A\u043E\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u0438\u043D\u0438\u043C\
  \u0430\u0435\u0442 \u043E\u0442\u2026"
lastmod: 2024-02-18 23:08:56.483262
model: gpt-4-0125-preview
summary: "\u0418\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0430\
  \u044F \u043E\u0431\u043E\u043B\u043E\u0447\u043A\u0430, \u0438\u043B\u0438 \u0446\
  \u0438\u043A\u043B \"\u0447\u0438\u0442\u0430\u0442\u044C-\u0432\u044B\u0447\u0438\
  \u0441\u043B\u0438\u0442\u044C-\u0432\u044B\u0432\u0435\u0441\u0442\u0438\" (REPL),\
  \ \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u044F\u0435\u0442 \u0441\
  \u043E\u0431\u043E\u0439 \u043F\u0440\u043E\u0441\u0442\u0443\u044E \u0438\u043D\
  \u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0443\u044E \u043F\u0440\u043E\
  \u0433\u0440\u0430\u043C\u043C\u043D\u0443\u044E \u0441\u0440\u0435\u0434\u0443\
  , \u043A\u043E\u0442\u043E\u0440\u0430\u044F \u043F\u0440\u0438\u043D\u0438\u043C\
  \u0430\u0435\u0442 \u043E\u0442\u2026"
title: "\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u0435\
  \ \u0438\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0439\
  \ \u043E\u0431\u043E\u043B\u043E\u0447\u043A\u0438 (REPL)"
---

{{< edit_this_page >}}

## Что и Почему?

Интерактивная оболочка, или цикл "читать-вычислить-вывести" (REPL), представляет собой простую интерактивную программную среду, которая принимает от пользователя отдельные вводы (выражения), вычисляет их и возвращает результат пользователю. Программисты используют REPL для быстрого создания прототипов, отладки и изучения синтаксиса и поведения языка программирования в интерактивном режиме.

## Как это сделать:

Google Apps Script — это облачный скриптовый язык для автоматизации задач в продуктах Google, который не имеет встроенного инструмента REPL, подобного тем, что есть в языках, таких как Python или Node.js JavaScript. Однако вы можете симулировать похожий опыт, используя функции ведения журнала и отладки редактора Apps Script или настроив внешнюю среду. Здесь мы сосредоточимся на создании импровизированной REPL в редакторе Apps Script.

1. **Создание импровизированной функции REPL**:

```javascript
function myREPL() {
  var input = Logger.log('Введите выражение: ');
  try {
    var result = eval(input);
    Logger.log('Результат: ' + result);
  } catch(e) {
    Logger.log('Ошибка: ' + e.message);
  }
}
```

Поскольку прямой пользовательский ввод в той же мере, как в традиционной REPL, в среде Apps Script невозможен, вы можете вручную изменить переменную `input` и запустить `myREPL()`, чтобы проверить выражения.

2. **Выполнение образца кода**:

Допустим, вы хотите вычислить `2+2`. Вы должны изменить функцию `myREPL` следующим образом:

```javascript
function myREPL() {
  var input = '2+2'; // Вручную введите ваше выражение здесь
  // Остальное остается прежним...
}
```

После запуска `myREPL()` проверьте Журналы (Просмотр > Журналы) для вывода, который должен выглядеть примерно так:

```
[20-xx-xxxx xx:xx:xx:xxx] Введите ваше выражение:
[20-xx-xxxx xx:xx:xx:xxx] Результат: 4
```

3. **Отладка с помощью Logger**:

Для более сложной отладки вставляйте `Logger.log(variable);` в свой код, чтобы печатать состояния переменных и помогать вам понимать поток и промежуточные состояния ваших скриптов.

## Глубокое погружение

Концепция REPL глубоко укоренилась в истории вычислений, начиная с систем разделения времени 1960-х годов, которые позволяли проводить интерактивные сессии. Языки, такие как Lisp, процветали в этой среде, поскольку REPL был критически важен для их итеративного процесса разработки. В отличие от этого, Google Apps Script, появившийся гораздо позже, в первую очередь разработан для веба, сосредоточен на автоматизации задач в наборе инструментов Google, а не на итеративном, консольном программировании.

Google Apps Script традиционно не поддерживает реальные интерактивные сессии кодирования "из коробки" из-за его облачной природы и ориентации на развертывание веб-приложений. Его модель выполнения основана на функциях, запускаемых веб-событиями, таймерами или ручным вызовом в среде, а не на мгновенных обратных связях, предоставляемых REPL.

Хотя импровизированный REPL и отладчик в редакторе Apps Script предлагают некоторый уровень интерактивности, они не в полной мере воспроизводят немедленную обратную связь и эффективность традиционных REPL, найденных во многих языках программирования. Разработчики, ищущие более подлинный опыт REPL с технологиями Google, могут изучить внешние среды JavaScript или Node.js с API Google. Это может обеспечить более отзывчивую и интерактивную сессию кодирования, хотя и потребует большей настройки и, возможно, выхода за пределы непосредственной среды Apps Script.
