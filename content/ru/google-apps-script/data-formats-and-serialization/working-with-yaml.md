---
changelog:
- 2024-02-01, gpt-4-0125-preview, translated from English
date: 2024-02-01 22:07:43.822037-07:00
description: "YAML, \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043E\u0432\u044B\u0432\
  \u0430\u044E\u0449\u0435\u0435\u0441\u044F \u043A\u0430\u043A \"YAML Ain't Markup\
  \ Language\" (YAML - \u044D\u0442\u043E \u043D\u0435 \u044F\u0437\u044B\u043A \u0440\
  \u0430\u0437\u043C\u0435\u0442\u043A\u0438), \u043F\u0440\u0435\u0434\u0441\u0442\
  \u0430\u0432\u043B\u044F\u0435\u0442 \u0441\u043E\u0431\u043E\u0439 \u0441\u0442\
  \u0430\u043D\u0434\u0430\u0440\u0442 \u0441\u0435\u0440\u0438\u0430\u043B\u0438\u0437\
  \u0430\u0446\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445, \u0443\u0434\u043E\
  \u0431\u043D\u044B\u0439 \u0434\u043B\u044F\u2026"
lastmod: '2024-03-13T22:44:44.229889-06:00'
model: gpt-4-0125-preview
summary: "YAML, \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043E\u0432\u044B\u0432\
  \u0430\u044E\u0449\u0435\u0435\u0441\u044F \u043A\u0430\u043A \"YAML Ain't Markup\
  \ Language\" (YAML - \u044D\u0442\u043E \u043D\u0435 \u044F\u0437\u044B\u043A \u0440\
  \u0430\u0437\u043C\u0435\u0442\u043A\u0438), \u043F\u0440\u0435\u0434\u0441\u0442\
  \u0430\u0432\u043B\u044F\u0435\u0442 \u0441\u043E\u0431\u043E\u0439 \u0441\u0442\
  \u0430\u043D\u0434\u0430\u0440\u0442 \u0441\u0435\u0440\u0438\u0430\u043B\u0438\u0437\
  \u0430\u0446\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445, \u0443\u0434\u043E\
  \u0431\u043D\u044B\u0439 \u0434\u043B\u044F \u0447\u0442\u0435\u043D\u0438\u044F\
  \ \u0447\u0435\u043B\u043E\u0432\u0435\u043A\u043E\u043C, \u043A\u043E\u0442\u043E\
  \u0440\u044B\u0439 \u0447\u0430\u0441\u0442\u043E \u0438\u0441\u043F\u043E\u043B\
  \u044C\u0437\u0443\u0435\u0442\u0441\u044F \u0434\u043B\u044F \u0444\u0430\u0439\
  \u043B\u043E\u0432 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\
  \u0438 \u0438 \u043E\u0431\u043C\u0435\u043D\u0430 \u0434\u0430\u043D\u043D\u044B\
  \u043C\u0438 \u043C\u0435\u0436\u0434\u0443 \u044F\u0437\u044B\u043A\u0430\u043C\
  \u0438 \u0441 \u0440\u0430\u0437\u043B\u0438\u0447\u043D\u044B\u043C\u0438 \u0441\
  \u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0430\u043C\u0438 \u0434\u0430\u043D\u043D\
  \u044B\u0445."
title: "\u0420\u0430\u0431\u043E\u0442\u0430 \u0441 YAML"
weight: 41
---

## Как:
Хотя Google Apps Script (GAS) не поддерживает анализ или сериализацию YAML напрямую, вы можете манипулировать данными YAML, используя библиотеки JavaScript или написав собственные функции парсинга. Для демонстрации рассмотрим, как проанализировать строку YAML с помощью собственной функции, поскольку внешние библиотеки не могут быть напрямую импортированы в GAS.

Предположим, у вас есть простая конфигурация YAML:

```yaml
title: Пример YAML
description: Пример того, как обрабатывать YAML в Google Apps Script
tags:
  - Google Apps Script
  - YAML
  - Конфигурация
```

Чтобы проанализировать это в Google Apps Script, используйте возможности манипулирования строками в JavaScript:

```javascript
function parseYAML(yamlString) {
  var result = {};
  var lines = yamlString.split("\n");
  for (var i = 0; i < lines.length; i++) {
    var line = lines[i];
    if (line.includes(":")) {
      var parts = line.split(":");
      var key = parts[0].trim();
      var value = parts[1].trim();
      // Простая обработка массивов
      if (value.startsWith("-")) {
        value = [value.substring(1).trim()];
        while (i + 1 < lines.length && lines[i + 1].trim().startsWith("-")) {
          i++;
          value.push(lines[i].trim().substring(1).trim());
        }
      }
      result[key] = value;
    }
  }
  return result;
}

function testYamlParsing() {
  var yaml = "title: Пример YAML\ndescription: Пример того, как обрабатывать YAML в Google Apps Script\ntags:\n  - Google Apps Script\n  - YAML\n  - Конфигурация";
  var parsed = parseYAML(yaml);
  Logger.log(parsed);
}
```

Когда выполняется `testYamlParsing()`, в выводе получаем:

```
{ title: 'Пример YAML',
  description: 'Пример того, как обрабатывать YAML в Google Apps Script',
  tags: [ 'Google Apps Script', ' YAML', ' Конфигурация' ] }
```

Этот подход к парсингу довольно базовый и может потребовать корректировки для работы со сложными файлами YAML.

## Глубокое погружение
YAML, впервые выпущенный в 2001 году, был направлен на то, чтобы быть более удобным для чтения по сравнению с его предшественниками, такими как XML или JSON. Несмотря на то что его простота и удобство использования широко ценятся, работа с YAML в Google Apps Script представляет собой вызов из-за отсутствия прямой поддержки. В результате программисты часто полагаются на универсальность JavaScript для анализа и генерации данных YAML. Однако для сложных случаев использования, особенно тех, которые включают глубокое вложение и продвинутые структуры данных, этот метод может быть громоздким и подверженным ошибкам.

JSON, в отличие от этого, поддерживается нативно в Google Apps Script и большинстве других программных сред, предлагая более простой подход к сериализации и десериализации данных без дополнительных затрат на парсинг. Синтаксис JSON менее многословен, чем YAML, что делает его более подходящим для обмена данными в веб-приложениях. Тем не менее, YAML остается популярным для файлов конфигурации и ситуаций, когда важна читаемость человеком.

Работая с YAML в Google Apps Script, учитывайте компромисс между читаемостью и удобством использования. Для всесторонней манипуляции с YAML может быть полезным исследовать внешние инструменты или сервисы, которые могут конвертировать YAML в JSON перед обработкой его в вашем скрипте.
