---
title:                "Ruby: 求解字符串的长度"
programming_language: "Ruby"
category:             "Strings"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/zh/ruby/finding-the-length-of-a-string.md"
---

{{< edit_this_page >}}

## 为什么

有时候我们需要知道字符串有多长，可能是为了验证用户输入的长度是否符合要求，或者是为了截取特定长度的字符串。无论出于什么原因，通过编程来获取字符串的长度是一项基本的操作，也可以通过这种简单的方式来加深对编程语言的理解。

## 怎么做

在Ruby中，我们可以使用 `length`方法来获取字符串的长度。让我们来看一下下面的例子，它将展示如何使用 `length`方法来计算字符串的长度。

```Ruby
string = "今天天气晴朗，适合出门采风。"
puts string.length
```

在上面的代码中，我们首先定义一个包含中文字符的字符串 `string`，然后使用 `length`方法来获取它的长度。当我们运行这段代码时，终端会输出数字 `16`，这就证明我们的字符串有16个字符。

### 多种方式获取字符串长度

除了使用 `length`方法，我们还可以使用 `size`方法来获取字符串的长度。这两种方法在大多数情况下都可以正常工作，它们的作用都是相同的。让我们来看一下下面的例子，它将展示如何使用 `size`方法来计算字符串的长度。

```Ruby
string = "阅读拓展知识，积累生活智慧。"
puts string.size
```

在这段代码中，我们同样定义了一个包含中文字符的字符串 `string`，然后使用 `size`方法来获取它的长度。与使用 `length`方法获取长度相比，这里的输出结果仍然是数字 `16`。

### 获取字节数与获取字符数

有时候，我们可能会需要获取字符串的字节数而不是字符数。在中文中，一个字符通常占用两个字节的空间，在这种情况下，获取字符串的字节数可能就更有意义。为了获取字符串的字节数，我们可以使用 `bytesize`方法。让我们来看一下下面的例子，它将展示如何使用 `bytesize`方法来计算字符串的字节数。

```Ruby
string = "编程改变世界，学习改变人生。"
puts string.bytesize
```

在这段代码中，我们同样定义了一个包含中文字符的字符串 `string`，然后使用 `bytesize`方法来获取它的字节数。输出结果将是数字 `32`，因为这个字符串包含16个中文字符，每个占用2个字节。

## 深度探究

如果你对获取字符串长度的底层机制感兴趣，那么你可能会想知道 `length`、`size`和`bytesize`方法是如何工作的。实际上，它们都是通过调用 `String#count`方法来实现的。这个方法会返回与字符串匹配的字符的数量，当我们传入空字符串作为参数时，它将返回字符串本身的长度。

## 查看更多

如果你想了解更多关于Ruby中获取字符串长度的信息，请查看以下链接：

- [Ruby文档中关于String类的说明](https://ruby-doc.org/core-3.0.2/String.html)
- [CSDN博客文章：Ruby中字符串操作（2）之获取字符串长度](https://blog.csdn.net/qq_40753453/article/details/82841766)
- [菜鸟教程专栏：Ruby字符串操作](https://www.runoob.com/ruby/ruby-string.html)

## 更多内容请访问

请访问我个人的博客来了解更多有关Ruby编程的内容。谢谢！