---
title:                "生成随机数"
date:                  2024-01-27T20:32:43.522821-07:00
model:                 gpt-4-0125-preview
simple_title:         "生成随机数"

tag:                  "Numbers"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/zh/clojure/generating-random-numbers.md"
---

{{< edit_this_page >}}

## 什么与为什么？

在编程中生成随机数是指创建逻辑上无法预先预测的值。程序员出于各种原因这样做，包括生成唯一标识符、在游戏开发中模拟场景，或从数据中选择随机样本进行分析。

## 如何操作：

在Clojure中，生成随机数非常直接，而且有几个内置函数可以立即使用。

要生成一个0（包括）到1（不包括）之间的随机浮点数，您可以使用`rand`函数：

```Clojure
(rand)
;; 示例输出：0.7094245047062917
```

如果您需要一个特定范围内的整数，使用`rand-int`：

```Clojure
(rand-int 10)
;; 示例输出：7
```

这会给您一个介于0（包括）和您作为参数传递的数字（不包括）之间的随机整数。

要在特定范围内生成随机数（不限于整数），可以结合使用`rand`和算术运算：

```Clojure
(defn rand-range [min max]
  (+ min (* (rand) (- max min))))
;; 使用方法
(rand-range 10 20)
;; 示例输出：14.857457734992847
```

这个`rand-range`函数会返回您指定的`min`和`max`值之间的一个随机浮点数。

对于需要更复杂的分布或随机数序列的场景，其中可重复性是必要的（使用种子），您可能需要查看扩展内置功能之外的其他库。

## 深入探讨

大多数编程语言（包括Clojure）用于生成随机数的底层机制通常依赖于伪随机数生成器（PRNG）。PRNG使用一种算法产生一系列数，这些数近似于随机数的属性。值得注意的是，因为这些数是通过算法生成的，它们并非真正的随机，但对于大多数实际用途来说已经足够。

在计算机的早期，生成高质量随机数是一个重大挑战，这导致开发了各种算法来提高随机性和分布性。对于Clojure，如`rand`和`rand-int`等内置函数，适用于日常使用，并涵盖了广泛的常见用例。

然而，对于需要密码安全或更复杂统计抽样方法的应用，Clojure开发者通常会转向提供更健壮和专业的PRNGs的外部库。如`clj-random`等库提供了更多的算法选择和对种子的更大控制，这对于模拟、密码应用程序或任何随机数序列的质量和可预测性可能有重大影响的领域来说至关重要。

虽然Clojure的内置生成随机数能力对于许多任务来说已经足够，但探索外部库可以提供更深入的见解和选项，以用于定制化的或更关键的应用。
