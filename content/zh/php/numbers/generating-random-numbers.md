---
aliases:
- /zh/php/generating-random-numbers/
date: 2024-01-27 20:34:46.869041-07:00
description: "\u5728 PHP \u4E2D\u751F\u6210\u968F\u673A\u6570\u662F\u6307\u5728\u6307\
  \u5B9A\u8303\u56F4\u5185\u4EA7\u751F\u4E0D\u53EF\u9884\u6D4B\u7684\u503C\uFF0C\u8FD9\
  \u5BF9\u4E8E\u521B\u5EFA\u552F\u4E00\u7528\u6237 ID\u3001\u751F\u6210\u5BC6\u7801\
  \u6216\u7528\u4E8E\u6A21\u62DF\u548C\u6E38\u620F\u7B49\u4EFB\u52A1\u81F3\u5173\u91CD\
  \u8981\u3002\u7A0B\u5E8F\u5458\u4F9D\u8D56\u968F\u673A\u6027\u4E3A\u4ED6\u4EEC\u7684\
  \u5E94\u7528\u7A0B\u5E8F\u589E\u52A0\u4E0D\u53EF\u9884\u6D4B\u6027\u548C\u53D8\u5316\
  \u6027\uFF0C\u4F7F\u5F97\u6D4B\u8BD5\u6216\u7528\u6237\u4F53\u9A8C\u7B49\u8FC7\u7A0B\
  \u66F4\u52A0\u5065\u58EE\u548C\u5438\u5F15\u4EBA\u3002"
lastmod: 2024-02-18 23:08:59.212188
model: gpt-4-0125-preview
summary: "\u5728 PHP \u4E2D\u751F\u6210\u968F\u673A\u6570\u662F\u6307\u5728\u6307\u5B9A\
  \u8303\u56F4\u5185\u4EA7\u751F\u4E0D\u53EF\u9884\u6D4B\u7684\u503C\uFF0C\u8FD9\u5BF9\
  \u4E8E\u521B\u5EFA\u552F\u4E00\u7528\u6237 ID\u3001\u751F\u6210\u5BC6\u7801\u6216\
  \u7528\u4E8E\u6A21\u62DF\u548C\u6E38\u620F\u7B49\u4EFB\u52A1\u81F3\u5173\u91CD\u8981\
  \u3002\u7A0B\u5E8F\u5458\u4F9D\u8D56\u968F\u673A\u6027\u4E3A\u4ED6\u4EEC\u7684\u5E94\
  \u7528\u7A0B\u5E8F\u589E\u52A0\u4E0D\u53EF\u9884\u6D4B\u6027\u548C\u53D8\u5316\u6027\
  \uFF0C\u4F7F\u5F97\u6D4B\u8BD5\u6216\u7528\u6237\u4F53\u9A8C\u7B49\u8FC7\u7A0B\u66F4\
  \u52A0\u5065\u58EE\u548C\u5438\u5F15\u4EBA\u3002"
title: "\u751F\u6210\u968F\u673A\u6570"
---

{{< edit_this_page >}}

## 什么 & 为什么？

在 PHP 中生成随机数是指在指定范围内产生不可预测的值，这对于创建唯一用户 ID、生成密码或用于模拟和游戏等任务至关重要。程序员依赖随机性为他们的应用程序增加不可预测性和变化性，使得测试或用户体验等过程更加健壮和吸引人。

## 如何操作：

PHP 提供了几个生成随机数的函数，但最常用的是 `rand()`、`mt_rand()`，以及用于加密目的的 `random_int()`。

要生成一个简单的随机数，介于 0 和 getrandmax()（`rand()` 可返回的最大可能值）之间，你可以使用：

```PHP
echo rand();
```

对于一个更具体的范围，例如介于 1 和 100 之间：

```PHP
echo rand(1, 100);
```

然而，`mt_rand()` 在速度和随机性方面是更好的选择：

```PHP
echo mt_rand(1, 100);
```

输出结果对于两者都可能是介于 1 和 100 之间的任何数，这取决于随机化，例如 `42`。

对于加密或安全环境，其中不可预测性至关重要，`random_int()` 是首选，因为它生成加密安全的伪随机整数：

```PHP
echo random_int(1, 100);
```

同样，输出是介于 1 和 100 之间的随机数，像 `84`，但具有更强的随机性保证。

## 深入探讨

`rand()` 函数自 PHP 早期版本以来一直存在，作为生成随机数的初步方法。然而，由于其算法相对可预测，对于需要高度随机性的应用来说，它并非最佳选择。

`mt_rand()`，在 PHP 4 中引入，基于 Mersenne Twister 算法 - 在速度和能够生成的随机性方面远优于 `rand()`。它很快成为大多数非加密需求的首选选项。

对于安全敏感的应用程序，PHP 7 引入了 `random_int()`，使用来自系统随机数生成器的随机字节生成加密安全的伪随机整数。它比 `rand()` 或 `mt_rand()` 显著更加安全，使其成为生成令牌、密钥或其他可能因可预测性而导致安全漏洞的元素的最佳选择。

尽管有这些改进，根据应用程序的上下文选择正确的函数至关重要。对于一般用途，`mt_rand()` 就足够了，但对于可能成为攻击目标或被利用的任何东西，`random_int()` 是去路，提供了随机性和安全性。
