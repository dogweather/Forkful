---
title:                "רישום פעולות (לוגים)"
aliases:
- /he/rust/logging/
date:                  2024-01-26T01:10:07.085599-07:00
model:                 gpt-4-1106-preview
simple_title:         "רישום פעולות (לוגים)"

tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/he/rust/logging.md"
---

{{< edit_this_page >}}

מה ולמה?

התיעוד הוא כמו לשמור יומן עבור היישום שלך; זהו השיטה לרישום אירועים, שגיאות, ונתונים רלוונטיים אחרים במהלך זמן הריצה. מפתחים משתמשים בתיעודים כדי לאבחן בעיות, לנטר התנהגות של המערכת, ולאסוף תובנות שמניעות שיפורים - זהו הלחם והחמאה של המודיעין התפעולי.

איך לעשות:

בואו נקים תרחיש תיעוד בסיסי ב-Rust באמצעות התיב 'log', שמספק ממשק לתיעוד, ו-'env_logger', מימוש של תיעוד עבור התיב 'log'. ראשית, הוסיפו אותם ל-Cargo.toml שלכם:

```toml
[dependencies]
log = "0.4.14"
env_logger = "0.9.0"
```

עכשיו, הגדירו ואתחילו את המתעד ב-'main.rs' שלכם:

```rust
use log::{info, warn};

fn main() {
    env_logger::init();

    info!("זו הודעת מידע.");
    warn!("זו הודעת אזהרה.");
}
```

הריצו את היישום שלכם עם `RUST_LOG=info cargo run`, ותראו את הפלט:

```
INFO: זו הודעת מידע.
WARN: זו הודעת אזהרה.
```

שחקו מעט עם משתנה הסביבה `RUST_LOG` על ידי הגדרתו ל-`error`, `warn`, `info`, `debug`, או `trace` כדי לשלוט על המילוליות של התיעודים שלכם.

צלילה עמוקה

המושג של תיעוד אינו חידוש; הוא כבר קיים מתחילת ימי המחשוב. לפני שהתיעוד היה נפוץ בתוכנה, מפתחים התבססו על שיטות פרימיטיביות כמו הודעות הדפסה או כלים של דיבאגר כדי לעקוב אחר ביצועי התוכנית. כשהתוכניות התמורפו במורכבות, כך גם גדלה הצורך בגישות מובנות יותר לתיעוד.

ב-Rust, התיב 'log' מסתיר פרטי מימוש של תיעוד, מה שמאפשר למפתחים לחבר ממשקי תיעוד שונים. על אף ש-'env_logger' הוא בחירה נפוצה, ישנם חלופות כמו 'fern', 'slog', או 'tracing' כל אחת עם ערכת תכונות ואפשרויות תצורה משלה.

חלק מהשיקולים כאשר מיישמים תיעוד כוללים:

1. **רמות תיעוד**: שליטה במילוליות היא מפתח. תיב 'log' של Rust מגדיר מספר רמות תיעוד: error, warn, info, debug, ו-trace, בסדר יורד של חומרה.

2. **ביצועים**: תיעוד יכול להשפיע על ביצועים. קריטי להשתמש בו בחוכמה, תוך הבטחה להימנע מתיעוד במסלולי הביצועים הקריטיים או מתיעודים יתר על המידה בתפוקה.

3. **תיעוד מובנה**: המומלצים המודרניים כוללים תיעוד מובנה, שבו הרשומות נכתבות בפורמט קריא-מכונה כמו JSON. תיבות כמו 'slog' מאפשרות תיעוד מובנה ב-Rust, שיכול להיות מאונדק ונשאל באמצעות מערכות ניהול תיעוד כמו ELK Stack או Splunk.

4. **תיעוד אסינכרוני**: כדי למזער את ההשפעה על היישום העיקרי, ניתן לעשות תיעוד באופן אסינכרוני. לרוב מושג זה על ידי שימוש בתיב תיעוד שכותב לתור בזיכרון, ותהליך נפרד מעבד את התור וכותב את הרשומות ליעד.

5. **תצורה**: רבות ממסגרות התיעוד תומכות בתצורה דרך משתני סביבה, קבצי תצורה, ו/או קוד. גמישות זו היא מפתח לכוונון התוצאה בסביבות שונות (פיתוח, סביבת הדמיה, ייצור).

ראו גם

- תיעוד התיב 'log': https://docs.rs/log/
- תיעוד התיב 'env_logger': https://docs.rs/env_logger/
- דף התיעוד של Rust by Example לגבי תיעוד: https://doc.rust-lang.org/rust-by-example/std_misc/log.html
- התיב 'slog', מסגרת תיעוד חלופית: https://github.com/slog-rs/slog
- Tracing, מסגרת לאינסטרומנטציה של תוכניות Rust: https://crates.io/crates/tracing
