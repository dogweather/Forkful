---
title:                "שינוי קבצים באמצעות שורת פקודה בשורה אחת"
date:                  2024-01-26T22:25:56.401058-07:00
model:                 gpt-4-0125-preview
simple_title:         "שינוי קבצים באמצעות שורת פקודה בשורה אחת"
programming_language: "Ruby"
category:             "Ruby"
tag:                  "Data and Text Processing"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/he/ruby/modifying-files-with-cli-one-liners.md"
---

{{< edit_this_page >}}

## מה ולמה?
שינוי קבצים באמצעות CLI (ממשק שורת פקודה) בשורה אחת ברובי מערב שימוש במניפולציות טקסט מהירות ולעיתים פשוטות ישירות מהטרמינל באמצעות אפשרויות שורת הפקודה של רובי. שיטה זו חשובה ביותר כאשר נדרשת לבצע שינויים בצורה קבוצתית לקבצים, לסנן תוכן, או לאוטמט עריכה ללא פתיחת עורך טקסט. זהו עניין של לנצל ביעילות את יכולות עיבוד הטקסט של רובי לעריכות תסריטיות.

## איך לעשות:
נניח שיש לך קובץ בשם `example.txt` עם מספר שורות של טקסט ואתה מעוניין להפוך את סדר השורות. באמצעות רובי, תוכל לבצע זאת בשורה אחת:

```ruby
ruby -e 'puts File.readlines("example.txt").reverse' 
```

או, אם ברצונך להחליף את כל המופעים של "foo" ב"bar" ב-`data.txt`, תוכל לעשות:

```ruby
ruby -i.bak -pe 'gsub(/foo/, "bar")' data.txt
```

הפקודה הזו יוצרת גם גיבוי (`data.txt.bak`) של הקובץ המקורי, מה שמדגים את התחשבות רובי בבטיחות הנתונים. הפלט לא ניתן לראייה ישירות מכיוון שהפקודות האלו משנות את תוכן הקובץ, אך תוכלו להשתמש ב-`cat data.txt` כדי לראות את השינויים.

## טבילה עמוקה
הדגל `-e` אומר לרובי לבצע את הסקריפט הנתון, בעוד שהדגל `-i` מאפשר עריכה במקום עם הרחבה אופציונלית ליצירת קובץ גיבוי. הדגל `-p` מעביר את הקלט ומדפיס כל שורה אחרי שהסקריפט יוחל עליה, דומה ל-sed ביוניקס/לינוקס.

בהיסטוריה, עריכה במקום ועיבוד שורת פקודה היו תחומים ששלטו בהם sed, awk, ו-perl. רובי, לעומת זאת, משלבת פונקציונליות דומות באופן יפה, מה שמאפשר מניפולציות מורכבות יותר זכרון לשפת העשירה והספריות המובנות שלה.

חלופות לשינוי קבצים כוללות את sed ו-awk למשימות פשוטות יותר, או שימוש בסקריפטים מלאים של רובי לעיבוד מורכב יותר. החיסרון של שימוש ברובי לשורות פקודה אחת עשוי להיות הביצועים עבור קבצים גדולים מאוד או פעולות מורכבות, שם כלים שנוצרו במיוחד לעיבוד טקסט אולי ירוצו מהר יותר.

מבחינה טכנית, כאשר רובי מעבדת קבצים בשורה, היא למעשה יוצרת פלט זמני בזמן קריאת הקובץ, ואז מחליפה את הקובץ המקורי בפלט הזה. פרט זה מדגיש את חשיבות האפשרויות לגיבוי או בדיקות זהירות עם שימוש בדגל `-i` כדי למנוע אובדן נתונים.

##ראה גם
- התיעוד הרשמי של רובי על אפשרויות שורת פקודה: [https://www.ruby-lang.org/en/documentation/quickstart/3/](https://www.ruby-lang.org/en/documentation/quickstart/3/)
- השוואה מקיפה של עיבוד טקסט ברובי לעומת sed ו-awk: [https://www.gnu.org/software/sed/manual/sed.html](https://www.gnu.org/software/sed/manual/sed.html)
- לצלילה עמוקה יותר בטיפול רובי בקבצים ו-IO: [https://ruby-doc.org/core-2.7.0/IO.html](https://ruby-doc.org/core-2.7.0/IO.html)
