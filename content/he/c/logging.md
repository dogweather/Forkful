---
title:                "לוגים"
date:                  2024-01-26T01:01:28.921385-07:00
model:                 gpt-4-1106-preview
simple_title:         "לוגים"

tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/he/c/logging.md"
---

{{< edit_this_page >}}

## מה ולמה?
רישום (Logging) הינו בעצם תיעוד של מה שהתוכנית שלך עושה, בדרך כלל על ידי כתיבת הודעות לקובץ או לטרמינל. מתכנתים עושים זאת כדי לעקוב אחרי אירועים, לאבחן בעיות, ולהחזיק מעין רשום שמספר את סיפור הפעולה של היישום לאורך זמן.

## איך לעשות:
בואו נתחיל בכמה דברים בסיסיים. ל-C אין מסגרת רישום מובנית, אבל אפשר ליצור משהו פשוט עם `stdio.h`. הנה איך:

```c
#include <stdio.h>
#include <time.h>

void logMessage(const char* message) {
    time_t now;
    time(&now);
    char *date = ctime(&now);
    date[strlen(date) - 1] = '\0'; // הסרת שורת החדשה בסוף התוצאה של ctime()
    printf("[%s] %s\n", date, message);
}

int main() {
    logMessage("היישום התחיל.");
    // ... כאן יושב הקוד שלך ...
    logMessage("היישום עושה משהו חשוב.");
    // ... הקוד שלך ממשיך ...
    logMessage("היישום הסתיים.");
    return 0;
}
```

הפלט עשוי להיראות כך:

```
[ג' מרץ 9 12:00:01 2023] היישום התחיל.
[ג' מרץ 9 12:00:02 2023] היישום עושה משהו חשוב.
[ג' מרץ 9 12:00:03 2023] היישום הסתיים.
```

כמובן, בעולם האמיתי כנראה שתרצה לכתוב לקובץ במקום לטרמינל, לטפל ברמות רישום שונות, ואולי להשתמש בספרייה מוגדרת מראש.

## צלילה עמוקה
רישום ב-C מחזיק בו קסם ישן—הוא ברמה נמוכה כמו רוב שאר השפה. בהיסטוריה, רישום בוצע באמצעות פקודת `fprintf` עם `stderr` או מצביע לקובץ. ככל שהתוכניות התמסדרו והתמורדו, כך גם צורכי הרישום התעצמו, מה שהוביל לפיתוח של ספריות כמו `syslog` במערכות Unix, אשר יכולות לטפל ברישום ממקורות מרובים עם שוני החשיבות.

בנוף המודרני, ישנן מגוון גדול של ספריות רישום ב-C, כגון `zlog`, `log4c`, ו-`glog`, אשר מציעות ערכת תכונות עשירה כולל סיבוב יומנים, רישום מובנה, ורישום מרובה תהליכים. הפתרונות אלו מאפשרים שליטה דקה על עוצמת הרישום, יעדים, ופורמטים.

בעת הטמעת מערכת רישום, פרטים כמו פורמט הזמן ברישום, ניהול קובץ יומן, וביצועים זקוקים לשיקול. הוספת חותמת זמן לרשומות היא קריטית לקישור אירועים, בעוד שסיבוב יומנים מבטיח שקבצי היומן לא יתפסו יותר מדי מקום על הדיסק. הפעולה של רישום גם צריכה להיות מהירה ולא מובילה לחסימות של זרם אפליקציה ראשי כדי למנוע מהרישום להפוך לבקבוק.

## ראה גם
כדי להעמיק יותר לתוך ספריות ומתודולוגיות רישום ב-C, בדוק את המשאבים הבאים:

- מדריך `syslog` של GNU: https://www.gnu.org/software/libc/manual/html_node/Syslog.html
- `zlog`: ספריית רישום היטב מותאמת אישית ל-C - https://github.com/HardySimpson/zlog
- `log4c`: מסגרת רישום ל-C מודל של Log4j - http://log4c.sourceforge.net/
- `glog`: ספריית רישום של Google לרמת יישומים - https://github.com/google/glog
