---
title:                "עריכת קבצים במקום עם שורות פקודה חד-שורתיות"
date:                  2024-01-27T16:21:36.690599-07:00
model:                 gpt-4-0125-preview
simple_title:         "עריכת קבצים במקום עם שורות פקודה חד-שורתיות"

tag:                  "Data and Text Processing"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/he/fish-shell/editing-files-in-place-with-cli-one-liners.md"
---

{{< edit_this_page >}}

## מה ולמה?

עריכת קבצים במקום באמצעות שורת פקודה בודדת מדברת על ביצוע שינויים ישירות בקבצים מהשורת הפקודה, בלי לפתוח אותם בעורך טקסט. תוכנים עושים זאת כדי לחסוך זמן ולאוטמט פעולות עריכה חוזרות ונשנות, מה שהופך את זרימת העבודה שלהם לחלקה ויותר יעילה.

## איך לעשות:

ה-Fish Shell, הידוע בזכות תכונותיו הידידותיות למשתמש ויכולות הקריפטינג החזקות שלו, מציע מספר דרכים לערוך קבצים במקום. עם זאת, בניגוד לחלק מהשלים האחרים, יש ל-Fish של אין מנגנון מובנה לעריכה במקום (`sed -i` ב-Bash, לדוגמה). אך אל תחששו, ניתן עדיין להשיג זאת עם קצת יצירתיות וקצת עזרה מכלים חיצוניים כמו `sed` ו-`awk`.

### שימוש ב-`sed` להחלפות פשוטות
כדי להחליף את כל מופעי "hello" ב-"world" ב-`file.txt`, יש להשתמש בפקודה:
```Fish Shell
sed -i '' 's/hello/world/g' file.txt
```

### החלת מספר פקודות `sed`
אם יש צורך לבצע מספר החלפות, ניתן לשרשר אותן כך:
```Fish Shell
sed -i '' -e 's/fish/bass/g' -e 's/rainbow/trout/g' file.txt
```

### שימוש ב-`awk` לפעולות מורכבות יותר
עבור פעולות שהן מורכבות מדי עבור `sed`, `awk` עשוי להיות הכלי הנבחר שלך. הנה דרך להכפיל את המספר בכל שורה:
```Fish Shell
awk '{print $1 * 2}' file.txt > temp && mv temp file.txt
```

### הערה על טיפול בשגיאות
זכרו, כאשר משתמשים בכלים אלו מתוך Fish, הלכידת שגיאות והבנת הודעותיהן הן קריטיות. השתמשו ביכולת טיפול השגיאות החזקה של Fish כדי להפוך את הסקריפטים שלכם לאמינים יותר.

## צלילה עמוקה

היסטורית, עריכת קבצים במקום הייתה כלי עבודה קבוע של תכנות Unix ו-Linux, המציעה דרך יעילה לבצע עריכות מהירות מבלי לפתוח קבצים ידנית. כלים כמו `sed` ו-`awk` הם כלי שימוש ותיקים שהיו קיימים מראשית ימי Unix, והפכו אינדיספנסביליים למשימות עיבוד טקסט.

ה-Fish Shell, אף על פי שהוא מודרני יותר ולו יתרונות בנוחות ובקריפטינג, חסרה לו היכולת המובנית לעריכה במקום בעיקר בשל פילוסופיית עיצובו המתמקדת באינטרקטיביות וידידותיות למשתמש. היעדרות הפקודה המובנית לעריכה במקום ב-Fish מדגישה את חשיבות הכלים החיצוניים באקוסיסטמות הדמויות Unix.

אלטרנטיבות לעריכה במקום ב-Fish כוללות שימוש בקבצים זמניים או נצל Perl או Python בשורות פקודה בודדות, שיכולים להציע גמישות או קריאות יותר עבור משימות מורכבות.

לדוגמה, באמצעות Perl:
```Fish Shell
perl -pi -e 's/find/replace/g' file.txt
```
או Python:
```Fish Shell
python -c "import re, sys; [sys.stdout.write(re.sub('pattern', 'replacement', line)) for line in sys.stdin]" < file.txt > temp && mv temp file.txt
```

מבחינת היישום, כאשר אתה מבצע עריכה במקום, מאחורי הקלעים, הכלים הללו בדרך כלל יוצרים קובץ זמני, כותבים את השינויים שם ואז מחליפים את הקובץ המקורי בגרסה המשונה. הגישה הזו מבטיחה שתהליך עריכת הקובץ לא יקלקל או יאבד נתונים אם מתרחשת שגיאה במהלך הפעולה.

הבנה של כלים ושיטות אלו מאפשרת למתכנתי Fish Shell לשלב עריכה במקום בסקריפטים שלהם בצורה יעילה, ולגשר על הפער בין תכונות הידידותיות למשתמש של Fish ובין העוצמה הגולמית של כלי עיבוד הטקסט המסורתיים של Unix.
