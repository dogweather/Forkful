---
aliases:
- /uk/lua/writing-tests/
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 19:31:52.394842-07:00
description: "\u041D\u0430\u043F\u0438\u0441\u0430\u043D\u043D\u044F \u0442\u0435\u0441\
  \u0442\u0456\u0432 \u0443 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u0443\u0432\
  \u0430\u043D\u043D\u0456 \u043F\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\
  \ \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u043C\u0430\u043B\u0435\
  \u043D\u044C\u043A\u0438\u0445, \u043E\u043A\u0440\u0435\u043C\u0438\u0445 \u0447\
  \u0430\u0441\u0442\u0438\u043D \u043A\u043E\u0434\u0443, \u0449\u043E\u0431 \u0430\
  \u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u043D\u043E \u043F\u0435\u0440\u0435\
  \u0432\u0456\u0440\u044F\u0442\u0438, \u0449\u043E \u0440\u0456\u0437\u043D\u0456\
  \ \u0447\u0430\u0441\u0442\u0438\u043D\u0438 \u0432\u0430\u0448\u043E\u0457 \u043F\
  \u0440\u043E\u0433\u0440\u0430\u043C\u0438 \u043F\u0440\u0430\u0446\u044E\u044E\u0442\
  \u044C\u2026"
lastmod: 2024-02-18 23:09:00.574575
model: gpt-4-0125-preview
summary: "\u041D\u0430\u043F\u0438\u0441\u0430\u043D\u043D\u044F \u0442\u0435\u0441\
  \u0442\u0456\u0432 \u0443 \u043F\u0440\u043E\u0433\u0440\u0430\u043C\u0443\u0432\
  \u0430\u043D\u043D\u0456 \u043F\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\
  \ \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u043C\u0430\u043B\u0435\
  \u043D\u044C\u043A\u0438\u0445, \u043E\u043A\u0440\u0435\u043C\u0438\u0445 \u0447\
  \u0430\u0441\u0442\u0438\u043D \u043A\u043E\u0434\u0443, \u0449\u043E\u0431 \u0430\
  \u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u043D\u043E \u043F\u0435\u0440\u0435\
  \u0432\u0456\u0440\u044F\u0442\u0438, \u0449\u043E \u0440\u0456\u0437\u043D\u0456\
  \ \u0447\u0430\u0441\u0442\u0438\u043D\u0438 \u0432\u0430\u0448\u043E\u0457 \u043F\
  \u0440\u043E\u0433\u0440\u0430\u043C\u0438 \u043F\u0440\u0430\u0446\u044E\u044E\u0442\
  \u044C\u2026"
title: "\u041F\u0438\u0441\u044C\u043C\u043E \u0442\u0435\u0441\u0442\u0456\u0432"
---

{{< edit_this_page >}}

## Що і чому?

Написання тестів у програмуванні передбачає створення маленьких, окремих частин коду, щоб автоматично перевіряти, що різні частини вашої програми працюють як очікується. Для програмістів Lua, тестування забезпечує надійність і допомагає у підтриманні якості коду, прискорює процес відладки і робить модифікації коду безпечнішими.

## Як це зробити:

Lua, будучи легкою, але потужною мовою сценаріїв, не включає вбудований фреймворк для тестування. Однак, бібліотеки сторонніх розробників, такі як Busted і LuaUnit, роблять тестування відносно простим. Тут ми розглянемо приклади використання обох.

### Використання Busted

Busted - популярний фреймворк для тестування Lua, який пропонує гнучкий спосіб писати тести. Спершу встановіть Busted через LuaRocks (менеджер пакетів Lua) за допомогою команди `luarocks install busted`. Після встановлення ви можете писати свої тести. Ось простий тест для функції `add`, яка сумує два числа:

```lua
-- add.lua
local function add(a, b)
  return a + b
end

return add
```

```lua
-- add_spec.lua
local add = require('add')

describe("Функція додавання", function()
  it("повинна коректно додавати два числа", function()
    assert.are.equal(5, add(2, 3))
  end)
end)
```

Щоб запустити тести, виконайте `busted` у вашому терміналі. Приклад виводу для успішного тесту виглядатиме так:

```
●
1 успіх / 0 невдач / 0 помилок / 0 в очікуванні : 0.002 секунди
```

### Використання LuaUnit

LuaUnit - ще один фреймворк для тестування, який дотримується конвенцій xUnit і легко налаштовується. Встановіть LuaUnit через LuaRocks за допомогою `luarocks install luaunit`. Ось як ви могли б написати подібний тест, як вище, з використанням LuaUnit:

```lua
-- add.lua залишається таким самим

-- test_add.lua
luaunit = require('luaunit')
local add = require('add')

function testAdd()
  luaunit.assertEquals(add(2, 3), 5)
end

os.exit(luaunit.LuaUnit.run())
```

Запуск цього скрипта безпосередньо через Lua (`lua test_add.lua`) виведе щось на кшталт:

```
.
Пройдено 1 тест за 0.001 секунди, 1 успіх, 0 невдач
```

Обидва фреймворки, Busted та LuaUnit, пропонують обширні можливості для роботи з різними сценаріями тестування, включно з мокінгом, шпигунством та асинхронним тестуванням. Вибір між ними залежить від специфічних потреб вашого проекту та особистих переваг щодо синтаксису та функціональності.
