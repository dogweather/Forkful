---
title:                "Рефакторинг"
date:                  2024-01-26T01:38:23.619884-07:00
model:                 gpt-4-0125-preview
simple_title:         "Рефакторинг"

tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/go/refactoring.md"
---

{{< edit_this_page >}}

## Що і чому?
Рефакторинг — це процес реструктуризації існуючого комп'ютерного коду без зміни його зовнішньої поведінки. Програмісти роблять це для покращення невирішених атрибутів програмного забезпечення, як-от читабельність і підтримуваність, що може зробити код легшим для розуміння, зменшити складність і допомогти легше знаходити помилки.

## Як це зробити:
Давайте поглянемо на простий приклад рефакторингу коду на Go. Візьмемо фрагмент, який обчислює середнє значення зі списку чисел і рефакторимо його для кращої чіткості та повторного використання.

Оригінальний код:
```Go
package main

import "fmt"

func main() {
    numbers := []float64{8, 12, 15, 10, 7, 14}
    var sum float64
    for _, num := range numbers {
        sum += num
    }
    average := sum / float64(len(numbers))
    fmt.Println("Середнє:", average)
}
```

Рефакториний код:
```Go
package main

import "fmt"

// CalculateAverage приймає сріз float64 і повертає середнє.
func CalculateAverage(numbers []float64) float64 {
    sum := 0.0
    for _, num := range numbers {
        sum += num
    }
    return sum / float64(len(numbers))
}

func main() {
    numbers := []float64{8, 12, 15, 10, 7, 14}
    average := CalculateAverage(numbers)
    fmt.Println("Середнє:", average)
}
```

У рефактореному коді ми винесли логіку обчислення середнього значення в окрему функцію `CalculateAverage`. Це робить функцію `main` більш концентрованою, а логіку обчислення середнього - повторно використовуваною і тестованою.

## Поглиблений огляд
Рефакторинг коду - це не сучасна концепція; його історія починається до широкого використання комп'ютерів. Практика, ймовірно, почалася в сфері механічної інженерії або навіть раніше. У програмуванні вона стала більше формалізованою з появою об'єктно-орієнтованого програмування і екстремального програмування (XP) у 1990-х роках, особливо під впливом фундаментальної книги Мартіна Фаулера "Рефакторинг: поліпшення проектування існуючого коду".

Існує безліч технік рефакторингу, від простої зміни назв змінних для кращої ясності до більш складних патернів, як-от витягування методів або класів. Ключовим є здійснення невеликих, поступових змін, які не модифікують функціональність програмного забезпечення, але покращують внутрішню структуру.

При використанні Go, рефакторинг може бути досить простим завдяки простоті мови та потужній стандартній бібліотеці. Проте, все ще важливо мати хороший набір модульних тестів, щоб переконатися, що рефакторинг не вносить помилок. Інструменти, як-от `gorename` і `gofmt`, допомагають автоматизувати деякі процеси, а IDE часто мають вбудовану підтримку рефакторингу.

Крім ручного рефакторингу, існує кілька автоматизованих інструментів рефакторингу коду для Go, таких як інструменти рефакторингу GoLand і Go Refactor. Хоча ці інструменти можуть прискорити процес, вони не замінюють розуміння коду та внесення обдуманих змін.

## Дивіться також
 - [Рефакторинг у Go: Простота є прекрасною](https://go.dev/blog/slices)
 - [Ефективний Go: Рефакторинг з інтерфейсами](https://go.dev/doc/effective_go#interfaces)
 - [Сторінка рефакторингу Мартіна Фаулера](https://refactoring.com/)
 - [Інструменти рефакторингу GoLand](https://www.jetbrains.com/go/features/refactorings/)
