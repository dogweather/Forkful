---
aliases:
- /uk/go/checking-if-a-directory-exists/
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 17:53:28.637347-07:00
description: "\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u043A\u0430 \u043D\u0430\u044F\
  \u0432\u043D\u043E\u0441\u0442\u0456 \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\
  \u0456\u0457 \u0432 Go \u0454 \u043A\u043B\u044E\u0447\u043E\u0432\u043E\u044E \u0434\
  \u043B\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C, \u044F\u043A\u0456 \u0432\
  \u0437\u0430\u0454\u043C\u043E\u0434\u0456\u044E\u0442\u044C \u0437 \u0444\u0430\
  \u0439\u043B\u043E\u0432\u043E\u044E \u0441\u0438\u0441\u0442\u0435\u043C\u043E\u044E\
  , \u0449\u043E\u0431 \u0443\u043D\u0438\u043A\u043D\u0443\u0442\u0438 \u043F\u043E\
  \u043C\u0438\u043B\u043E\u043A \u043F\u0440\u0438 \u0441\u043F\u0440\u043E\u0431\
  \u0456 \u0434\u043E\u0441\u0442\u0443\u043F\u0443 \u0430\u0431\u043E \u0437\u043C\
  \u0456\u043D\u0438\u2026"
lastmod: 2024-02-18 23:08:59.707685
model: gpt-4-0125-preview
summary: "\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u043A\u0430 \u043D\u0430\u044F\
  \u0432\u043D\u043E\u0441\u0442\u0456 \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\
  \u0456\u0457 \u0432 Go \u0454 \u043A\u043B\u044E\u0447\u043E\u0432\u043E\u044E \u0434\
  \u043B\u044F \u043F\u0440\u043E\u0433\u0440\u0430\u043C, \u044F\u043A\u0456 \u0432\
  \u0437\u0430\u0454\u043C\u043E\u0434\u0456\u044E\u0442\u044C \u0437 \u0444\u0430\
  \u0439\u043B\u043E\u0432\u043E\u044E \u0441\u0438\u0441\u0442\u0435\u043C\u043E\u044E\
  , \u0449\u043E\u0431 \u0443\u043D\u0438\u043A\u043D\u0443\u0442\u0438 \u043F\u043E\
  \u043C\u0438\u043B\u043E\u043A \u043F\u0440\u0438 \u0441\u043F\u0440\u043E\u0431\
  \u0456 \u0434\u043E\u0441\u0442\u0443\u043F\u0443 \u0430\u0431\u043E \u0437\u043C\
  \u0456\u043D\u0438\u2026"
title: "\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u043A\u0430 \u0456\u0441\u043D\u0443\
  \u0432\u0430\u043D\u043D\u044F \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\u0456\
  \u0457"
---

{{< edit_this_page >}}

## Що і чому?

Перевірка наявності директорії в Go є ключовою для програм, які взаємодіють з файловою системою, щоб уникнути помилок при спробі доступу або зміни директорій. Ця операція важлива для завдань, як-от забезпечення передумов для операцій з файлами, управління конфігураціями та розгортання програмного забезпечення, яке покладається на конкретні структури директорій.

## Як це зробити:

В Go пакет `os` надає функціональні можливості для взаємодії з операційною системою, включно з перевіркою існування директорії. Ось як ви можете це зробити:

```go
package main

import (
    "fmt"
    "os"
)

// isDirExists перевіряє, чи існує директорія
func isDirExists(path string) bool {
    info, err := os.Stat(path)
    if os.IsNotExist(err) {
        return false
    }
    return info.IsDir()
}

func main() {
    dirPath := "/tmp/exampleDir"

    if isDirExists(dirPath) {
        fmt.Printf("Directory %s exists.\n", dirPath)
    } else {
        fmt.Printf("Directory %s does not exist.\n", dirPath)
    }
}
```
Приклад виводу:

```
Директорія /tmp/exampleDir існує.
```
або 

```
Директорія /tmp/exampleDir не існує.
```

Залежно від того, існує `/tmp/exampleDir` чи ні.

## Поглиблений огляд

Функція `os.Stat` повертає інтерфейс `FileInfo` та помилку. Якщо помилка є типом `os.ErrNotExist`, це означає, що директорії не існує. Якщо помилки немає, ми додатково перевіряємо, чи дійсно шлях посилається на директорію через метод `IsDir()` з інтерфейсу `FileInfo`.

Цей метод вирізняється своєю простотою та ефективністю, але важливо зауважити, що перевірка існування директорії перед виконанням операцій, як-от створення або запис, може призвести до умов гонок у конкурентних середовищах. У багатьох сценаріях, особливо в конкурентних додатках, безпечніше спробувати виконати операцію (наприклад, створення файлу) і обробити помилки після цього, а не перевіряти спочатку.

Історично цей підхід був поширений у програмуванні через його просту логіку. Однак, еволюція багатопотокових та конкурентних обчислень вимагає переходу до більш надійної обробки помилок та уникнення попередніх перевірок умов, де це можливо. Це не зменшує його корисності для простіших, однопотокових додатків або сценаріїв, де такі умови менш критичні.
