---
title:                "C++: Створення тимчасового файлу"
programming_language: "C++"
category:             "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/cpp/creating-a-temporary-file.md"
---

{{< edit_this_page >}}

## Чому

Створення тимчасового файлу є необхідною частиною багатьох програм, особливо якщо вони працюють зі збереженням та обробкою даних. Тимчасові файли є корисним засобом для тимчасового збереження інформації, яка більше не потрібна після виконання певних операцій.

## Як

Для створення тимчасових файлів у C++, ми можемо використати функцію ```tmpfile()```. Ця функція повертає вказівник на структуру ```FILE```, яка представляє тимчасовий файл. Ось приклад коду, який створює та записує текст у тимчасовий файл, після чого його виводить:

```C++
#include <stdio.h>

int main() {

    // Створення тимчасового файлу
    FILE* tmp = tmpfile();

    // Запис тексту у файл
    fputs("Цей текст буде збережений у тимчасовому файлі.", tmp);

    // Переміщення позиції курсора на початок файлу
    rewind(tmp);

    // Виведення змісту файлу на екран
    int c;
    while ((c = getc(tmp)) != EOF)
        putchar(c);

    // Закриття тимчасового файлу
    fclose(tmp);

    return 0;
}
```

Вивід цього прикладу буде наступним:

```
Цей текст буде збережений у тимчасовому файлі.
```

## Deep Dive

Створення тимчасових файлів є важливою але дещо ризикованою задачею. Це пов'язано з тим, що на темпорарному файлі можуть залишатися застарілі дані, які можуть бути викрадені зловмисниками. Тому важливо користуватися спеціальними функціями для безпечного створення і видалення тимчасових файлів, як от ```mkstemp()``` та ```unlink()```.

## Дивіться також

- [Функція tmpfile() в C++](https://www.geeksforgeeks.org/tmpfile-function-in-c/)
- [Спеціальні функції для безпечного створення тимчасових файлів](https://en.cppreference.com/w/c/io/tmpfile)