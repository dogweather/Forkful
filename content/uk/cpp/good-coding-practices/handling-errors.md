---
aliases:
- /uk/cpp/handling-errors/
date: 2024-01-26 00:49:43.580938-07:00
description: "\u041E\u0431\u0440\u043E\u0431\u043A\u0430 \u043F\u043E\u043C\u0438\u043B\
  \u043E\u043A \u043F\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454 \u043F\
  \u043B\u0430\u043D\u0443\u0432\u0430\u043D\u043D\u044F \u0434\u043B\u044F \u0432\
  \u0438\u043F\u0430\u0434\u043A\u0456\u0432, \u043A\u043E\u043B\u0438 \u0449\u043E\
  \u0441\u044C \u0439\u0434\u0435 \u043D\u0435 \u0442\u0430\u043A. \u0426\u0435 \u0432\
  \u0430\u0436\u043B\u0438\u0432\u043E, \u043E\u0441\u043A\u0456\u043B\u044C\u043A\
  \u0438 \u0434\u043E\u043F\u043E\u043C\u0430\u0433\u0430\u0454 \u0443\u043D\u0438\
  \u043A\u0430\u0442\u0438 \u0437\u0431\u043E\u0457\u0432 \u0456 \u0440\u043E\u0431\
  \u0438\u0442\u044C \u0432\u0430\u0448\u0435 \u043F\u0440\u043E\u0433\u0440\u0430\
  \u043C\u043D\u0435\u2026"
lastmod: 2024-02-18 23:09:00.888685
model: gpt-4-1106-preview
summary: "\u041E\u0431\u0440\u043E\u0431\u043A\u0430 \u043F\u043E\u043C\u0438\u043B\
  \u043E\u043A \u043F\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454 \u043F\
  \u043B\u0430\u043D\u0443\u0432\u0430\u043D\u043D\u044F \u0434\u043B\u044F \u0432\
  \u0438\u043F\u0430\u0434\u043A\u0456\u0432, \u043A\u043E\u043B\u0438 \u0449\u043E\
  \u0441\u044C \u0439\u0434\u0435 \u043D\u0435 \u0442\u0430\u043A. \u0426\u0435 \u0432\
  \u0430\u0436\u043B\u0438\u0432\u043E, \u043E\u0441\u043A\u0456\u043B\u044C\u043A\
  \u0438 \u0434\u043E\u043F\u043E\u043C\u0430\u0433\u0430\u0454 \u0443\u043D\u0438\
  \u043A\u0430\u0442\u0438 \u0437\u0431\u043E\u0457\u0432 \u0456 \u0440\u043E\u0431\
  \u0438\u0442\u044C \u0432\u0430\u0448\u0435 \u043F\u0440\u043E\u0433\u0440\u0430\
  \u043C\u043D\u0435\u2026"
title: "\u041E\u0431\u0440\u043E\u0431\u043A\u0430 \u043F\u043E\u043C\u0438\u043B\u043E\
  \u043A"
---

{{< edit_this_page >}}

## Що і чому?
Обробка помилок передбачає планування для випадків, коли щось йде не так. Це важливо, оскільки допомагає уникати збоїв і робить ваше програмне забезпечення стійким та зручним для користувача.

## Як це робити:
Ось базовий блок try-catch для обробки винятку:

```cpp
#include <iostream>
#include <stdexcept>

int main() {
    try {
        throw std::runtime_error("Ой! Щось пішло не так.");
    } catch (const std::exception& e) {
        std::cerr << "Помилка: " << e.what() << std::endl;
    }
    return 0;
}
```

Приклад виводу:
```
Помилка: Ой! Щось пішло не так.
```

## Поглиблено
C++ мав обробку помилок з самого початку. Найбазовіша форма полягала у перевірці значень, що повертаються. Якщо ви давно працюєте з програмуванням, ви пам'ятаєте дочасні дні: C з класами і ручною перевіркою помилок.

Пізніше з'явилися виключення у C++, які дали нам структурований спосіб впоратися з несподіваними проблемами. Виняток викликається з `throw` і перехоплюється з `try/catch`.

Часто виникають два типи помилок: логічні помилки, наприклад, неправильний розрахунок, та помилки часу виконання, наприклад, доступ до недійсної адреси пам'яті. Виключення ідеально підходять для помилок часу виконання. Для логічних помилок часто краще використовувати перевірки з твердженнями або коди помилок.

Триває дискусія про виключення проти кодів помилок. Виключення можуть бути повільнішими і можуть призвести до складних потоків управління. Коди помилок, хоча й швидші, можуть зробити код забрудненим і важчим для підтримки. Це компроміс, тому знання вашого випадку використання є ключовим.

C++17 ввів `std::optional` і `std::variant`, які є альтернативами виключенням. Вони корисні для функцій, які можуть, а можуть і не повернути дійсний результат.

Безпека у випадку виключень може бути ще одним головним болем. Це стосується гарантії, яку надає ваш код, незважаючи на виключення. Є три рівні: базовий, сильний і nothrow. Чим більше гарантій, тим складнішим може бути ваш код.

Останні думки — обробка помилок - це настільки ж мистецтво, як і наука. Вона формує те, як ваша програма виживає у дикій природі. Не перевикористовуйте виключення. Прагніть до читабельного, зручного для підтримки коду.

## Див. також
- [cppreference про обробку виключень](https://en.cppreference.com/w/cpp/language/exceptions)
- [Думка Бьярне Страуструпа про обробку помилок](http://www.stroustrup.com/except.pdf)
- [Рекомендації C++ Core Guidelines щодо виключень](https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Re-exceptions)
