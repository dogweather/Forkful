---
title:                "Обробка помилок"
aliases:
- /uk/cpp/handling-errors/
date:                  2024-01-26T00:49:43.580938-07:00
model:                 gpt-4-1106-preview
simple_title:         "Обробка помилок"

tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/cpp/handling-errors.md"
---

{{< edit_this_page >}}

## Що і чому?
Обробка помилок передбачає планування для випадків, коли щось йде не так. Це важливо, оскільки допомагає уникати збоїв і робить ваше програмне забезпечення стійким та зручним для користувача.

## Як це робити:
Ось базовий блок try-catch для обробки винятку:

```cpp
#include <iostream>
#include <stdexcept>

int main() {
    try {
        throw std::runtime_error("Ой! Щось пішло не так.");
    } catch (const std::exception& e) {
        std::cerr << "Помилка: " << e.what() << std::endl;
    }
    return 0;
}
```

Приклад виводу:
```
Помилка: Ой! Щось пішло не так.
```

## Поглиблено
C++ мав обробку помилок з самого початку. Найбазовіша форма полягала у перевірці значень, що повертаються. Якщо ви давно працюєте з програмуванням, ви пам'ятаєте дочасні дні: C з класами і ручною перевіркою помилок.

Пізніше з'явилися виключення у C++, які дали нам структурований спосіб впоратися з несподіваними проблемами. Виняток викликається з `throw` і перехоплюється з `try/catch`.

Часто виникають два типи помилок: логічні помилки, наприклад, неправильний розрахунок, та помилки часу виконання, наприклад, доступ до недійсної адреси пам'яті. Виключення ідеально підходять для помилок часу виконання. Для логічних помилок часто краще використовувати перевірки з твердженнями або коди помилок.

Триває дискусія про виключення проти кодів помилок. Виключення можуть бути повільнішими і можуть призвести до складних потоків управління. Коди помилок, хоча й швидші, можуть зробити код забрудненим і важчим для підтримки. Це компроміс, тому знання вашого випадку використання є ключовим.

C++17 ввів `std::optional` і `std::variant`, які є альтернативами виключенням. Вони корисні для функцій, які можуть, а можуть і не повернути дійсний результат.

Безпека у випадку виключень може бути ще одним головним болем. Це стосується гарантії, яку надає ваш код, незважаючи на виключення. Є три рівні: базовий, сильний і nothrow. Чим більше гарантій, тим складнішим може бути ваш код.

Останні думки — обробка помилок - це настільки ж мистецтво, як і наука. Вона формує те, як ваша програма виживає у дикій природі. Не перевикористовуйте виключення. Прагніть до читабельного, зручного для підтримки коду.

## Див. також
- [cppreference про обробку виключень](https://en.cppreference.com/w/cpp/language/exceptions)
- [Думка Бьярне Страуструпа про обробку помилок](http://www.stroustrup.com/except.pdf)
- [Рекомендації C++ Core Guidelines щодо виключень](https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Re-exceptions)
