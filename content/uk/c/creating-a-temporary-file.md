---
title:                "C: Створення тимчасового файлу."
programming_language: "C"
category:             "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/c/creating-a-temporary-file.md"
---

{{< edit_this_page >}}

## Чому

Створення тимчасового файлу є невід'ємною частиною багатьох програм і може бути корисне в різних ситуаціях, наприклад, для збереження тимчасових даних, побудови імен файлів на основі поточного часу або створення безпечного середовища для роботи з конфіденційною інформацією.

## Як

Для створення тимчасового файлу використовуйте функцію `tmpfile()` в стандартній бібліотеці `stdio.h`. Нижче наведений приклад коду, як за допомогою цієї функції створити тимчасовий файл та записати до нього декілька рядків:

```C
#include <stdio.h>

int main(){
    FILE *temp_file = tmpfile(); // створення тимчасового файлу
    fprintf(temp_file, "Цей рядок буде записаний до тимчасового файлу\n"); // запис до тимчасового файлу
    fputs("Цей рядок також буде записаний до тимчасового файлу", temp_file); // інший спосіб запису до тимчасового файлу
    // можна також використовувати функції fprintf() та fputs() для запису у стандартний потік виведення
    // приклад: fprintf(stdout, "Цей рядок буде виведений на екран\n");

    fclose(temp_file); // закриття тимчасового файлу
    return 0;
}
```

Вищеприведений код використовує функцію `tmpfile()` для створення тимчасового файлу та функції `fprintf()` і `fputs()` для запису рядків до нього. Після закриття файлу за допомогою функції `fclose()`, вміст тимчасового файлу буде автоматично видалений з системи.

## Глибокий занурення

У більш складних сценаріях створення тимчасового файлу можна застосовувати різні підходи, як наприклад використання функції `mkstemp()` або власноручного створення унікальних імен файлів за допомогою комбінації поточного часу та ідентифікатору процесу.

Завжди слід пам'ятати про безпеку при роботі з тимчасовими файлами, особливо якщо вони містять конфіденційну інформацію. Рекомендується використовувати спеціальні функції, наприклад `mkstemp()` або `tmpfile_s` в стандарті C11, які забезпечують більш високий рівень захисту даних.

## Дивіться також

- [Функція `tmpfile()` в стандарті C](https://www.tutorialspoint.com/c_standard_library/c_function_tmpfile.htm)
- [Інші методи створення тимчасових файлів в C](https://www.ore