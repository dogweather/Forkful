---
title:                "C: Перевірка наявності директорії"
programming_language: "C"
category:             "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/c/checking-if-a-directory-exists.md"
---

{{< edit_this_page >}}

## Чому

В програмуванні важливо розуміти, як працює ваша програма та які дії вона виконує. Перевірка, чи існує певна директорія, може бути корисною для попередження помилок та запобігання непередбачених проблем під час виконання коду.

## Як

```C
#include <stdio.h> 
#include <sys/stat.h> 

int main() 
{ 
    // визначаємо шлях до директорії 
    char path[] = "/home/user/directory"; 
    
    // створюємо структуру для зберігання інформації про директорію 
    struct stat info; 
    
    // виконуємо перевірку, якщо повернулася ненульова значення - директорія існує
    if (stat(path, &info) == 0) 
        printf("Директорія існує!"); 
    else
        printf("Директорія не існує."); 
         
    return 0; 
} 
```

Вихідний код наведений вище виконує перевірку існування директорії, яку ви можете змінити за своїм бажанням. Якщо директорія існує, програма виведе повідомлення "Директорія існує!", в іншому випадку - "Директорія не існує.".

## Глибше розуміння

У програмуванні є два способи перевірити наявність директорії: використання функції `chdir()` та `opendir()`. `chdir()` перевіряє, чи є поточна директорія вказаною, тоді як `opendir()` перевіряє, чи існує файл або директорія з заданим шляхом.

Одна з причин, чому перевірка існування директорії може бути важлива, - це забезпечення безпеки програми. Якщо програма очікує наявність певної директорії, але вона не знайдена, це може призвести до вивільнення пам'яті або інших небезпечних наслідків.

## Дивись також

- [Стаття про функцію `stat()`](https://www.gnu.org/software/libc/manual/html_node/Accessing-Files.html)
- [Документація зі стандартної бібліотеки C](https://www.cplusplus.com/reference/clibrary/)
- [Стаття про способи перевірки існування файлів та директорій](https://www.tutorialspoint.com/c_standard_library/sys_stat_h.htm)