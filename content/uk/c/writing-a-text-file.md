---
title:                "C: Написання текстового файлу"
programming_language: "C"
category:             "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/c/writing-a-text-file.md"
---

{{< edit_this_page >}}

## Чому

Написання текстового файлу є важливою складовою процесу програмування в мові С. Текстовий файл може зберігати різноманітну інформацію, яка використовується в програмі, тому написання його є необхідною умовою для ефективної та економічної розробки програмного коду.

## Як

Для того, щоб створити текстовий файл у мові С, спочатку потрібно створити змінні для зберігання даних, які ви хочете записати в файл. Потім потрібно встановити зв'язок з файлом за допомогою функції `fopen()`, вказавши шлях до файлу та режим запису. Далі, за допомогою функції `fprintf()`, можна записати дані у файл, використовуючи різні формати для різних типів даних. Після закінчення запису, не забудьте закрити зв'язок з файлом за допомогою функції `fclose()`.

```C
#include <stdio.h>

int main() {
    // створюємо змінні для зберігання даних
    int age = 25;
    float weight = 65.5;
    char name[] = "Віталій";
    
    // встановлюємо зв'язок з файлом і записуємо дані
    FILE *file = fopen("file.txt", "w");
    fprintf(file, "Ім'я: %s, вік: %d, вага: %.2f кг", name, age, weight);
    fclose(file);
    
    return 0;
}
```

В результаті виконання програми, у файлі "file.txt" буде наступне:

> Ім'я: Віталій, вік: 25, вага: 65.50 кг

## Глибоке занурення

Важливо пам'ятати, що при роботі з текстовими файлами в мові С, необхідно дотримуватись певних правил. Наприклад, при використанні функції `fprintf()`, потрібно виконувати перевірку на її успішну роботу за допомогою функції `ferror()`. Також потрібно враховувати можливість нестачі пам'яті при записі до файлу та обробляти цю ситуацію. Також важливо добре знати різні формати для різних типів даних, що дозволяє уникнути помилок у записі.

## Дивись також

* [Документація з мови С](https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html)
* [Туторіал по роботі з текстовими файлами у мові С](https://www.tutorialspoint.com/c_standard_library/c_function_fprint.htm)
* [Приклади програм для роботи з файлами в мові С](https://www.programiz.com/c-programming/c-file-input-output)