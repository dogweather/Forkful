---
title:                "Розбір дати з рядка"
aliases:
- uk/c/parsing-a-date-from-a-string.md
date:                  2024-02-03T18:05:46.300822-07:00
model:                 gpt-4-0125-preview
simple_title:         "Розбір дати з рядка"
tag:                  "Dates and Times"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/c/parsing-a-date-from-a-string.md"
changelog:
  - 2024-02-03, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Що та чому?

Розбір дати з рядка у мові програмування С полягає у конвертації текстового представлення дат у формат, з яким програми можуть ефективніше працювати та проводити аналіз. Це важливо для завдань, таких як арифметика дат, порівняння та форматування для різних локалей, оскільки це дозволяє програмістам стандартизовано обробляти вхід користувача або записи даних.

## Як це зробити:

C не надає вбудованого способу безпосередньо аналізувати дати з рядків, тому ми часто звертаємось до функції `strptime`, доступної у бібліотеці `<time.h>` для систем POSIX. Ця функція дозволяє нам вказати очікуваний формат вхідного рядка та аналізувати його у `struct tm`, яка представляє календарну дату та час, розділені на компоненти.

Ось простий приклад використання `strptime` для розбору дати з рядка:

```c
#include <time.h>
#include <stdio.h>

int main() {
    const char *dateStr = "2023-04-01";
    struct tm tm;
    char buf[255];

    // Розбір рядка дати у struct tm
    if (strptime(dateStr, "%Y-%m-%d", &tm) == NULL) {
        printf("Не вдалося розібрати дату.\n");
    } else {
        // Використання strftime для виведення дати у читабельному форматі
        strftime(buf, sizeof(buf), "%A, %B %d, %Y", &tm);
        printf("Розібрана дата: %s\n", buf);
    }

    return 0;
}
```

Приклад виводу для цієї програми:

```
Розібрана дата: субота, квітень 01, 2023
```

Важливо обробляти потенційні помилки, такі як невдале співставлення шаблону `strptime` або зіткнення з неочікуваним вводом.

## Поглиблений аналіз

Функція `strptime`, хоча й потужна, не є частиною стандартної бібліотеки С та зазвичай знаходиться в системах, сумісних з POSIX, таких як Linux та UNIX. Це обмеження означає, що програми, які покладаються на `strptime` для аналізу дат з рядків, можуть не бути портативними до не-POSIX систем, таких як Windows, без додаткових шарів сумісності або бібліотек.

Історично, робота з датами та часом у C вимагала багато ручної маніпуляції та обережності, особливо враховуючи різні локалі та часові зони. Сучасні альтернативи і розширення до C, такі як бібліотека `<chrono>` для C++ та сторонні бібліотеки, наприклад, бібліотека дат Howard Hinnant для C++, пропонують більш міцні рішення для маніпуляції з датою та часом, включаючи аналіз. Ці бібліотеки зазвичай надають кращу підтримку широкого спектру форматів дат, часових зон і механізмів обробки помилок, роблячи їх переважними для нових проектів, які вимагають обширних можливостей маніпуляції з датою та часом.

Проте, розуміння способу розбору дат з рядків у C може бути корисним, особливо при роботі над або обслуговуванні проектів, які мають бути сумісними з системами, де ці сучасні інструменти недоступні, або при роботі у рамках строгих умов програмування на мові С.
