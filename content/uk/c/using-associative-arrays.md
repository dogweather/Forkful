---
title:                "Використання асоціативних масивів"
date:                  2024-01-30T19:10:44.118618-07:00
model:                 gpt-4-0125-preview
simple_title:         "Використання асоціативних масивів"

tag:                  "Data Structures"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/c/using-associative-arrays.md"
changelog:
  - 2024-01-30, gpt-4-0125-preview, translated from English
---

{{< edit_this_page >}}

## Що та Чому?

Асоціативні масиви, або хеш-таблиці, це пари ключ-значення, які дозволяють вам зберігати та отримувати дані за допомогою ключа. Вони надзвичайно корисні в C, оскільки дозволяють швидший доступ до даних порівняно зі списками, особливо коли вам потрібно працювати з великою кількістю даних.

## Як це зробити:

C не має вбудованої підтримки асоціативних масивів, як деякі інші мови, але ми можемо використовувати структури та деякі бібліотечні функції, щоб отримати подібну функціональність. Ось проста реалізація за допомогою бібліотеки `uthash`, яку вам потрібно буде включити до вашого проєкту.

Спочатку визначте структуру для зберігання ваших пар ключ-значення:

```C
#include <stdio.h>
#include "uthash.h"

typedef struct {
    int id; // Це буде наш ключ
    char name[10]; // Це значення, асоційоване з нашим ключем
    UT_hash_handle hh; // Робить цю структуру хешованою
} person;
```

Далі додамо кілька записів і отримаємо їх:

```C
int main() {
    person *my_people = NULL, *s;

    // Додавання запису
    s = (person*)malloc(sizeof(person));
    s->id = 1;
    strcpy(s->name, "Alice");
    HASH_ADD_INT(my_people, id, s);

    // Отримання запису
    int user_id = 1;
    HASH_FIND_INT(my_people, &user_id, s);
    if (s) {
        printf("Знайдено: %s\n", s->name);
    }
    
    return 0;
}
```

Приклад виводу:

```
Знайдено: Alice
```

Не забудьте звільнити виділену пам'ять і деалокувати хеш-таблицю після завершення роботи, щоб уникнути витоку пам'яті.

## Глибший Занурення

Хоча асоціативні масиви не є рідними для C, бібліотеки на кшталт `uthash` добре заповнюють цю прогалину, надаючи відносно простий спосіб використання цієї функціональності. Історично, розробникам на C доводилося реалізовувати свої версії цих структур даних, що призводило до різноманітних і часто складних реалізацій, особливо для тих, хто лише починає роботу з мовою.

Пам'ятайте, що ефективність використання асоціативних масивів у C значною мірою залежить від того, наскільки добре хеш-функція розподіляє значення по таблиці, щоб мінімізувати колізії. Хоча бібліотеки на кшталт `uthash` пропонують хороший баланс простоти використання та продуктивності, у критичних додатках, де продуктивність має вирішальне значення, ви можете захотіти налаштувати або реалізувати власну хеш-таблицю.

Для додатків, які вимагають максимальної ефективності, альтернативні структури даних або навіть інші мови програмування з вбудованою підтримкою асоціативних масивів можуть бути кращим вибором. Однак, для багатьох ситуацій, особливо коли ви вже працюєте в середовищі C, використання бібліотеки на кшталт `uthash` забезпечує практичний баланс між продуктивністю та зручністю.
