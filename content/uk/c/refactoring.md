---
title:                "Рефакторинг"
date:                  2024-01-26T01:17:36.863670-07:00
model:                 gpt-4-0125-preview
simple_title:         "Рефакторинг"
programming_language: "C"
category:             "C"
tag:                  "Good Coding Practices"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/c/refactoring.md"
---

{{< edit_this_page >}}

## Що та чому?
Рефакторинг - це процес реструктуризації існуючого комп'ютерного коду без зміни його зовнішньої поведінки. Програмісти роблять це, щоб покращити читабельність, зменшити складність або зробити код більш підтримуваним та масштабованим, що може заощадити купу часу та головних болей у майбутньому.

## Як:
Давайте виправимо деякий код. Уявіть, що у вас є функція, яка розраховує середнє значення цілих чисел у масиві. На перший погляд, це трохи заплутано.

**До рефакторингу:**
```C
#include <stdio.h>

double calculateStuff(int numbers[], int size) {
    int sum = 0;
    double average;
    for(int i = 0; i < size; sum += numbers[i++]); // Сумування в умові циклу for, ой!
    average = (double)sum / size;
    return average;
}

int main() {
    int array[] = {23, 42, 57, 16, 5, 102};
    int length = sizeof(array) / sizeof(array[0]);
    printf("Среднє: %f\n", calculateStuff(array, length));

    return 0;
}
```

**Після рефакторингу:**
```C
#include <stdio.h>

int calculateSum(const int numbers[], int size) {
    int sum = 0;
    for (int i = 0; i < size; ++i) {
        sum += numbers[i];
    }
    return sum;
}

double calculateAverage(const int numbers[], int size) {
    int sum = calculateSum(numbers, size);
    return (double)sum / size;
}

int main() {
    int array[] = {23, 42, 57, 16, 5, 102};
    int length = sizeof(array) / sizeof(array[0]);
    printf("Середнє: %f\n", calculateAverage(array, length));
    return 0;
}
```
Навіть на цьому простому прикладі ви можете бачити, як розділення функції робить код чистішим і більш підтримуваним. Тепер кожна функція має одиничну відповідальність – ключовий принцип у чистому кодуванні.

## Поглиблений аналіз
Термін "рефакторинг" набув популярності в кінці 90-х, особливо після публікації книги Мартіна Фаулера "Рефакторинг: Вдосконалення дизайну існуючого коду". Рефакторинг не означає виправлення помилок або додавання нових функцій, а скоріше йдеться про поліпшення структури коду.

Існують численні рафіновані інструменти для рефакторингу та інтегровані середовища розробки (IDE), які допомагають автоматизувати процес, наприклад, CLion для C та C++, але розуміння того, що відбувається під капотом, залишається критично важливим.

Альтернативами рефакторингу можуть бути повний перепис коду з нуля (ризиковано і часто непотрібно) або життя з технічним боргом (що може бути дорожчим у довгостроковій перспективі). Деталі реалізації варіюються в залежності від проекту, але загальні рефакторинги включають перейменування змінних для більшої ясності, розбиття великих функцій на менші, та заміну магічних чисел на іменовані константи.

Також, патерни, як DRY (Не Повторюй Себе) і принципи SOLID, можуть керувати вашим процесом рефакторингу, прагнучи до кодової бази, що легше тестувати, розуміти та в якій легше співпрацювати.

## Див. також
Щоб глибше зануритися в світ рефакторингу, ознайомтеся з:

- Домашня сторінка Мартіна Фаулера: https://martinfowler.com/ з скарбницею статей та ресурсів про рефакторинг та дизайн програмного забезпечення.
- Refactoring.com: https://refactoring.com/ надає приклади та каталоги технік рефакторингу.
- Книга "Рефакторинг": Вважається біблією рефакторингу, її прочитання дає вам повне уявлення про методологію.
- "Чистий код: Посібник з агільної розробки програмного забезпечення" Роберта Мартіна, яка обговорює написання коду, що легко зрозуміти та підтримувати.