---
aliases:
- /uk/c/checking-if-a-directory-exists/
changelog:
- 2024-02-03, gpt-4-0125-preview, translated from English
date: 2024-02-03 17:53:08.507021-07:00
description: "\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u043A\u0430 \u0456\u0441\u043D\
  \u0443\u0432\u0430\u043D\u043D\u044F \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\
  \u0456\u0457 \u0432 \u043C\u043E\u0432\u0456 \u043F\u0440\u043E\u0433\u0440\u0430\
  \u043C\u0443\u0432\u0430\u043D\u043D\u044F C \u043F\u0435\u0440\u0435\u0434\u0431\
  \u0430\u0447\u0430\u0454 \u0437\u0430\u043F\u0438\u0442 \u0434\u043E \u0444\u0430\
  \u0439\u043B\u043E\u0432\u043E\u0457 \u0441\u0438\u0441\u0442\u0435\u043C\u0438\
  \ \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\
  \u043D\u043D\u044F \u0442\u043E\u0433\u043E, \u0449\u043E \u043A\u043E\u043D\u043A\
  \u0440\u0435\u0442\u043D\u0438\u0439 \u0448\u043B\u044F\u0445 \u0432\u0435\u0434\
  \u0435 \u0434\u043E \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\u0456\u0457\
  .\u2026"
lastmod: 2024-02-18 23:09:01.221540
model: gpt-4-0125-preview
summary: "\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u043A\u0430 \u0456\u0441\u043D\
  \u0443\u0432\u0430\u043D\u043D\u044F \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\
  \u0456\u0457 \u0432 \u043C\u043E\u0432\u0456 \u043F\u0440\u043E\u0433\u0440\u0430\
  \u043C\u0443\u0432\u0430\u043D\u043D\u044F C \u043F\u0435\u0440\u0435\u0434\u0431\
  \u0430\u0447\u0430\u0454 \u0437\u0430\u043F\u0438\u0442 \u0434\u043E \u0444\u0430\
  \u0439\u043B\u043E\u0432\u043E\u0457 \u0441\u0438\u0441\u0442\u0435\u043C\u0438\
  \ \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\
  \u043D\u043D\u044F \u0442\u043E\u0433\u043E, \u0449\u043E \u043A\u043E\u043D\u043A\
  \u0440\u0435\u0442\u043D\u0438\u0439 \u0448\u043B\u044F\u0445 \u0432\u0435\u0434\
  \u0435 \u0434\u043E \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\u0456\u0457\
  .\u2026"
title: "\u041F\u0435\u0440\u0435\u0432\u0456\u0440\u043A\u0430 \u0456\u0441\u043D\u0443\
  \u0432\u0430\u043D\u043D\u044F \u0434\u0438\u0440\u0435\u043A\u0442\u043E\u0440\u0456\
  \u0457"
---

{{< edit_this_page >}}

## Що і Чому?

Перевірка існування директорії в мові програмування C передбачає запит до файлової системи для підтвердження того, що конкретний шлях веде до директорії. Програмісти часто виконують цю операцію, щоб забезпечити, що операції з файлами (такі як читання або запис файлів) спрямовуються до валідних шляхів, запобігаючи помилкам та підвищуючи надійність програмного забезпечення.

## Як це зробити:

У мові C існування директорії можна перевірити за допомогою функції `stat`, яка отримує інформацію про файл або директорію за вказаним шляхом. Потім використовується макрос `S_ISDIR` з `sys/stat.h`, для того щоб оцінити, чи отримана інформація відповідає директорії.

Ось як ви можете використовувати `stat` та `S_ISDIR` для перевірки існування директорії:

```c
#include <stdio.h>
#include <sys/stat.h>

int main() {
    struct stat stats;
    
    // Шлях до директорії, яку потрібно перевірити
    char *dirPath = "/path/to/directory";

    // Отримати статус шляху
    int result = stat(dirPath, &stats);

    // Перевірка на існування директорії
    if (result == 0 && S_ISDIR(stats.st_mode)) {
        printf("Директорія існує.\n");
    } else {
        printf("Директорія не існує.\n");
    }

    return 0;
}
```

Приклад виводу:
```
Директорія існує.
```

Або, якщо директорія не існує:
```
Директорія не існує.
```

## Поглиблений аналіз:

Структура та функція `stat` є частиною мови програмування C вже десятиліттями, що походять від Unix. Вони надають стандартизований спосіб отримання інформації про файлову систему, який, незважаючи на те, що є відносно низькорівневим, широко використовується завдяки своїй простоті та прямому доступу до метаданих файлової системи.

Історично, перевірка існування і властивостей файлів та директорій за допомогою `stat` та її похідних (як-от `fstat` та `lstat`) була загальноприйнятим підходом. Однак, оскільки ці функції безпосередньо взаємодіють з ядром ОС, це може вводити додаткові накладні витрати та потенційні помилки, якщо їх не використовувати правильно.

Для нових проектів або при роботі в високорівневих сценаріях програмісти можуть віддати перевагу більш абстрактним механізмам роботи з файлами, які надаються сучасними фреймворками або бібліотеками, що обробляють помилки більш гнучко та надають простіший API. Проте, розуміння та вміння використовувати `stat` залишається цінним навичком для сценаріїв, що вимагають прямої маніпуляції з файловою системою, таких як системне програмування або робота в обмежених умовах, коли залежність від великих бібліотек є неприпустимою.
