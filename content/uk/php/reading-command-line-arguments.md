---
title:                "PHP: Читання аргументів командного рядка"
programming_language: "PHP"
category:             "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/php/reading-command-line-arguments.md"
---

{{< edit_this_page >}}

## Чому

Перш за все, передбачення командних аргументів є важливою частиною програмування, яку будь-який PHP розробник повинен знати. Це дозволяє вам забезпечити більшу гнучкість та контроль над вашими програмами, а також забезпечити дослідження та важливу інформацію для відлагодження та вдосконалення вашого коду.

## Як

Наступні PHP фрагменти коду демонструють, як можна читати командні аргументи за допомогою вбудованої функції `getopt()`.

```PHP
// задамо список дозволених командних аргументів та їх значень
$allowedArgs = array(
    "o:" => "output:", // "o:" означає, що параметр "output" має бути переданий зі значенням за допомогою прапорця "-o"
    "h" => "help" // "h" означає, що команда "-h" виведе допомогу
);
// отримаємо всі передані командні аргументи та їх значення
$arguments = getopt(implode("", array_keys($allowedArgs)), $allowedArgs);
// перевіримо, чи був переданий аргумент "-h" для видачі допомоги
if(isset($arguments["h"])){
    echo "Допомога: \n";
    echo "-o <передати шлях до виводу>\n";
    echo "-h <вивести цю допомогу>\n";
}
// перевіримо, чи був переданий аргумент "-o" для виведення результату
if(isset($arguments["o"])){
    echo "Виводимо результат в: " . $arguments["o"] . "\n";
}
```

Приклад використання командних аргументів:

```
php myscript.php -o results.txt
```

Вивід:

```
Виводимо результат в: results.txt
```

## Deep Dive

Функція `getopt()` повертає асоціативний масив з переданими командними аргументами та їх значеннями. Додатково, ця функція також може приймати третій параметр, який дозволяє передати назву короткого параметру, який необхідно вважати як значення, якщо передане значення для цього параметра відсутнє.

Наприклад, функція `getopt("o:hf", array("output:", "help", "force"))` вважатиме передане значення для `-f` (force) як `true`. Також, за допомогою другого параметру функції, можна визначити додаткові параметри для обробки командних аргументів, таких як `-o` та `-h` у нашому прикладі.

## Дивіться також

- [Офіційна документація PHP для функції `getopt`](https://www.php.net/manual/en/function.getopt.php)
- [Стаття про розробку командного рядка в PHP](https://www.toptal.com/php/developing-command-line-tools-with-php)