---
title:                "Clojure: Читання аргументів командного рядка"
programming_language: "Clojure"
category:             "Files and I/O"
editURL:              "https://github.com/dogweather/forkful/blob/master/content/uk/clojure/reading-command-line-arguments.md"
---

{{< edit_this_page >}}

## Чому

Програмування з використанням Clojure є досить популярним у широкому колі IT-спеціалістів. Одна з найбільш корисних функцій цієї мови - це можливість зчитувати аргументи командного рядка. Це дозволяє вам передавати параметри та дані у вашу програму під час її виконання, що зробить ваш код більш універсальним та адаптивним.

## Як

Для того, щоб зчитати аргументи командного рядка у Clojure, потрібно використати функцію `args` з модуля `clojure.core`, яка повертає список аргументів у вигляді рядка. Далі ви можете обробити цей список за допомогою звичайних функцій маніпулювання списками, таких як `map` або `filter`.

```Clojure
(ns my-program.core
  (:gen-class))

(defn -main [& args]
  (let [arguments (rest args)] ; виключаємо перший елемент зі списку - назву програми
    (println (str "Список аргументів: " arguments)) ; виводимо список аргументів
    (println (str "Початок з класом: " (first arguments))) ; виводимо перший аргумент
    (println (str "Третій аргумент: " (nth arguments 2))) ; виводимо третій аргумент
  ) ; кінець let
) ; кінець -main
```

Приклад виклику програми: `java -jar my-program.jar "Hello" World "2021"`

Результат виконання програми:

`Список аргументів: (Hello World 2021)`

`Початок з класом: Hello`

`Третій аргумент: 2021`

## Розглиблення

Ще одним цікавим аспектом зчитування аргументів командного рядка є можливість використовувати додаткові бібліотеки для розширення функціональності. Наприклад, бібліотека `cli` дозволяє організувати більш зручне та елегантне читання аргументів з використанням спеціальних типів даних.

```Clojure
(ns my-program.core
  (:gen-class)
  (:require [clojure.tools.cli :refer [parse-opts]]))

(defn -main [& args]
  (let [[options flags rest-args] (parse-opts args [["-f" "--file" "Файл для обробки" :string] ; будуємо список для символу f (file)
                                                   ["-n" "--number" "Кількість файлів" :int] ; будуємо список для символу n (number)
                                                   ])]
    (println "Параметри командного рядка:")
    (println (str "Файл: " (:file options))) ; повертаємо значення параметру -f (--file)
    (println (str "Кількість: " (:number options))) ; повертаємо значення параметру -n (--number)
    (when (:help options) ; якщо задано флаг -h (--help), виводимо допомогу
      (println "Допомога: Використання