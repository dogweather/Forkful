---
date: 2024-01-26 01:30:43.774317-07:00
description: "\u0420\u0435\u0444\u0430\u043A\u0442\u043E\u0440\u0456\u043D\u0433 \u2014\
  \ \u0446\u0435 \u043F\u0440\u043E\u0446\u0435\u0441 \u0440\u0435\u0441\u0442\u0440\
  \u0443\u043A\u0442\u0443\u0440\u0438\u0437\u0430\u0446\u0456\u0457 \u0456\u0441\u043D\
  \u0443\u044E\u0447\u043E\u0433\u043E \u043A\u043E\u0434\u0443 \u0431\u0435\u0437\
  \ \u0437\u043C\u0456\u043D\u0438 \u0439\u043E\u0433\u043E \u0437\u043E\u0432\u043D\
  \u0456\u0448\u043D\u044C\u043E\u0457 \u043F\u043E\u0432\u0435\u0434\u0456\u043D\u043A\
  \u0438 \u0437 \u043C\u0435\u0442\u043E\u044E \u043F\u043E\u043B\u0456\u043F\u0448\
  \u0435\u043D\u043D\u044F \u043D\u0435\u0444\u0443\u043D\u043A\u0446\u0456\u043E\u043D\
  \u0430\u043B\u044C\u043D\u0438\u0445 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0456\
  \u0432, \u0442\u0430\u043A\u0438\u0445 \u044F\u043A\u2026"
lastmod: '2024-03-13T22:44:48.737852-06:00'
model: gpt-4-0125-preview
summary: "\u0420\u0435\u0444\u0430\u043A\u0442\u043E\u0440\u0456\u043D\u0433 \u2014\
  \ \u0446\u0435 \u043F\u0440\u043E\u0446\u0435\u0441 \u0440\u0435\u0441\u0442\u0440\
  \u0443\u043A\u0442\u0443\u0440\u0438\u0437\u0430\u0446\u0456\u0457 \u0456\u0441\u043D\
  \u0443\u044E\u0447\u043E\u0433\u043E \u043A\u043E\u0434\u0443 \u0431\u0435\u0437\
  \ \u0437\u043C\u0456\u043D\u0438 \u0439\u043E\u0433\u043E \u0437\u043E\u0432\u043D\
  \u0456\u0448\u043D\u044C\u043E\u0457 \u043F\u043E\u0432\u0435\u0434\u0456\u043D\u043A\
  \u0438 \u0437 \u043C\u0435\u0442\u043E\u044E \u043F\u043E\u043B\u0456\u043F\u0448\
  \u0435\u043D\u043D\u044F \u043D\u0435\u0444\u0443\u043D\u043A\u0446\u0456\u043E\u043D\
  \u0430\u043B\u044C\u043D\u0438\u0445 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0456\
  \u0432, \u0442\u0430\u043A\u0438\u0445 \u044F\u043A \u0447\u0438\u0442\u0430\u0431\
  \u0435\u043B\u044C\u043D\u0456\u0441\u0442\u044C \u0456 \u043C\u043E\u0436\u043B\
  \u0438\u0432\u0456\u0441\u0442\u044C \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u043A\
  \u0438."
title: "\u0420\u0435\u0444\u0430\u043A\u0442\u043E\u0440\u0438\u043D\u0433"
weight: 19
---

## Як:
Давайте впорядкуємо загальноприйнятий шаблон Elixir. Ми відрефакторимо функцію `calculate_stats`, яка робить більше, ніж повинна, розділивши її на менші, перевикористовувані частини.

```elixir
defmodule Stats do
  # Оригінальний, невідрефакторений код
  def calculate_stats(data) do
    total = Enum.sum(data)
    count = Enum.count(data)
    mean = total / count
    {mean, total}
  end
  
  # Відрефакторений код
  def calculate_mean(data), do: Enum.sum(data) / Enum.count(data)
  
  def calculate_total(data), do: Enum.sum(data)
  
  def calculate_stats_refactored(data) do
    mean = calculate_mean(data)
    total = calculate_total(data)
    {mean, total}
  end
end

# Приклад виводу
# До рефакторингу
Stats.calculate_stats([1, 2, 3])
# => {2.0, 6}

# Після рефакторингу
Stats.calculate_stats_refactored([1, 2, 3])
# => {2.0, 6}
```
Як можна бачити, результат залишається тим самим, але тепер у нас є модульні функції, які можна використовувати повторно і тестувати незалежно.

## Глибше Занурення
Рефакторінг — не новий концепт; він є важливою частиною програмування з ранніх днів розробки програмного забезпечення. Видатні праці, такі як "Рефакторінг: Покращення дизайну наявного коду" Мартіна Фаулера, надають основоположні практики для рефакторингу з інсайтами щодо того, коли та як їх застосовувати.

Альтернативами ручному рефакторингу є інструменти автоматичного аналізу коду, які можуть пропонувати або навіть виконувати рефакторинги. Однак автоматизовані інструменти не завжди можуть повністю охопити контекст коду і можуть упустити нюанси, які помітив би людський рецензент.

Деталі впровадження в Elixir конкретно включають розуміння функціонального парадигму та використання візерунка відповідностей, охоронних клоз, і оператора трубопроводу для написання чіткого та лаконічного коду. Наприклад, рефакторинг часто включає перетворення складних імператив-стильних функцій на менші, композиційні функції, які відповідають перевазі Elixir за незмінністю та операціями без побічних ефектів.

## Дивіться Також
Для більшого ознайомлення з техніками рефакторингу специфічними для Elixir:

- [Офіційні гайди Elixir](https://elixir-lang.org/getting-started/)
- ["Рефакторінг: Покращення дизайну наявного коду" Мартіна Фаулера](https://martinfowler.com/books/refactoring.html), для загальних принципів, які можна застосувати до Elixir.
- [Credo, статичний інструмент аналізу коду для Elixir](https://github.com/rrrene/credo), який спонукає до кращих практик.
- [Трек Elixir в Exercism](https://exercism.org/tracks/elixir), для практичних вправ, які часто включають рефакторинг.
