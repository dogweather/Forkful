---
changelog:
- 2024-03-17, gpt-4-0125-preview, translated from English
date: 2024-03-17 21:50:22.828793-06:00
description: "\u0E01\u0E32\u0E23\u0E1B\u0E23\u0E31\u0E1A\u0E42\u0E04\u0E23\u0E07\u0E2A\
  \u0E23\u0E49\u0E32\u0E07\u0E42\u0E04\u0E49\u0E14 (Refactoring) \u0E40\u0E1B\u0E47\
  \u0E19\u0E01\u0E23\u0E30\u0E1A\u0E27\u0E19\u0E01\u0E32\u0E23\u0E02\u0E2D\u0E07\u0E01\
  \u0E32\u0E23\u0E1B\u0E23\u0E31\u0E1A\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E42\
  \u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E02\u0E2D\u0E07\u0E42\u0E04\u0E49\
  \u0E14\u0E04\u0E2D\u0E21\u0E1E\u0E34\u0E27\u0E40\u0E15\u0E2D\u0E23\u0E4C\u0E17\u0E35\
  \u0E48\u0E21\u0E35\u0E2D\u0E22\u0E39\u0E48\u2014\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\
  \u0E19\u0E41\u0E1B\u0E25\u0E07\u0E01\u0E32\u0E23\u0E08\u0E31\u0E14\u0E2A\u0E23\u0E23\
  \u2014\u0E42\u0E14\u0E22\u0E44\u0E21\u0E48\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\
  \u0E41\u0E1B\u0E25\u0E07\u0E1E\u0E24\u0E15\u0E34\u0E01\u0E23\u0E23\u0E21\u0E20\u0E32\
  \u0E22\u0E19\u0E2D\u0E01\u2026"
lastmod: '2024-03-17T21:57:55.771025-06:00'
model: gpt-4-0125-preview
summary: "\u0E01\u0E32\u0E23\u0E1B\u0E23\u0E31\u0E1A\u0E42\u0E04\u0E23\u0E07\u0E2A\
  \u0E23\u0E49\u0E32\u0E07\u0E42\u0E04\u0E49\u0E14 (Refactoring) \u0E40\u0E1B\u0E47\
  \u0E19\u0E01\u0E23\u0E30\u0E1A\u0E27\u0E19\u0E01\u0E32\u0E23\u0E02\u0E2D\u0E07\u0E01\
  \u0E32\u0E23\u0E1B\u0E23\u0E31\u0E1A\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E42\
  \u0E04\u0E23\u0E07\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E02\u0E2D\u0E07\u0E42\u0E04\u0E49\
  \u0E14\u0E04\u0E2D\u0E21\u0E1E\u0E34\u0E27\u0E40\u0E15\u0E2D\u0E23\u0E4C\u0E17\u0E35\
  \u0E48\u0E21\u0E35\u0E2D\u0E22\u0E39\u0E48\u2014\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\
  \u0E19\u0E41\u0E1B\u0E25\u0E07\u0E01\u0E32\u0E23\u0E08\u0E31\u0E14\u0E2A\u0E23\u0E23\
  \u2014\u0E42\u0E14\u0E22\u0E44\u0E21\u0E48\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\
  \u0E41\u0E1B\u0E25\u0E07\u0E1E\u0E24\u0E15\u0E34\u0E01\u0E23\u0E23\u0E21\u0E20\u0E32\
  \u0E22\u0E19\u0E2D\u0E01 \u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E40\u0E21\u0E2D\
  \u0E23\u0E4C\u0E17\u0E33\u0E2A\u0E34\u0E48\u0E07\u0E19\u0E35\u0E49\u0E40\u0E1E\u0E37\
  \u0E48\u0E2D\u0E17\u0E33\u0E04\u0E27\u0E32\u0E21\u0E2A\u0E30\u0E2D\u0E32\u0E14\u0E42\
  \u0E04\u0E49\u0E14, \u0E1B\u0E23\u0E31\u0E1A\u0E1B\u0E23\u0E38\u0E07\u0E04\u0E27\
  \u0E32\u0E21\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E43\u0E19\u0E01\u0E32\u0E23\u0E2D\
  \u0E48\u0E32\u0E19, \u0E41\u0E25\u0E30\u0E17\u0E33\u0E43\u0E2B\u0E49\u0E07\u0E48\
  \u0E32\u0E22\u0E15\u0E48\u0E2D\u0E01\u0E32\u0E23\u0E1A\u0E33\u0E23\u0E38\u0E07\u0E23\
  \u0E31\u0E01\u0E29\u0E32\u0E41\u0E25\u0E30\u0E02\u0E22\u0E32\u0E22 \u0E42\u0E14\u0E22\
  \u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14\u0E19\u0E35\u0E49\u0E44\u0E21\u0E48\u0E40\
  \u0E1E\u0E34\u0E48\u0E21\u0E1F\u0E35\u0E40\u0E08\u0E2D\u0E23\u0E4C\u0E43\u0E2B\u0E21\
  \u0E48."
title: "\u0E01\u0E32\u0E23\u0E1B\u0E23\u0E31\u0E1A\u0E42\u0E04\u0E23\u0E07\u0E2A\u0E23\
  \u0E49\u0E32\u0E07\u0E42\u0E04\u0E49\u0E14"
weight: 19
---

## วิธีการ:
สมมุติว่าคุณมีโค้ดชุดหนึ่งที่คำนวณและพิมพ์พื้นที่และเส้นรอบวงของสี่เหลี่ยมผืนผ้าจากความยาวและความกว้าง โค้ดนี้ทำงานได้ แต่มันซ้ำซ้อนและค่อนข้างยุ่งเหยิง

```python
# เวอร์ชันเดิม
length = 4
width = 3

# คำนวณพื้นที่และเส้นรอบวง
area = length * width
perimeter = 2 * (length + width)

print("พื้นที่:", area)
print("เส้นรอบวง:", perimeter)
```

เราสามารถปรับโครงสร้างโค้ดนี้โดยการห่อหุ้มฟังก์ชันที่มีความสามารถเข้าไป ซึ่งทำให้โค้ดเป็นระเบียบและสามารถนำกลับมาใช้ใหม่ได้ง่ายขึ้น:

```python
# เวอร์ชันที่ปรับโครงสร้างแล้ว

def calculate_area(length, width):
    return length * width

def calculate_perimeter(length, width):
    return 2 * (length + width)

# การใช้งาน
length = 4
width = 3

print("พื้นที่:", calculate_area(length, width))
print("เส้นรอบวง:", calculate_perimeter(length, width))
```

ทั้งสองส่วนโค้ดนี้ให้ผลลัพธ์เหมือนกัน:
```
พื้นที่: 12
เส้นรอบวง: 14
```

แต่เวอร์ชันที่ปรับโครงสร้างแล้วน่าอ่านขึ้นและแยกความสนใจออกจากกัน ทำให้ง่ายต่อการอัปเดตหนึ่งการคำนวณโดยไม่ส่งผลกระทบต่ออีกอันหนึ่ง

## ลงลึก
การปรับโครงสร้างมีรากฐานมาจากช่วงเริ่มต้นของวิศวกรรมซอฟต์แวร์ เมื่อโปรแกรมเมอร์ตระหนักได้ว่าโค้ดนั้นสามารถ—และควร—ถูกปรับปรุงแม้ว่ามันจะ "ทำงาน" ได้แล้ว Martin Fowler ในหนังสือที่มีอิทธิพล "Refactoring: Improving the Design of Existing Code" ได้กล่าวถึงหลักการและเทคนิคหลักๆ อย่างละเอียด โดยเขามักจะกล่าวว่า "คนโง่สามารถเขียนโค้ดที่คอมพิวเตอร์เข้าใจได้ แต่โปรแกรมเมอร์ที่ดีเขียนโค้ดที่มนุษย์เข้าใจได้"

ทางเลือกในการปรับโครงสร้างอาจรวมถึงการเขียนโค้ดใหม่จากต้นหรือการทำการเปลี่ยนแปลงเล็กน้อยโดยไม่มีการปรับปรุงอย่างมีระบบ อย่างไรก็ตาม การปรับโครงสร้างโค้ดมักจะมีค่าใช้จ่ายที่คุ้มค่ากว่าการเขียนใหม่ทั้งหมดและมีความเสี่ยงน้อยกว่าการเปลี่ยนแปลงแบบไม่มีระเบียบ รายละเอียดการดำเนินการอาจเฉพาะตามแต่ละรูปแบบการเขียนโปรแกรม อย่างไรก็ตาม การเขียนโปรแกรมแบบวัตถุมักเหมาะสมกับการปรับโครงสร้างโค้ดเป็นพิเศษ เฉพาะกับเทคนิคต่างๆ เช่น การดึงฟังก์ชันออกมา (เช่นฟังก์ชัน `calculate_area` และ `calculate_perimeter`), การรวมโค้ด, การย้ายคุณสมบัติระหว่างวัตถุ, และการเปลี่ยนชื่อฟังก์ชันหรือตัวแปรเพื่อความชัดเจน

การปรับโครงสร้างใน Python มักใช้เครื่องมือเช่น `PyCharm` ซึ่งมีความสามารถในการปรับโครงสร้างในตัว, หรือ `rope`, ไลบรารีของ Python ที่ออกแบบมาเพื่อการปรับโครงสร้างโค้ดเป็นพิเศษ การใช้การควบคุมเวอร์ชันอย่างระมัดระวัง เช่น `git`, ในระหว่างการปรับโครงสร้างโค้ดเป็นสิ่งที่แนะนำอย่างยิ่งยวดเพื่อติดตามการเปลี่ยนแปลงอย่างค่อยเป็นค่อยไป

## ดูเพิ่มเติม
สำหรับผู้ที่ต้องการข้อมูลเพิ่มเติม สามารถดูทรัพยากรด้านล่างนี้:
- หนังสือของ Martin Fowler: [Refactoring: Improving the Design of Existing Code](http://www.refactoring.com/)
- การปรับโครงสร้างใน Python ด้วย `rope`: [GitHub - rope](https://github.com/python-rope/rope)
- เอกสารการปรับโครงสร้างของ PyCharm: [Jetbrains PyCharm Refactoring Source Code](https://www.jetbrains.com/help/pycharm/refactoring-source-code.html)
- Refactoring.guru: [การปรับโครงสร้างและรูปแบบการออกแบบ](https://refactoring.guru/refactoring)
- บรรยายเกี่ยวกับ Clean Code โดย Uncle Bob (Robert C. Martin): [Clean Code - Uncle Bob / Lesson 1](https://www.youtube.com/watch?v=7EmboKQH8lM)
