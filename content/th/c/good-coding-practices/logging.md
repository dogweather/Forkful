---
changelog:
- 2024-03-17, gpt-4-0125-preview, translated from English
date: 2024-03-17 21:48:40.951695-06:00
description: "\u0E01\u0E32\u0E23\u0E40\u0E01\u0E47\u0E1A\u0E1A\u0E31\u0E19\u0E17\u0E36\
  \u0E01 (Logging) \u0E43\u0E19\u0E20\u0E32\u0E29\u0E32 C \u0E40\u0E01\u0E35\u0E48\
  \u0E22\u0E27\u0E02\u0E49\u0E2D\u0E07\u0E01\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E1A\u0E31\
  \u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19\u0E41\u0E25\
  \u0E30\u0E40\u0E2B\u0E15\u0E38\u0E01\u0E32\u0E23\u0E13\u0E4C\u0E2A\u0E33\u0E04\u0E31\
  \u0E0D\u0E02\u0E2D\u0E07\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E23\u0E30\u0E2B\
  \u0E27\u0E48\u0E32\u0E07\u0E17\u0E35\u0E48\u0E21\u0E31\u0E19\u0E01\u0E33\u0E25\u0E31\
  \u0E07\u0E17\u0E33\u0E07\u0E32\u0E19\u2026"
lastmod: '2024-03-17T21:57:56.692929-06:00'
model: gpt-4-0125-preview
summary: "\u0E01\u0E32\u0E23\u0E40\u0E01\u0E47\u0E1A\u0E1A\u0E31\u0E19\u0E17\u0E36\
  \u0E01 (Logging) \u0E43\u0E19\u0E20\u0E32\u0E29\u0E32 C \u0E40\u0E01\u0E35\u0E48\
  \u0E22\u0E27\u0E02\u0E49\u0E2D\u0E07\u0E01\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E1A\u0E31\
  \u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E17\u0E33\u0E07\u0E32\u0E19\u0E41\u0E25\
  \u0E30\u0E40\u0E2B\u0E15\u0E38\u0E01\u0E32\u0E23\u0E13\u0E4C\u0E2A\u0E33\u0E04\u0E31\
  \u0E0D\u0E02\u0E2D\u0E07\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E23\u0E30\u0E2B\
  \u0E27\u0E48\u0E32\u0E07\u0E17\u0E35\u0E48\u0E21\u0E31\u0E19\u0E01\u0E33\u0E25\u0E31\
  \u0E07\u0E17\u0E33\u0E07\u0E32\u0E19 \u0E0B\u0E36\u0E48\u0E07\u0E08\u0E30\u0E43\u0E2B\
  \u0E49\u0E01\u0E32\u0E23\u0E15\u0E23\u0E27\u0E08\u0E2A\u0E2D\u0E1A\u0E1E\u0E24\u0E15\
  \u0E34\u0E01\u0E23\u0E23\u0E21\u0E41\u0E25\u0E30\u0E1B\u0E23\u0E30\u0E2A\u0E34\u0E17\
  \u0E18\u0E34\u0E20\u0E32\u0E1E\u0E02\u0E2D\u0E07\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\
  \u0E21\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E21\u0E35\u0E15\u0E31\u0E27\u0E15\u0E19 \u0E42\
  \u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E40\u0E21\u0E2D\u0E23\u0E4C\u0E43\u0E0A\u0E49\
  \u0E01\u0E32\u0E23\u0E40\u0E01\u0E47\u0E1A\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E2A\
  \u0E33\u0E2B\u0E23\u0E31\u0E1A\u0E27\u0E31\u0E15\u0E16\u0E38\u0E1B\u0E23\u0E30\u0E2A\
  \u0E07\u0E04\u0E4C\u0E43\u0E19\u0E01\u0E32\u0E23\u0E41\u0E01\u0E49\u0E44\u0E02\u0E1A\
  \u0E31\u0E4A\u0E01, \u0E01\u0E32\u0E23\u0E15\u0E34\u0E14\u0E15\u0E32\u0E21\u0E2A\
  \u0E38\u0E02\u0E20\u0E32\u0E1E\u0E0B\u0E2D\u0E1F\u0E15\u0E4C\u0E41\u0E27\u0E23\u0E4C\
  \ \u0E41\u0E25\u0E30\u0E01\u0E32\u0E23\u0E23\u0E31\u0E01\u0E29\u0E32\u0E04\u0E27\
  \u0E32\u0E21\u0E1B\u0E25\u0E2D\u0E14\u0E20\u0E31\u0E22\u0E02\u0E2D\u0E07\u0E23\u0E30\
  \u0E1A\u0E1A."
title: "\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E25\u0E47\u0E2D\u0E01"
weight: 17
---

## วิธีการ:
ในภาษา C, การเก็บบันทึกสามารถทำได้ด้วยการดำเนินการกับไฟล์พื้นฐานหรือการใช้ไลบรารีที่มีความซับซ้อนมากขึ้น สำหรับความเรียบง่าย เราจะเริ่มด้วยไลบรารีมาตรฐาน I/O ตัวอย่างต่อไปนี้แสดงการทำงานเก็บบันทึกพื้นฐาน

เพื่อเก็บบันทึกข้อความง่ายๆ:

```c
#include <stdio.h>

int main() {
    FILE *logFile;
    logFile = fopen("application.log", "a"); // เปิดไฟล์บันทึกในโหมด append
    
    if (logFile == NULL) {
        perror("ข้อผิดพลาดในการเปิดไฟล์บันทึก");
        return -1;
    }
    
    fprintf(logFile, "เริ่มต้นแอปพลิเคชัน\n");
    
    // ตรรกะของแอปพลิเคชันของคุณที่นี่
    fprintf(logFile, "แอปพลิเคชันเสร็จสิ้นด้วยความสำเร็จ\n");
    fclose(logFile);
    
    return 0;
}
```

ผลลัพธ์ใน `application.log`:

```
เริ่มต้นแอปพลิเคชัน
แอปพลิเคชันเสร็จสิ้นด้วยความสำเร็จ
```

เพื่อรวมบันทึกที่ละเอียดมากขึ้นพร้อมด้วยเวลาและระดับของบันทึก:

```c
#include <stdio.h>
#include <time.h>

void logMessage(FILE *logFile, const char* level, const char* message) {
    time_t now;
    time(&now);
    char* datetime = ctime(&now);
    datetime[strlen(datetime)-1] = '\0'; // ลบอักขระขึ้นบรรทัดใหม่
    fprintf(logFile, "[%s] %s - %s\n", datetime, level, message);
}

int main() {
    FILE *logFile;
    logFile = fopen("detailed.log", "a");
    
    if (logFile == NULL) {
        perror("ข้อผิดพลาดในการเปิดไฟล์บันทึก");
        return -1;
    }
    
    logMessage(logFile, "INFO", "แอปพลิเคชันกำลังเริ่มต้น");
    // ตรรกะของแอปพลิเคชันของคุณที่นี่
    logMessage(logFile, "ERROR", "ตัวอย่างข้อผิดพลาด");
    
    fclose(logFile);
    
    return 0;
}
```

ผลลัพธ์ใน `detailed.log`:

```
[Thu Mar 10 14:32:01 2023] INFO - แอปพลิเคชันกำลังเริ่มต้น
[Thu Mar 10 14:32:02 2023] ERROR - ตัวอย่างข้อผิดพลาด
```

## ศึกษาลึกลงไป
การเก็บบันทึกในภาษา C ตามที่ได้แสดงไว้ อาศัยการดำเนินการกับไฟล์ที่ง่าย ซึ่งมีประสิทธิภาพแต่ไม่ได้มีความยืดหยุ่นหรือมีความสามารถมากเท่ากับสิ่งอำนวยความสะดวกในการเก็บบันทึกในภาษาอื่น ๆ เช่น โมดูล `logging` ของ Python หรือ `Log4j` ของ Java สำหรับความสามารถในการบันทึกขั้นสูงในภาษา C นักพัฒนามักหันไปใช้ไลบรารีเช่น `syslog` บนระบบที่คล้ายกับ Unix ซึ่งให้การจัดการบันทึกทั่วทั้งระบบ หรือไลบรารีของบุคคลที่สามเช่น `log4c`

จากมุมมองประวัติศาสตร์ การเก็บบันทึกได้เป็นส่วนหนึ่งที่ขาดไม่ได้ของการเขียนโปรแกรม ย้อนกลับไปในวิธีการโปรแกรมในยุคแรกๆ ที่การติดตามและเข้าใจการไหลของโปรแกรมและข้อผิดพลาดมักจะทำผ่านการพิมพ์ออกมาในรูปแบบของกระดาษ ตามการพัฒนาของระบบ การเก็บบันทึกกลายเป็นมีความซับซ้อนมากขึ้น โดยตอนนี้รองรับระดับความรุนแรงของบันทึกที่หลากหลาย การหมุนบันทึก และการเก็บบันทึกแบบไม่อาศัยการทำงานของเธรด

แม้ว่าไลบรารีมาตรฐานของภาษา C จะให้เครื่องมือพื้นฐานสำหรับการใช้งานการเก็บบันทึก แต่ข้อจำกัดของมันมักนำไปสู่การสร้างกรอบการเก็บบันทึกที่กำหนดเองหรือการใช้ไลบรารีภายนอกเพื่อการแก้ปัญหาการเก็บบันทึกที่มีคุณสมบัติมากขึ้นและมีความยืดหยุ่น แม้ว่าจะมีข้อจำกัดเหล่านี้ การเข้าใจและใช้งานการบันทึกในภาษา C ที่พื้นฐานเป็นสิ่งสำคัญสำหรับการดีบักและการดูแลรักษาซอฟต์แวร์ โดยเฉพาะในสภาพแวดล้อมที่ความพึ่งพาต่อตัวแปรภายนอกควรจะถูกลดลง
