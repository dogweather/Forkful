---
changelog:
- 2024-03-17, gpt-4-0125-preview, translated from English
date: 2024-03-17 21:46:21.008992-06:00
description: "\u0E01\u0E32\u0E23\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E44\u0E1F\u0E25\u0E4C\
  \u0E0A\u0E31\u0E48\u0E27\u0E04\u0E23\u0E32\u0E27\u0E43\u0E19 Go \u0E0A\u0E48\u0E27\
  \u0E22\u0E43\u0E2B\u0E49\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2A\u0E23\u0E49\u0E32\
  \u0E07\u0E44\u0E1F\u0E25\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E15\u0E49\u0E2D\
  \u0E07\u0E01\u0E32\u0E23\u0E01\u0E32\u0E23\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\
  \u0E32\u0E23\u0E40\u0E01\u0E47\u0E1A\u0E23\u0E31\u0E01\u0E29\u0E32\u0E43\u0E19\u0E23\
  \u0E30\u0E22\u0E30\u0E22\u0E32\u0E27 \u0E2D\u0E2D\u0E01\u0E41\u0E1A\u0E1A\u0E21\u0E32\
  \u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\
  \u0E23\u0E30\u0E22\u0E30\u0E2A\u0E31\u0E49\u0E19\u0E46 \u0E40\u0E0A\u0E48\u0E19\u2026"
lastmod: '2024-03-17T21:57:55.692459-06:00'
model: gpt-4-0125-preview
summary: "\u0E01\u0E32\u0E23\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E44\u0E1F\u0E25\u0E4C\
  \u0E0A\u0E31\u0E48\u0E27\u0E04\u0E23\u0E32\u0E27\u0E43\u0E19 Go \u0E0A\u0E48\u0E27\
  \u0E22\u0E43\u0E2B\u0E49\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E2A\u0E23\u0E49\u0E32\
  \u0E07\u0E44\u0E1F\u0E25\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E15\u0E49\u0E2D\
  \u0E07\u0E01\u0E32\u0E23\u0E01\u0E32\u0E23\u0E22\u0E37\u0E19\u0E22\u0E31\u0E19\u0E01\
  \u0E32\u0E23\u0E40\u0E01\u0E47\u0E1A\u0E23\u0E31\u0E01\u0E29\u0E32\u0E43\u0E19\u0E23\
  \u0E30\u0E22\u0E30\u0E22\u0E32\u0E27 \u0E2D\u0E2D\u0E01\u0E41\u0E1A\u0E1A\u0E21\u0E32\
  \u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E01\u0E32\u0E23\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\
  \u0E23\u0E30\u0E22\u0E30\u0E2A\u0E31\u0E49\u0E19\u0E46 \u0E40\u0E0A\u0E48\u0E19\
  \ \u0E01\u0E32\u0E23\u0E40\u0E01\u0E47\u0E1A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\
  \u0E0A\u0E31\u0E48\u0E27\u0E04\u0E23\u0E32\u0E27\u0E2B\u0E23\u0E37\u0E2D\u0E0A\u0E48\
  \u0E27\u0E22\u0E43\u0E19\u0E07\u0E32\u0E19\u0E1B\u0E23\u0E30\u0E21\u0E27\u0E25\u0E1C\
  \u0E25\u0E41\u0E1A\u0E1A\u0E0A\u0E38\u0E14\u0E07\u0E32\u0E19 \u0E19\u0E31\u0E01\u0E40\
  \u0E02\u0E35\u0E22\u0E19\u0E42\u0E1B\u0E23\u0E41\u0E01\u0E23\u0E21\u0E43\u0E0A\u0E49\
  \u0E04\u0E38\u0E13\u0E25\u0E31\u0E01\u0E29\u0E13\u0E30\u0E19\u0E35\u0E49\u0E40\u0E1E\
  \u0E37\u0E48\u0E2D\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E02\u0E49\u0E2D\u0E21\u0E39\
  \u0E25\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E1B\u0E25\u0E2D\u0E14\u0E20\u0E31\u0E22\u0E42\
  \u0E14\u0E22\u0E44\u0E21\u0E48\u0E2A\u0E48\u0E07\u0E1C\u0E25\u0E15\u0E48\u0E2D\u0E23\
  \u0E30\u0E1A\u0E1A\u0E44\u0E1F\u0E25\u0E4C\u0E16\u0E32\u0E27\u0E23\u0E2B\u0E23\u0E37\
  \u0E2D\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E01\u0E32\u0E23\u0E25\u0E1A\u0E14\
  \u0E49\u0E27\u0E22\u0E15\u0E19\u0E40\u0E2D\u0E07."
title: "\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E44\u0E1F\u0E25\u0E4C\u0E0A\u0E31\u0E48\u0E27\
  \u0E04\u0E23\u0E32\u0E27"
weight: 21
---

## วิธีการ:
ใน Go, แพคเกจ `ioutil` ก่อนหน้านี้ได้ให้สิ่งอำนวยความสะดวกสำหรับการสร้างไฟล์ชั่วคราว อย่างไรก็ตาม Go 1.16 ได้ส่งเสริมการใช้งานฟังก์ชั่นของแพคเกจ `os` และ `io/ioutil` ไปยังตำแหน่งที่จัดระเบียบมากขึ้น ตอนนี้แพคเกจ `os` และ `io` เป็นที่ต้องการในการจัดการไฟล์ชั่วคราว

นี่คือคู่มือขั้นตอนตามลำดับสำหรับการสร้าง การเขียน และการลบไฟล์ชั่วคราว:

1. **สร้างไฟล์ชั่วคราว:**

การใช้ฟังก์ชั่น `os.CreateTemp` คุณสามารถสร้างไฟล์ชั่วคราว หากไม่ระบุไดเรกทอรี มันจะใช้โฟลเดอร์ชั่วคราวเริ่มต้นของระบบปฏิบัติการของคุณ

```go
package main

import (
    "io/ioutil"
    "log"
    "os"
)

func main() {
    tmpFile, err := ioutil.TempFile("", "example.*.txt")
    if err != nil {
        log.Fatal(err)
    }
    log.Printf("Created temporary file: %s\n", tmpFile.Name())

    defer os.Remove(tmpFile.Name()) // การทำความสะอาด
}
```

2. **เขียนลงไฟล์ชั่วคราว:**

การเขียนลงไฟล์สามารถทำได้ด้วยวิธี `Write` หรือฟังก์ชั่นการเขียนอื่นๆ จากแพคเกจ `io` หรือ `bufio`.

```go
_, err = tmpFile.Write([]byte("Hello, World!"))
if err != nil {
    log.Fatal(err)
}
```

3. **อ่านจากไฟล์ชั่วคราว:**

การอ่านทำได้คล้ายกัน ใช้วิธี `Read` ของไฟล์ หรือใช้สิ่งอำนวยความสะดวกจากแพคเกจ `io` หรือ `bufio`.

```go
data, err := ioutil.ReadFile(tmpFile.Name())
if err != nil {
    log.Fatal(err)
}
log.Printf("Data read: %s\n", string(data))
```

4. **ลบไฟล์ชั่วคราว:**

ในขณะที่คำสั่ง `defer os.Remove(tmpFile.Name())` ในขั้นตอนการสร้างรับประกันว่าไฟล์ชั่วคราวจะถูกลบหลังจากโปรแกรมสิ้นสุด การลบอย่างชัดเจนสามารถจัดการได้ตามความจำเป็น

ตัวอย่างผลลัพธ์:
```
2023/04/01 15:00:00 ได้สร้างไฟล์ชั่วคราว: /tmp/example.123456.txt
2023/04/01 15:00:00 ข้อมูลที่อ่าน: สวัสดี, โลก!
```

## การศึกษาลึก
กลไกการจัดการไฟล์ชั่วคราวของ Go ได้พัฒนา เดิมทีการสร้างไฟล์ชั่วคราวจัดการโดยฟังก์ชั่น `ioutil.TempFile` ที่ไม่ได้ใช้แล้ว สะท้อนให้เห็นถึงแนวโน้มที่กว้างขึ้นในการพัฒนาซอฟต์แวร์ไปสู่การจัดการไฟล์ที่ปลอดภัยและมีประสิทธิภาพมากขึ้น การย้ายไปใช้ฟังก์ชั่นเหล่านี้ในแพคเกจ `os` และ `io` กับ Go 1.16 สะท้อนถึงการผลักดันอย่างกว้างขวางเพื่อปรับปรุงห้องสมุดมาตรฐานของภาษาและส encourages ให้ใช้ API ที่เป็นเอกภาพและสอดคล้องกันมากขึ้น

ในขณะที่การใช้ไฟล์ชั่วคราวเป็นปฏิบัติการทั่วไปและมักจำเป็นในการเขียนโปรแกรม สำคัญที่จะต้องทราบว่า การพึ่งพามันเกินไปสำหรับการเก็บข้อมูลจำนวนมากหรือสำหรับงานระยะยาวอาจนำไปสู่ปัญหาประสิทธิภาพ นอกจากนี้ เมื่อการสร้างไฟล์ชั่วคราวไม่ได้ถูกควบคุมอย่างเข้มงวดหรือเมื่อไม่ได้จัดการการลบอย่างเหมาะสม อาจนำไปสู่การรั่วไหลของทรัพยากรซึ่งสามารถส่งผลกระทบเชิงลบต่อระบบไฟล์ ในสถานการณ์ที่ต้องการการเก็บข้อมูลอย่างถาวรหรือต้องการจัดการกับกระแสข้อมูลขนาดใหญ่ การใช้งานทางเลือกเช่นฐานข้อมูลหรือร้านข้อมูลในหน่วยความจำมักจะนำเสนอประสิทธิภาพและความไว้วางใจที่ดีกว่าเมื่อเทียบกับไฟล์ชั่วคราว
